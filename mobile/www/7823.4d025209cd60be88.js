"use strict";(self.webpackChunkmobile=self.webpackChunkmobile||[]).push([[7823],{97823:(J,m,a)=>{a.r(m),a.d(m,{EditDisplayNamePageModule:()=>x});var d=a(88692),y=a(69900),o=a(61074),p=a(54963),u=a(8239),g=a(7026),h=a(94184),v=a(65720),f=a.t(v,2),i=a(66985),N=a(1747),P=a(61040),D=a(49808),b=a(4014),C=a(7930);function O(e,r){if(1&e&&(i.TgZ(0,"ion-row")(1,"ion-col"),i._UZ(2,"ion-icon",10),i.TgZ(3,"ion-text",11),i._uU(4),i.qZA()()()),2&e){const t=i.oxw();i.xp6(4),i.Oqu(t.displayText.errors.invalidDisplayName)}}const T=[{path:"",component:(()=>{class e{constructor(t,n,l,s,c,E,Z){this.headerType=t,this.accountService=n,this.router=l,this.modalController=s,this.editDisplayNameService=c,this.utilityService=E,this.platformService=Z,this.displayText=JSON.parse(JSON.stringify(f)).default,this.actionOption={headername:"Edit Display Name",btnleft:!0,btnright:!0,buttonLeft:{name:"",link:"settings/account-and-personal-info"},buttonRight:{name:"",link:"notification"}},this.displayNameVailid=!0,this.isWeb=this.utilityService.getIsWeb(),this.platformService.isDesktop().subscribe(S=>{this.isDesktop=S})}ionViewWillEnter(){this.headerType.publish({type:h.n.navbar,actionOption:this.actionOption}),this.fetchParticipant()}fetchParticipant(){this.subscription=this.accountService.getParticipant().subscribe(t=>{this.participantData=t})}cancel(){this.router.navigateByUrl(`/${this.isWeb&&!this.isDesktop?"more":"settings"}/account-and-personal-info`)}valueChanged(t){this.displayName=t.toString(),this.displayNameVailid=!(this.displayName.trim().length<1)}saveDisplayName(){var t=this;return(0,u.Z)(function*(){const n=yield t.modalController.create({component:g.w,cssClass:"modal-not-fullscreen",componentProps:{titleMessage:t.displayText.alert.message,imageUrl:t.displayText.alert.imageUrl,saveFunction:(l=(0,u.Z)(function*(){return new Promise(s=>{t.editDisplayNameService.saveDisplayName(t.displayName).then(c=>{s(!(!c.displayName||c.displayName!=t.displayName))})})}),function(){return l.apply(this,arguments)})}});var l;return n.onDidDismiss().then(l=>{t.modalDismissed(l)}),n.present()})()}modalDismissed(t){t.data.saved&&(this.participantData.displayName=this.displayName,this.accountService.setParticipant(this.participantData),this.cancel())}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(i.Y36(N.v),i.Y36(P.B),i.Y36(p.F0),i.Y36(o.IN),i.Y36(D.$),i.Y36(b.O),i.Y36(C.m))},e.\u0275cmp=i.Xpm({type:e,selectors:[["app-edit-display-name"]],decls:20,vars:7,consts:[[1,"ion-no-margin","p-20"],[3,"ngClass"],[1,"header"],["id","editName","name","editName","type","text","clearInput","",1,"edit-name",3,"value","ionChange"],["editNameInput",""],[4,"ngIf"],[1,"mt-42"],["size","2"],["id","cancel-btn","name","submit","shape","round","expand","block","color","btncolor","fill","outline",1,"font-12",3,"click"],["id","save-btn","name","submit","shape","round","expand","block","color","btncolor","disabled","",1,"font-12",3,"click"],["src","assets/icon/warning.svg","alt","warning",1,"error-icon"],[1,"error"]],template:function(t,n){if(1&t){const l=i.EpF();i.TgZ(0,"ion-grid",0)(1,"div",1)(2,"ion-row")(3,"ion-col")(4,"div",2),i._uU(5),i.qZA()()(),i.TgZ(6,"ion-row")(7,"ion-col")(8,"ion-input",3,4),i.NdJ("ionChange",function(){i.CHM(l);const c=i.MAs(9);return i.KtG(n.valueChanged(c.value))}),i.qZA()()(),i.YNc(10,O,5,1,"ion-row",5),i.TgZ(11,"ion-row",6),i._UZ(12,"ion-col",7),i.TgZ(13,"ion-col")(14,"ion-button",8),i.NdJ("click",function(){return n.cancel()}),i._uU(15),i.qZA()(),i.TgZ(16,"ion-col")(17,"ion-button",9),i.NdJ("click",function(){return n.saveDisplayName()}),i._uU(18),i.qZA()(),i._UZ(19,"ion-col",7),i.qZA()()()}2&t&&(i.xp6(1),i.Q6J("ngClass",n.isWeb?"web-edit-display-name":"mobile-edit-display-name"),i.xp6(4),i.Oqu(n.displayText.nameLabel),i.xp6(3),i.Q6J("value",null==n.participantData?null:n.participantData.displayName),i.xp6(2),i.Q6J("ngIf",!n.displayNameVailid),i.xp6(5),i.hij("",n.displayText.button.cancel," "),i.xp6(2),i.uIk("disabled",!n.displayNameVailid),i.xp6(1),i.hij("",n.displayText.button.save," "))},dependencies:[d.mk,d.O5,o.YG,o.wI,o.jY,o.gu,o.pK,o.Nd,o.yW,o.j9],styles:["[_nghost-%COMP%]{background-color:var(--ion-color-white)}[_nghost-%COMP%]   .edit-name[_ngcontent-%COMP%]{border:1px solid var(--secondary-colors-medium-gray-2);border-radius:4px;width:auto;color:var(--primary-colors-voya-black);--padding-start: 16px;height:56px}[_nghost-%COMP%]   .error[_ngcontent-%COMP%]{color:var(--secondary-colors-error-red);margin-left:4px;vertical-align:top}[_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%]{width:22px;height:22px;margin-left:4px;fill:var(--secondary-colors-error-red)}[_nghost-%COMP%]   .error-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-color:var(--secondary-colors-error-red)!important}[_nghost-%COMP%]   .error-title[_ngcontent-%COMP%]{color:var(--secondary-colors-error-red)}[_nghost-%COMP%]   .web-edit-display-name[_ngcontent-%COMP%]{margin:20px}"]}),e})()}];let M=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[p.Bz.forChild(T),p.Bz]}),e})(),x=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=i.oAB({type:e}),e.\u0275inj=i.cJS({imports:[d.ez,y.u5,o.Pc,M]}),e})()}}]);