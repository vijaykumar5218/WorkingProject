{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../journey.service\";\nimport * as i2 from \"@angular/common\";\nexport let JourneyUtilityService = /*#__PURE__*/(() => {\n  class JourneyUtilityService {\n    constructor(journeyService, currencyPipe) {\n      this.journeyService = journeyService;\n      this.currencyPipe = currencyPipe;\n    }\n\n    processInnerHTMLData(str, elements, journeyId) {\n      let result = str;\n      elements.forEach((ele, i) => {\n        let answer = this.journeyService.journeyServiceMap[journeyId][ele.answerId];\n\n        if (answer !== undefined && str) {\n          if (ele.type === 'dollar') {\n            answer = this.currencyPipe.transform(answer, 'USD', true, '1.0-0');\n          }\n\n          if (ele.bold) {\n            answer = '<strong>' + answer + '</strong>';\n          }\n\n          if (ele.textColor) {\n            answer = `<span style=\"color:${ele.textColor}\">${answer}</span>`;\n          }\n\n          result = result.replace('{' + i + '}', answer);\n        }\n      });\n      return result;\n    }\n\n    updateRadioStateValue(answer, radioButtonFilled, element, requiredCompleted, elements) {\n      let stringifiedAnswer = JSON.stringify(answer);\n\n      if (stringifiedAnswer === '{}') {\n        stringifiedAnswer = '';\n      }\n\n      if ((requiredCompleted || !elements) && (radioButtonFilled || !element.isRequired)) {\n        return stringifiedAnswer;\n      } else {\n        return undefined;\n      }\n    }\n\n    radioButtonClick(element, isToggle, option, idSuffix) {\n      let answer;\n      this.elements = [];\n      let isRequiredValidObj;\n      element.options.forEach(ele => {\n        if (ele === option) {\n          option.checked = this.setCheckedValue(isToggle, option);\n\n          if (option.checked) {\n            answer = option.id;\n            isRequiredValidObj = this.setElements(option.elements, isToggle, idSuffix);\n          } else if (isToggle && !option.checked) {\n            this.elements = [];\n          }\n        } else {\n          ele.checked = false;\n        }\n      });\n      return {\n        value: answer,\n        isRequiredValid: isRequiredValidObj === undefined ? false : isRequiredValidObj.isRequiredValid,\n        elements: isRequiredValidObj === undefined ? [] : isRequiredValidObj.elements,\n        element: element\n      };\n    }\n\n    setCheckedValue(isToggle, option) {\n      return isToggle ? !option.checked : true;\n    }\n\n    setElements(elements, isToggle, idSuffix) {\n      let valid = false;\n      elements === null || elements === void 0 ? void 0 : elements.forEach((el, i) => {\n        el.idSuffix = idSuffix + i;\n\n        if (this.checkValidation(el) && !isToggle) {\n          valid = true;\n        }\n      });\n      this.elements = elements;\n      return {\n        isRequiredValid: valid,\n        elements: elements,\n        value: ''\n      };\n    }\n\n    checkValidation(element) {\n      return element.isRequired ? true : false;\n    }\n\n    addAccountIconName(accounts, linkedId) {\n      let selectedAccount;\n      accounts === null || accounts === void 0 ? void 0 : accounts.forEach(acct => {\n        if (acct.guid === linkedId) {\n          selectedAccount = acct;\n          acct.radioButtonIconName = 'radio-button-on';\n        } else {\n          acct.radioButtonIconName = 'radio-button-off';\n        }\n      });\n      return selectedAccount;\n    }\n\n  }\n\n  JourneyUtilityService.ɵfac = function JourneyUtilityService_Factory(t) {\n    return new (t || JourneyUtilityService)(i0.ɵɵinject(i1.JourneyService), i0.ɵɵinject(i2.CurrencyPipe));\n  };\n\n  JourneyUtilityService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: JourneyUtilityService,\n    factory: JourneyUtilityService.ɵfac,\n    providedIn: 'root'\n  });\n  return JourneyUtilityService;\n})();","map":null,"metadata":{},"sourceType":"module"}