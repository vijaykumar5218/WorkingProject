{"ast":null,"code":"import * as pageText from '@shared-lib/services/account/models/retirement-account/info/info-tab.json';\nimport { HeaderType } from '@shared-lib/constants/headerType.enum';\nimport { FooterType } from '@shared-lib/modules/footer/constants/footerType.enum';\nimport { NetWorthComponent } from '@shared-lib/components/net-worth/net-worth.component';\nimport { BudgetWidgetComponent } from '@shared-lib/modules/accounts/components/budget-widget/budget-widget.component';\nimport { SpendingWidgetComponent } from '@shared-lib/modules/accounts/components/spending-widget/spending-widget.component';\nimport { ACCOUNT_LIFECYCLE_EVENTS } from '../account.page';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@shared-lib/services/header-type/header-type.service\";\nimport * as i2 from \"@shared-lib/modules/footer/services/footer-type/footer-type.service\";\nimport * as i3 from \"@shared-lib/services/account/account.service\";\nimport * as i4 from \"@shared-lib/services/mx-service/mx.service\";\nimport * as i5 from \"@angular/router\";\nimport * as i6 from \"@shared-lib/modules/event-manager/event-manager/event-manager.service\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"../../../../../../../shared-lib/components/mx-error/mxerror.component\";\nimport * as i9 from \"../../../../../../../shared-lib/components/net-worth/net-worth.component\";\nimport * as i10 from \"../../../../../../../shared-lib/modules/accounts/components/account-summary/account-summary.component\";\nimport * as i11 from \"../../../../../../../shared-lib/modules/accounts/components/mx-account-list/mx-account-list.component\";\nimport * as i12 from \"@ionic/angular\";\nimport * as i13 from \"../../../../../../../shared-lib/modules/accounts/components/spending-widget/spending-widget.component\";\nimport * as i14 from \"../../../../../../../shared-lib/modules/accounts/components/budget-widget/budget-widget.component\";\n\nfunction SummaryComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 12);\n  }\n}\n\nfunction SummaryComponent_ion_text_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-text\", 13);\n    i0.ɵɵlistener(\"click\", function SummaryComponent_ion_text_13_Template_ion_text_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.handleManageAccountClick();\n    });\n    i0.ɵɵelementStart(1, \"a\", 14);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r1.pageText.manageAccounts);\n  }\n}\n\nfunction SummaryComponent_ion_card_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-card\");\n    i0.ɵɵelement(1, \"app-spending-widget\", 15);\n    i0.ɵɵelement(2, \"app-budget-widget\", 16);\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let SummaryComponent = /*#__PURE__*/(() => {\n  class SummaryComponent {\n    constructor(headerType, footerType, accountService, mxService, router, eventManagerService) {\n      this.headerType = headerType;\n      this.footerType = footerType;\n      this.accountService = accountService;\n      this.mxService = mxService;\n      this.router = router;\n      this.eventManagerService = eventManagerService;\n      this.pageText = JSON.parse(JSON.stringify(pageText)).default;\n      this.hasMXUser = false;\n      this.showManageAccounts = false;\n      this.actionOption = {\n        headername: 'Accounts',\n        btnright: true,\n        buttonRight: {\n          name: '',\n          link: 'notification'\n        }\n      };\n      this.firstLoad = true;\n    }\n\n    ngOnInit() {\n      this.subscription = this.mxService.getMxAccountConnect().subscribe(data => {\n        this.showManageAccounts = data.accounts.length > 0;\n      });\n      this.mxUserSubscription = this.mxService.hasUser().subscribe(hasMXUser => {\n        this.hasMXUser = hasMXUser;\n      });\n    }\n\n    ionViewWillEnter() {\n      this.headerType.publish({\n        type: HeaderType.navbar,\n        actionOption: this.actionOption\n      });\n      this.footerType.publish({\n        type: FooterType.tabsnav,\n        selectedTab: 'account'\n      });\n      this.accountService.publishSelectedTab('summary');\n      this.getAccountSummary();\n\n      if (!this.firstLoad) {\n        this.netWorthWidget.widget.refreshWidget();\n        this.spendingWidget.widget.refreshWidget();\n        this.budgethWidget.widget.refreshWidget();\n      }\n    }\n\n    ionViewDidEnter() {\n      if (this.firstLoad) {\n        this.eventsSubscription = this.eventManagerService.createSubscriber(ACCOUNT_LIFECYCLE_EVENTS).subscribe(this.ionViewWillEnter.bind(this));\n      }\n\n      this.firstLoad = false;\n    }\n\n    getAccountSummary() {\n      this.accountService.getJSON().then(data => {\n        this.accounts = data;\n      });\n    }\n\n    sendtitle(account) {\n      if (account.isVoyaAccessPlan || account.sourceSystem == 'NQPenCalPlan') {\n        return;\n      }\n\n      this.accountService.setAccount(account);\n      this.router.navigateByUrl('/account/retirement-account');\n    }\n\n    routeToMXAccount() {\n      this.router.navigateByUrl('/account/mxdetails-account');\n    }\n\n    handleManageAccountClick() {\n      this.router.navigateByUrl('/account/manage-accounts');\n    }\n\n    handleAddAccountClick() {\n      this.router.navigateByUrl('/account/add-accounts');\n    }\n\n    ngOnDestroy() {\n      this.subscription.unsubscribe();\n      this.mxUserSubscription.unsubscribe();\n      this.eventsSubscription.unsubscribe();\n    }\n\n  }\n\n  SummaryComponent.ɵfac = function SummaryComponent_Factory(t) {\n    return new (t || SummaryComponent)(i0.ɵɵdirectiveInject(i1.HeaderTypeService), i0.ɵɵdirectiveInject(i2.FooterTypeService), i0.ɵɵdirectiveInject(i3.AccountService), i0.ɵɵdirectiveInject(i4.MXService), i0.ɵɵdirectiveInject(i5.Router), i0.ɵɵdirectiveInject(i6.EventManagerService));\n  };\n\n  SummaryComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SummaryComponent,\n    selectors: [[\"app-summary\"]],\n    viewQuery: function SummaryComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(NetWorthComponent, 5);\n        i0.ɵɵviewQuery(SpendingWidgetComponent, 5);\n        i0.ɵɵviewQuery(BudgetWidgetComponent, 5);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.netWorthWidget = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.spendingWidget = _t.first);\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.budgethWidget = _t.first);\n      }\n    },\n    decls: 15,\n    vars: 5,\n    consts: [[\"id\", \"background-container\", 4, \"ngIf\"], [\"tagName\", \"mx-net-worth-accounts\"], [\"id\", \"account-info\", 3, \"accounts\", \"clickedAccountInfo\"], [3, \"mxAccountClicked\"], [1, \"mt-10\"], [1, \"margins\"], [\"id\", \"addaccount\", \"name\", \"Add Account\", \"shape\", \"round\", \"expand\", \"block\", \"color\", \"btncolor\", 1, \"font-18\", \"btnview\", 3, \"click\"], [\"slot\", \"start\", \"name\", \"add-circle-outline\", 1, \"font\"], [1, \"manage-accounts-row\"], [1, \"ion-text-center\", \"managetext\"], [\"id\", \"manage-accounts\", 3, \"click\", 4, \"ngIf\"], [4, \"ngIf\"], [\"id\", \"background-container\"], [\"id\", \"manage-accounts\", 3, \"click\"], [1, \"linkcolor\", \"underline\"], [\"tagName\", \"mx-spending-widget-accounts\"], [\"tagName\", \"mx-budget-widget-accounts\"]],\n    template: function SummaryComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\");\n        i0.ɵɵtemplate(1, SummaryComponent_div_1_Template, 1, 0, \"div\", 0);\n        i0.ɵɵelement(2, \"app-mxerror\");\n        i0.ɵɵelement(3, \"app-net-worth\", 1);\n        i0.ɵɵelementStart(4, \"app-account-summary\", 2);\n        i0.ɵɵlistener(\"clickedAccountInfo\", function SummaryComponent_Template_app_account_summary_clickedAccountInfo_4_listener($event) {\n          return ctx.sendtitle($event);\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"app-mx-account-list\", 3);\n        i0.ɵɵlistener(\"mxAccountClicked\", function SummaryComponent_Template_app_mx_account_list_mxAccountClicked_5_listener() {\n          return ctx.routeToMXAccount();\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"ion-row\", 4);\n        i0.ɵɵelementStart(7, \"ion-col\", 5);\n        i0.ɵɵelementStart(8, \"ion-button\", 6);\n        i0.ɵɵlistener(\"click\", function SummaryComponent_Template_ion_button_click_8_listener() {\n          return ctx.handleAddAccountClick();\n        });\n        i0.ɵɵtext(9);\n        i0.ɵɵelement(10, \"ion-icon\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"ion-row\", 8);\n        i0.ɵɵelementStart(12, \"ion-col\", 9);\n        i0.ɵɵtemplate(13, SummaryComponent_ion_text_13_Template, 3, 1, \"ion-text\", 10);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(14, SummaryComponent_ion_card_14_Template, 3, 0, \"ion-card\", 11);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.hasMXUser);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"accounts\", ctx.accounts);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\"\", ctx.pageText.addAccount, \" \");\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngIf\", ctx.showManageAccounts);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.hasMXUser);\n      }\n    },\n    directives: [i7.NgIf, i8.MXErrorComponent, i9.NetWorthComponent, i10.AccountSummaryComponent, i11.MXAccountListComponent, i12.IonRow, i12.IonCol, i12.IonButton, i12.IonIcon, i12.IonText, i12.IonCard, i13.SpendingWidgetComponent, i14.BudgetWidgetComponent],\n    styles: [\"#background-container[_ngcontent-%COMP%]{background:linear-gradient(var(--primary-colors-voya-dark-blue),var(--white));height:280px;margin-bottom:74px;position:absolute;width:100%;top:0}#background-container[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%]{padding:0}ion-card[_ngcontent-%COMP%]{--color: var(--primary-colors-voya-black);font-size:16px;border-radius:var(--card-border-radius);box-shadow:var(--card-box-shadow);padding:20px;margin:20px}ion-row[_ngcontent-%COMP%]{padding:0}ion-row.manage-accounts-row[_ngcontent-%COMP%]{margin-bottom:30px}ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:0}ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .managetext[_ngcontent-%COMP%]{width:111px;height:24px;margin:0 auto}ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .btnview[_ngcontent-%COMP%]{width:186px;height:40px;margin:22px auto;border-radius:20px}ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}\"]\n  });\n  return SummaryComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}