{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport * as pageText from './constants/popup-input-text.json';\nimport { PopupInputType } from './constants/popup-input-type.enum';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@shared-lib/services/utility/utility.service\";\nimport * as i4 from \"./directives/integer-input.directive\";\nimport * as i5 from \"@thiagoprz/ionic-currency-mask\";\n\nfunction PopupInputDialogComponent_ion_input_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-input\", 14, 15);\n    i0.ɵɵlistener(\"ionChange\", function PopupInputDialogComponent_ion_input_9_Template_ion_input_ionChange_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n\n      const _r6 = i0.ɵɵreference(1);\n\n      const ctx_r7 = i0.ɵɵnextContext();\n      return ctx_r7.valueChanged(_r6.value);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r0.value);\n    i0.ɵɵproperty(\"ngClass\", ctx_r0.invalid ? \"error-input\" : \"\");\n  }\n}\n\nfunction PopupInputDialogComponent_ion_input_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-input\", 16, 15);\n    i0.ɵɵlistener(\"ionChange\", function PopupInputDialogComponent_ion_input_10_Template_ion_input_ionChange_0_listener() {\n      i0.ɵɵrestoreView(_r11);\n\n      const _r9 = i0.ɵɵreference(1);\n\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.valueChanged(_r9.value);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r1.value);\n    i0.ɵɵproperty(\"ngClass\", ctx_r1.invalid ? \"error-input\" : \"\");\n  }\n}\n\nfunction PopupInputDialogComponent_ion_input_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-input\", 17, 18);\n    i0.ɵɵlistener(\"ionChange\", function PopupInputDialogComponent_ion_input_11_Template_ion_input_ionChange_0_listener() {\n      i0.ɵɵrestoreView(_r14);\n\n      const _r12 = i0.ɵɵreference(1);\n\n      const ctx_r13 = i0.ɵɵnextContext();\n      return ctx_r13.valueChanged(_r12.value);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r2.value);\n    i0.ɵɵproperty(\"ngClass\", ctx_r2.invalid ? \"error-input\" : \"\");\n  }\n}\n\nfunction PopupInputDialogComponent_ion_input_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-input\", 19, 20);\n    i0.ɵɵlistener(\"ionChange\", function PopupInputDialogComponent_ion_input_12_Template_ion_input_ionChange_0_listener() {\n      i0.ɵɵrestoreView(_r17);\n\n      const _r15 = i0.ɵɵreference(1);\n\n      const ctx_r16 = i0.ɵɵnextContext();\n      return ctx_r16.valueChanged(_r15.value, ctx_r16.inputType);\n    });\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r3.value);\n    i0.ɵɵproperty(\"ngClass\", ctx_r3.invalid ? \"error-input\" : \"\");\n  }\n}\n\nfunction PopupInputDialogComponent_ion_input_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r20 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-input\", 21, 22);\n    i0.ɵɵlistener(\"beforeinput\", function PopupInputDialogComponent_ion_input_13_Template_ion_input_beforeinput_0_listener($event) {\n      i0.ɵɵrestoreView(_r20);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return ctx_r19.beforeInput($event);\n    })(\"ionChange\", function PopupInputDialogComponent_ion_input_13_Template_ion_input_ionChange_0_listener() {\n      i0.ɵɵrestoreView(_r20);\n\n      const _r18 = i0.ɵɵreference(1);\n\n      const ctx_r21 = i0.ɵɵnextContext();\n      return ctx_r21.valueChanged(_r18.value);\n    });\n    i0.ɵɵelementStart(2, \"span\", 23);\n    i0.ɵɵtext(3, \"$\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r4.value);\n    i0.ɵɵproperty(\"ngClass\", ctx_r4.invalid ? \"error-input\" : \"\");\n  }\n}\n\nfunction PopupInputDialogComponent_ion_icon_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 24);\n  }\n}\n\nexport let PopupInputDialogComponent = /*#__PURE__*/(() => {\n  class PopupInputDialogComponent {\n    constructor(modalController, currencyPipe, utilityService) {\n      this.modalController = modalController;\n      this.currencyPipe = currencyPipe;\n      this.utilityService = utilityService;\n      this.allInputTypes = PopupInputType;\n      this.saving = false;\n      this.invalid = false;\n      this.pageText = JSON.parse(JSON.stringify(pageText)).default;\n    }\n\n    ngOnInit() {\n      if (this.inputType == PopupInputType.currency) {\n        const tempVal = this.currencyPipe.transform(this.value, 'USD', true, '1.2-2');\n        this.value = tempVal.substring(1, tempVal.length);\n      }\n    }\n\n    beforeInput(event) {\n      const pattern = /[0-9]/;\n\n      if (event.data !== null && !pattern.test(event.data)) {\n        event.preventDefault();\n        return false;\n      }\n\n      return true;\n    }\n\n    valueChanged(val, inputType) {\n      this.value = val === null || val === void 0 ? void 0 : val.toString();\n\n      if (inputType === this.allInputTypes.phone) {\n        this.value = this.utilityService.formatPhone(val);\n      }\n\n      this.invalid = false;\n\n      if (this.validator) {\n        this.errorText = this.validator(this.getCleanedValue(val));\n\n        if (this.errorText) {\n          this.invalid = true;\n        }\n      }\n    }\n\n    closeDialog(saved = false) {\n      this.modalController.dismiss({\n        saved: saved\n      });\n    }\n\n    getCleanedValue(val) {\n      if (typeof val === 'string' || val instanceof String) {\n        return val.replace(/,/g, '');\n      }\n\n      return val;\n    }\n\n    closeDialogClicked(save) {\n      return __awaiter(this, void 0, void 0, function* () {\n        if (save) {\n          //Validate  again. To make sure an unaltered value should be saved.\n          if (this.validator) {\n            this.errorText = this.validator(this.getCleanedValue(this.value));\n\n            if (this.errorText) {\n              this.invalid = true;\n              return;\n            }\n          }\n\n          this.saving = true;\n\n          if (this.saveFunction) {\n            const result = yield this.saveFunction(this.getCleanedValue(this.value));\n\n            if (result) {\n              this.closeDialog(true);\n            } else {\n              this.errorText = this.pageText.failedToSave;\n              this.saving = false;\n            }\n          } else {\n            this.closeDialog();\n          }\n        } else {\n          this.closeDialog();\n        }\n      });\n    }\n\n  }\n\n  PopupInputDialogComponent.ɵfac = function PopupInputDialogComponent_Factory(t) {\n    return new (t || PopupInputDialogComponent)(i0.ɵɵdirectiveInject(i1.ModalController), i0.ɵɵdirectiveInject(i2.CurrencyPipe), i0.ɵɵdirectiveInject(i3.SharedUtilityService));\n  };\n\n  PopupInputDialogComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PopupInputDialogComponent,\n    selectors: [[\"app-popup-input-dialog\"]],\n    inputs: {\n      title: \"title\",\n      inputTitle: \"inputTitle\",\n      value: \"value\",\n      inputType: \"inputType\"\n    },\n    decls: 23,\n    vars: 16,\n    consts: [[1, \"popup-input-dialog\"], [\"tabindex\", \"0\", 1, \"float-right\", 3, \"hidden\", \"click\", \"keyup.enter\"], [\"id\", \"close-dialog\", \"src\", \"assets/icon/exit.svg\", \"alt\", \"Close dialog\"], [1, \"input-title\", 3, \"ngClass\"], [\"type\", \"tel\", \"appIntegerInput\", \"\", \"class\", \"dialog-input\", \"id\", \"editInput\", 3, \"value\", \"ngClass\", \"ionChange\", 4, \"ngIf\"], [\"type\", \"tel\", \"class\", \"dialog-input\", \"id\", \"editInput\", 3, \"value\", \"ngClass\", \"ionChange\", 4, \"ngIf\"], [\"type\", \"email\", \"id\", \"editPhoneEmail\", \"class\", \"edit-email\", \"name\", \"editEmail\", \"inputmode\", \"email\", \"pattern\", \"email\", \"autocomplete\", \"email\", \"clearInput\", \"\", 3, \"value\", \"ngClass\", \"ionChange\", 4, \"ngIf\"], [\"class\", \"dialog-input\", \"id\", \"editPhoneInput\", \"name\", \"editPhone\", \"type\", \"text\", \"pattern\", \"[0-9]{3} [0-9]{3} [0-9]{4}\", \"maxlength\", \"12\", \"inputmode\", \"numeric\", \"clearInput\", \"\", 3, \"value\", \"ngClass\", \"ionChange\", 4, \"ngIf\"], [\"id\", \"editCurrencyInput\", \"class\", \"currency-input\", \"maxlength\", \"11\", \"type\", \"tel\", \"placeholder\", \"0.00\", \"currencyMask\", \"\", \"decimal\", \".\", \"thousand\", \",\", 3, \"value\", \"ngClass\", \"beforeinput\", \"ionChange\", 4, \"ngIf\"], [\"class\", \"error-icon\", \"src\", \"assets/icon/warning.svg\", \"alt\", \"warning\", \"id\", \"warning-img\", 4, \"ngIf\"], [1, \"error\"], [\"tabindex\", \"0\", \"name\", \"submit\", \"shape\", \"round\", \"expand\", \"block\", \"type\", \"submit\", \"color\", \"btncolor\", \"id\", \"save-btn\", 1, \"font-18\", \"save-button\", 3, \"click\"], [1, \"save-spinner\", 3, \"hidden\"], [\"tabindex\", \"0\", \"disabled\", \"\", \"id\", \"cancel-btn\", 1, \"cancel-button\", 3, \"click\", \"keyup.enter\"], [\"type\", \"tel\", \"appIntegerInput\", \"\", \"id\", \"editInput\", 1, \"dialog-input\", 3, \"value\", \"ngClass\", \"ionChange\"], [\"numberInput\", \"\"], [\"type\", \"tel\", \"id\", \"editInput\", 1, \"dialog-input\", 3, \"value\", \"ngClass\", \"ionChange\"], [\"type\", \"email\", \"id\", \"editPhoneEmail\", \"name\", \"editEmail\", \"inputmode\", \"email\", \"pattern\", \"email\", \"autocomplete\", \"email\", \"clearInput\", \"\", 1, \"edit-email\", 3, \"value\", \"ngClass\", \"ionChange\"], [\"editEmailInput\", \"\"], [\"id\", \"editPhoneInput\", \"name\", \"editPhone\", \"type\", \"text\", \"pattern\", \"[0-9]{3} [0-9]{3} [0-9]{4}\", \"maxlength\", \"12\", \"inputmode\", \"numeric\", \"clearInput\", \"\", 1, \"dialog-input\", 3, \"value\", \"ngClass\", \"ionChange\"], [\"editPhoneInput\", \"\"], [\"id\", \"editCurrencyInput\", \"maxlength\", \"11\", \"type\", \"tel\", \"placeholder\", \"0.00\", \"currencyMask\", \"\", \"decimal\", \".\", \"thousand\", \",\", 1, \"currency-input\", 3, \"value\", \"ngClass\", \"beforeinput\", \"ionChange\"], [\"currencyInput\", \"\"], [1, \"dollar-symbol\"], [\"src\", \"assets/icon/warning.svg\", \"alt\", \"warning\", \"id\", \"warning-img\", 1, \"error-icon\"]],\n    template: function PopupInputDialogComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-card\", 0);\n        i0.ɵɵelementStart(1, \"ion-card-header\");\n        i0.ɵɵelementStart(2, \"ion-card-title\");\n        i0.ɵɵtext(3);\n        i0.ɵɵelementStart(4, \"span\", 1);\n        i0.ɵɵlistener(\"click\", function PopupInputDialogComponent_Template_span_click_4_listener() {\n          return ctx.closeDialogClicked(false);\n        })(\"keyup.enter\", function PopupInputDialogComponent_Template_span_keyup_enter_4_listener() {\n          return ctx.closeDialogClicked(false);\n        });\n        i0.ɵɵelement(5, \"img\", 2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"ion-card-content\");\n        i0.ɵɵelementStart(7, \"div\", 3);\n        i0.ɵɵtext(8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(9, PopupInputDialogComponent_ion_input_9_Template, 2, 2, \"ion-input\", 4);\n        i0.ɵɵtemplate(10, PopupInputDialogComponent_ion_input_10_Template, 2, 2, \"ion-input\", 5);\n        i0.ɵɵtemplate(11, PopupInputDialogComponent_ion_input_11_Template, 2, 2, \"ion-input\", 6);\n        i0.ɵɵtemplate(12, PopupInputDialogComponent_ion_input_12_Template, 2, 2, \"ion-input\", 7);\n        i0.ɵɵtemplate(13, PopupInputDialogComponent_ion_input_13_Template, 4, 2, \"ion-input\", 8);\n        i0.ɵɵtemplate(14, PopupInputDialogComponent_ion_icon_14_Template, 1, 0, \"ion-icon\", 9);\n        i0.ɵɵelementStart(15, \"ion-text\", 10);\n        i0.ɵɵtext(16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"div\");\n        i0.ɵɵelementStart(18, \"ion-button\", 11);\n        i0.ɵɵlistener(\"click\", function PopupInputDialogComponent_Template_ion_button_click_18_listener() {\n          return ctx.closeDialogClicked(true);\n        });\n        i0.ɵɵelement(19, \"ion-spinner\", 12);\n        i0.ɵɵtext(20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"ion-button\", 13);\n        i0.ɵɵlistener(\"click\", function PopupInputDialogComponent_Template_ion_button_click_21_listener() {\n          return ctx.closeDialogClicked(false);\n        })(\"keyup.enter\", function PopupInputDialogComponent_Template_ion_button_keyup_enter_21_listener() {\n          return ctx.closeDialogClicked(false);\n        });\n        i0.ɵɵtext(22);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.title);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"hidden\", ctx.saving);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngClass\", ctx.invalid ? \"error-title\" : \"\");\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", ctx.inputTitle, \" \");\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.inputType == ctx.allInputTypes.number);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.inputType == ctx.allInputTypes.text);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.inputType == ctx.allInputTypes.email);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.inputType == ctx.allInputTypes.phone);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.inputType == ctx.allInputTypes.currency);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.invalid);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.errorText);\n        i0.ɵɵadvance(2);\n        i0.ɵɵattribute(\"disabled\", ctx.invalid || ctx.saving);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"hidden\", !ctx.saving);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", ctx.pageText.save, \" \");\n        i0.ɵɵadvance(1);\n        i0.ɵɵattribute(\"disabled\", ctx.saving);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\" \", ctx.pageText.cancel, \" \");\n      }\n    },\n    directives: [i2.NgClass, i2.NgIf, i4.IntegerInputDirective, i5.CurrencyMaskDirective],\n    styles: [\".popup-input-dialog[_ngcontent-%COMP%]{margin:auto;width:80%}.popup-input-dialog[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:18px;font-weight:bold;line-height:1.33;letter-spacing:.03px;color:var(--primary-colors-voya-black)}.popup-input-dialog[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:right;cursor:pointer}.popup-input-dialog[_ngcontent-%COMP%]   .input-title[_ngcontent-%COMP%]{font-size:16px;line-height:1.25;letter-spacing:.08px;color:var(--primary-colors-voya-black);margin-bottom:14px}.popup-input-dialog[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--padding-start: 10px;border-radius:5px;border:solid 1px var(--secondary-colors-voya-gray)!important;background-color:var(--primary-colors-voya-white);margin-bottom:8px}.popup-input-dialog[_ngcontent-%COMP%]   ion-input.currency-input[_ngcontent-%COMP%]{--padding-start: 18px}.popup-input-dialog[_ngcontent-%COMP%]   .dollar-symbol[_ngcontent-%COMP%]{position:absolute;left:8px}.popup-input-dialog[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{width:120px;height:40px;margin:10px auto auto;font-weight:600;align-items:center;grid-gap:10px;gap:10px;border-radius:20px;background-color:var(--primary-colors-voya-dark-blue)}.popup-input-dialog[_ngcontent-%COMP%]   .save-spinner[_ngcontent-%COMP%]{margin-right:8px}.popup-input-dialog[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{width:60px;height:26.5px;font-size:18px;line-height:1.56;text-align:center;font-weight:normal;color:var(--primary-colors-voya-dark-blue);margin:21.5px auto;text-decoration:underline;text-underline-offset:3px;display:block;--background: none;--box-shadow: none}.popup-input-dialog[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:var(--secondary-colors-error-red);margin-left:4px;vertical-align:top}.popup-input-dialog[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{width:22px;height:22px;margin-left:4px;fill:var(--secondary-colors-error-red)}.popup-input-dialog[_ngcontent-%COMP%]   .error-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-color:var(--secondary-colors-error-red)!important}.popup-input-dialog[_ngcontent-%COMP%]   .error-title[_ngcontent-%COMP%]{color:var(--secondary-colors-error-red)}\"]\n  });\n  return PopupInputDialogComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}