{"ast":null,"code":"define(['./util/CalcUtilities'], function (CalcUtilities) {\n  //  Constructor\n  var RetireBenefitEvalResponse = function () {\n    //  Private var declarations ------------------------------------\n    var _estFromDCBalance = 0;\n    var _estFromEmployee = 0;\n    var _estFromEmployer = 0;\n    var _estFromSocialSecurity = 0;\n    var _estFromPension = 0;\n    var _estFromPensionAsIncome = 0;\n    var _estFromOther = 0;\n    var _estFromIncome = 0;\n    var _fromNewLoanBalanceImpact = 0;\n    var _fromNewLoanRepayment = 0;\n    var _fromExistingLoanRepayment = 0;\n    var _annuityRate = 0;\n    var _inflationDiscount = 0;\n    var _yearsToRetire = 0; // accumulation years\n\n    var _monthlySalaryReplacement = 0.0; // adjusted and monthly replacement salary\n    // 170530\n\n    var _replacementRatio = 0.0;\n    var _currentAnnualSalary = 0.0; // original salary\n    // 170612\n\n    var _loanContribDropValue = 0.0; // benefit value drop (or difference) from stopping contributions to account with modeled loan \n\n    var _adjustedAnnualSalary = 0.0; //  Privileged Method Declarations ------------------------------------\n\n    this.getInflationDiscount = function () {\n      return _inflationDiscount;\n    };\n\n    this.setInflationDiscount = function (d) {\n      _inflationDiscount = d;\n    };\n\n    this.getAnnuityRate = function () {\n      return _annuityRate;\n    };\n\n    this.setAnnuityRate = function (d) {\n      _annuityRate = d;\n    };\n\n    this.getYearsToRetire = function () {\n      return _yearsToRetire;\n    };\n\n    this.setYearsToRetire = function (n) {\n      _yearsToRetire = n;\n    };\n\n    this.getReplacementRatio = function () {\n      return _replacementRatio;\n    };\n\n    this.setReplacementRatio = function (d) {\n      _replacementRatio = d;\n    };\n\n    this.getCurrentAnnualSalary = function () {\n      return _currentAnnualSalary;\n    };\n\n    this.setCurrentAnnualSalary = function (d) {\n      _currentAnnualSalary = d;\n    };\n\n    this.getAdjustedAnnualSalary = function () {\n      return _adjustedAnnualSalary;\n    };\n\n    this.setAdjustedAnnualSalary = function (d) {\n      _adjustedAnnualSalary = d;\n    };\n\n    this.getMonthlyEstimateFromDCBalance = function () {\n      return _estFromDCBalance;\n    };\n\n    this.setMonthlyEstimateFromDCBalance = function (d) {\n      _estFromDCBalance = d;\n    };\n\n    this.getMonthlyEstimateFromEmployee = function () {\n      return _estFromEmployee;\n    };\n\n    this.setMonthlyEstimateFromEmployee = function (d) {\n      _estFromEmployee = d;\n    };\n\n    this.getMonthlyEstimateFromEmployer = function () {\n      return _estFromEmployer;\n    };\n\n    this.setMonthlyEstimateFromEmployer = function (d) {\n      _estFromEmployer = d;\n    };\n\n    this.getMonthlyEstimateFromSocialSecurity = function () {\n      return _estFromSocialSecurity;\n    };\n\n    this.setMonthlyEstimateFromSocialSecurity = function (d) {\n      _estFromSocialSecurity = d;\n    };\n\n    this.getMonthlyEstimateFromPension = function () {\n      return _estFromPension;\n    };\n\n    this.setMonthlyEstimateFromPension = function (d) {\n      _estFromPension = d;\n    };\n\n    this.getMonthlyEstimateFromPensionAsIncome = function () {\n      return _estFromPensionAsIncome;\n    };\n\n    this.setMonthlyEstimateFromPensionAsIncome = function (d) {\n      _estFromPensionAsIncome = d;\n    };\n\n    this.getMonthlyEstimateFromOther = function () {\n      return _estFromOther;\n    };\n\n    this.setMonthlyEstimateFromOther = function (d) {\n      _estFromOther = d;\n    };\n\n    this.getMonthlyEstimateFromIncome = function () {\n      return _estFromIncome;\n    };\n\n    this.setMonthlyEstimateFromIncome = function (d) {\n      _estFromIncome = d;\n    };\n\n    this.getMonthlySalaryReplacementRequirement = function () {\n      return _monthlySalaryReplacement;\n    };\n\n    this.setMonthlySalaryReplacementRequirement = function (d) {\n      _monthlySalaryReplacement = d;\n    };\n\n    this.getLoanContribDropValue = function () {\n      return _loanContribDropValue;\n    };\n\n    this.setLoanContribDropValue = function (d) {\n      _loanContribDropValue = d;\n    };\n\n    this.getMonthlyEstimateFromExistingLoanRepayment = function () {\n      return _fromExistingLoanRepayment;\n    };\n\n    this.setMonthlyEstimateFromExistingLoanRepayment = function (d) {\n      _fromExistingLoanRepayment = d;\n    };\n\n    this.getMonthlyEstimateFromNewLoanRepayment = function () {\n      return _fromNewLoanRepayment;\n    };\n\n    this.setMonthlyEstimateFromNewLoanRepayment = function (d) {\n      _fromNewLoanRepayment = d;\n    };\n\n    this.getMonthlyEstimateFromNewLoanBalanceImpact = function () {\n      return _fromNewLoanBalanceImpact;\n    };\n\n    this.setMonthlyEstimateFromNewLoanBalanceImpact = function (d) {\n      _fromNewLoanBalanceImpact = d;\n    };\n\n    this.getSumOfMonthlySources = function () {\n      var _sum = 0.0;\n      _sum += _estFromDCBalance + _estFromEmployee + _estFromEmployer + _estFromSocialSecurity + _estFromPensionAsIncome + _estFromPension + _estFromOther + _estFromIncome // do NOT include loan impact\n      //              + _fromNewLoanBalanceImpact  // exclude modelled loan by default\n      //              + _fromNewLoanRepayment      // exclude modelled loan by default\n      //              + _fromExistingLoanRepayment  // include existing loan by default\n      ;\n      return CalcUtilities.roundAndTruncate(_sum, 2);\n    };\n\n    this.getMonthlyGap = function () {\n      return Math.max(CalcUtilities.roundAndTruncate(this.getMonthlySalaryReplacementRequirement(), 2) - CalcUtilities.roundAndTruncate(this.getSumOfMonthlySources(), 2), 0);\n    };\n\n    this.getReplacementScore = function () {\n      var required = this.getMonthlySalaryReplacementRequirement();\n      var sumOfSources = this.getSumOfMonthlySources();\n      return required !== 0 ? Math.max(CalcUtilities.roundAndTruncate(sumOfSources / required, 5), 0) : 0;\n    }; //  Private method declarations ------------------------------------\n\n\n    (function init() {\n      _estFromDCBalance = _estFromEmployee = _estFromEmployer = _estFromSocialSecurity = _estFromPension = _estFromPensionAsIncome = _estFromOther = _estFromIncome = _monthlySalaryReplacement = _fromNewLoanBalanceImpact = _fromNewLoanRepayment = _fromExistingLoanRepayment = _annuityRate = _inflationDiscount = _replacementRatio = _currentAnnualSalary = _adjustedAnnualSalary = _loanContribDropValue = 0;\n    })();\n  };\n\n  return RetireBenefitEvalResponse;\n});","map":null,"metadata":{},"sourceType":"script"}