{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { FooterType } from '@shared-lib/modules/footer/constants/footerType.enum';\nimport * as landingText from './constants/logout-content.json';\nimport { HeaderType } from '@shared-lib/constants/headerType.enum';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../shared/service/authentication/authentication.service\";\nimport * as i2 from \"@shared-lib/services/header-footer-type/headerFooterType.service\";\nimport * as i3 from \"./service/logout.service\";\nimport * as i4 from \"@shared-lib/services/base/base-factory-provider\";\nimport * as i5 from \"@ionic/angular\";\nimport * as i6 from \"../landing/service/landing.service\";\nimport * as i7 from \"@angular/common\";\n\nfunction LogoutPage_ion_grid_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-grid\", 1);\n    i0.ɵɵelementStart(1, \"ion-row\");\n    i0.ɵɵelementStart(2, \"ion-col\");\n    i0.ɵɵelement(3, \"img\", 2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"ion-row\");\n    i0.ɵɵelementStart(5, \"ion-col\");\n    i0.ɵɵelement(6, \"img\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"ion-row\");\n    i0.ɵɵelementStart(8, \"ion-col\");\n    i0.ɵɵelementStart(9, \"ion-text\", 4);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"ion-row\");\n    i0.ɵɵelementStart(12, \"ion-col\");\n    i0.ɵɵelementStart(13, \"ion-text\", 5);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"ion-row\");\n    i0.ɵɵelementStart(16, \"ion-col\");\n    i0.ɵɵelementStart(17, \"ion-text\", 6);\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"ion-row\", 1);\n    i0.ɵɵelementStart(20, \"ion-col\", 1);\n    i0.ɵɵelementStart(21, \"ion-button\", 7);\n    i0.ɵɵlistener(\"click\", function LogoutPage_ion_grid_0_Template_ion_button_click_21_listener() {\n      i0.ɵɵrestoreView(_r2);\n      const ctx_r1 = i0.ɵɵnextContext();\n      return ctx_r1.signInClicked();\n    });\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r0.logoutContent == null ? null : ctx_r0.logoutContent.image_url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.logoutContent == null ? null : ctx_r0.logoutContent.timeOutMessage, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.logoutContent == null ? null : ctx_r0.logoutContent.timeOutMessage1, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.logoutContent == null ? null : ctx_r0.logoutContent.timeOutMessage2, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.pageText.signIn, \" \");\n  }\n}\n\nexport let LogoutPage = /*#__PURE__*/(() => {\n  class LogoutPage {\n    constructor(authService, headerFooterService, logoutService, baseService, loadingController, landingService) {\n      this.authService = authService;\n      this.headerFooterService = headerFooterService;\n      this.logoutService = logoutService;\n      this.baseService = baseService;\n      this.loadingController = loadingController;\n      this.landingService = landingService;\n      this.pageText = landingText;\n      this.reloading = false;\n    }\n\n    ngOnInit() {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.authService.authenticationChange$._subscribe(this.authenticationChanged.bind(this));\n\n        this.logoutContent = yield this.logoutService.getLogoutContent();\n      });\n    }\n\n    authenticationChanged(isAuth) {\n      return __awaiter(this, void 0, void 0, function* () {\n        if (isAuth) {\n          const loading = yield this.loadingController.create({\n            translucent: true\n          });\n          loading.present();\n          const result = yield this.landingService.checkMyvoyageAccess();\n\n          if (result.enableMyVoyage === 'Y') {\n            this.baseService.navigateByUrl('home');\n          } else {\n            this.baseService.navigateByUrl('no-access');\n          }\n\n          loading.dismiss();\n        }\n      });\n    }\n\n    ionViewWillEnter() {\n      this.reloading = this.authService.reloading;\n    }\n\n    ionViewDidEnter() {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.headerFooterService.publishType({\n          type: HeaderType.none\n        }, {\n          type: FooterType.none\n        });\n      });\n    }\n\n    signInClicked() {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.authService.openLogin();\n      });\n    }\n\n  }\n\n  LogoutPage.ɵfac = function LogoutPage_Factory(t) {\n    return new (t || LogoutPage)(i0.ɵɵdirectiveInject(i1.AuthenticationService), i0.ɵɵdirectiveInject(i2.HeaderFooterTypeService), i0.ɵɵdirectiveInject(i3.LogoutService), i0.ɵɵdirectiveInject(i4.BaseService), i0.ɵɵdirectiveInject(i5.LoadingController), i0.ɵɵdirectiveInject(i6.LandingService));\n  };\n\n  LogoutPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LogoutPage,\n    selectors: [[\"app-logout\"]],\n    decls: 1,\n    vars: 1,\n    consts: [[\"class\", \"p-0\", 4, \"ngIf\"], [1, \"p-0\"], [\"src\", \"assets/icon/myVoyageNew.svg\", \"alt\", \"myvoyage logo\", 1, \"logo\"], [\"alt\", \"lock\", 1, \"lock-img\", 3, \"src\"], [1, \"title\"], [1, \"desc1\"], [1, \"desc2\"], [\"id\", \"sign-in-button\", \"name\", \"submit\", \"shape\", \"round\", \"expand\", \"block\", \"type\", \"submit\", \"color\", \"btncolor\", 1, \"sign-in\", 3, \"click\"]],\n    template: function LogoutPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, LogoutPage_ion_grid_0_Template, 23, 5, \"ion-grid\", 0);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", !ctx.reloading);\n      }\n    },\n    directives: [i7.NgIf, i5.IonGrid, i5.IonRow, i5.IonCol, i5.IonText, i5.IonButton],\n    styles: [\"[_nghost-%COMP%]{background-color:var(--primary-colors-voya-white)}[_nghost-%COMP%]   .logo[_ngcontent-%COMP%]{display:block;margin:126px auto 35.7px;width:292px;height:89.3px}[_nghost-%COMP%]   .lock-img[_ngcontent-%COMP%]{display:block;margin:auto;width:183px;height:184px}[_nghost-%COMP%]   ion-text[_ngcontent-%COMP%]{display:block;margin:0 auto 12px;width:281px;font-size:16px;line-height:1.25;letter-spacing:.08px;text-align:left;color:var(--primary-colors-voya-black)}[_nghost-%COMP%]   ion-text.title[_ngcontent-%COMP%]{font-weight:bold;letter-spacing:.02px;text-align:center}[_nghost-%COMP%]   .sign-in[_ngcontent-%COMP%]{margin-top:22px}\"]\n  });\n  return LogoutPage;\n})();","map":null,"metadata":{},"sourceType":"module"}