{"ast":null,"code":"define(['./Loan', '../AccountTypes'], function (Loan, AccountTypes) {\n  var LoanUtil = {};\n  LoanUtil.CONSTANTS = {};\n  LoanUtil.CONSTANTS.ORIENTATION_MONTHLY = Loan.ORIENTATION_MONTHLY;\n  LoanUtil.CONSTANTS.ORIENTATION_YEARLY = Loan.ORIENTATION_YEARLY;\n  LoanUtil.CONSTANTS.ORIENTATION_WEEKLY = Loan.ORIENTATION_WEEKLY;\n  LoanUtil.CONSTANTS.ORIENTATION_DAYLY = Loan.ORIENTATION_DAYLY;\n  LoanUtil.CONSTANTS.ORIENTATION_QUARTERLY = Loan.ORIENTATION_QUARTERLY;\n  LoanUtil.CONSTANTS.ORIENTATION_FORTNIGHTLY = Loan.ORIENTATION_FORTNIGHTLY;\n  LoanUtil.CONSTANTS.ORIENTATION_BIFORTNIGHTLY = Loan.ORIENTATION_BIFORTNIGHTLY;\n  LoanUtil.CONSTANTS.ORIENTATION_BIMONTHLY = Loan.ORIENTATION_BIMONTHLY;\n  LoanUtil.CONSTANTS.ORIENTATION_HALFMONTHLY = Loan.ORIENTATION_HALFMONTHLY;\n  LoanUtil.CONSTANTS.ORIENTATION_SEMIANNURALLY = Loan.ORIENTATION_SEMIANNURALLY; // \"solve for\" flag\n\n  LoanUtil.CONSTANTS.LOANSOLVEFOR_NONE = Loan.LOANSOLVEFOR_NONE;\n  LoanUtil.CONSTANTS.LOANSOLVEFOR_TERM = Loan.LOANSOLVEFOR_TERM;\n  LoanUtil.CONSTANTS.LOANSOLVEFOR_PAYMENT = Loan.LOANSOLVEFOR_PAYMENT;\n  LoanUtil.CONSTANTS.LOANSOLVEFOR_AMOUNT = Loan.LOANSOLVEFOR_AMOUNT;\n  LoanUtil.CONSTANTS.INTEREST_TYPE_SIMPLE = Loan.INTEREST_TYPE_SIMPLE;\n  LoanUtil.CONSTANTS.INTEREST_TYPE_AER = Loan.INTEREST_TYPE_AER;\n  LoanUtil.CONSTANTS.LOANTYPE_GENERAL = Loan.LOANTYPE_GENERAL;\n  LoanUtil.CONSTANTS.LOANTYPE_RESIDENTIAL = Loan.LOANTYPE_RESIDENTIAL; // account types effected by loan\n\n  LoanUtil.LoanRepaymentImpactTypes = [AccountTypes.TYPE_AGGREGATE_BALANCE, AccountTypes.TYPE_PRETAX, AccountTypes.TYPE_ROTH, AccountTypes.TYPE_SUPPL_PRETAX, AccountTypes.TYPE_SUPPL_ROTH, AccountTypes.TYPE_PRETAX_AGECATCHUP, AccountTypes.TYPE_ROTH_AGECATCHUP, AccountTypes.TYPE_AFTERTAX, AccountTypes.TYPE_SUPPL_AFTERTAX]; // account types effected by loan\n\n  LoanUtil.LoanRepaymentImpactTypesLessAggregateType = [AccountTypes.TYPE_PRETAX, AccountTypes.TYPE_ROTH, AccountTypes.TYPE_SUPPL_PRETAX, AccountTypes.TYPE_SUPPL_ROTH, AccountTypes.TYPE_PRETAX_AGECATCHUP, AccountTypes.TYPE_ROTH_AGECATCHUP, AccountTypes.TYPE_AFTERTAX, AccountTypes.TYPE_SUPPL_AFTERTAX]; // roth account types \n\n  LoanUtil.RothTypes = [AccountTypes.TYPE_ROTH, AccountTypes.TYPE_SUPPL_ROTH, AccountTypes.TYPE_ROTH_AGECATCHUP];\n  /*\n   *  Calculate the loan repayment amount for the given params:\n   *    loanAmount -> 50000.00\n   *    rate -> 0.045\n   *    term -> 48 (4 Years / 48 months)\n   *    termOrientation -> 12 (in Months.  i.e., 48 months)\n   *    paymentOrientation -> 52 (in Weeks.  Calculate the loan repayment in Weeks)\n   */\n\n  LoanUtil.getLoanPayment = function (loanAmount, rate, term, termOrientation, paymentOrientation) {\n    if (termOrientation === undefined) {\n      termOrientation = Loan.ORIENTATION_MONTHLY;\n    }\n\n    if (paymentOrientation === undefined) {\n      paymentOrientation = Loan.ORIENTATION_MONTHLY;\n    }\n\n    return Loan.payment(loanAmount, Loan.getModalRate(paymentOrientation, rate), Loan.numOfPayments(term, termOrientation, paymentOrientation));\n  };\n\n  return LoanUtil;\n});","map":null,"metadata":{},"sourceType":"script"}