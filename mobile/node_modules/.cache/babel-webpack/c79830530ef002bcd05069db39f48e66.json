{"ast":null,"code":"import _asyncToGenerator from \"/Users/vijay.a/Documents/GitHub/MYVOYAGE/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { VoyaIABController } from '@mobile/app/modules/shared/service/in-app-browser/controllers/voya-iab-controller';\nimport { EventEmitter } from '@angular/core';\nimport * as settingsOption from './constants/menuOptions.json';\nimport { QualtricsIntercept } from '@shared-lib/services/qualtrics/constants/qualtrics-intercepts.enum';\nimport { QualtricsProperty } from '@shared-lib/services/qualtrics/constants/qualtrics-properties.enum';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@shared-lib/services/help/help.service\";\nimport * as i3 from \"@mobile/app/modules/shared/service/in-app-browser/in-app-browser.service\";\nimport * as i4 from \"@shared-lib/services/mx-service/mx.service\";\nimport * as i5 from \"@shared-lib/services/qualtrics/qualtrics.service\";\nimport * as i6 from \"@shared-lib/services/utility/utility.service\";\nimport * as i7 from \"@shared-lib/services/platform/platform.service\";\nimport * as i8 from \"@ionic/angular\";\nimport * as i9 from \"@angular/common\";\n\nfunction MenuComponent_ng_container_3_div_1_ion_col_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-col\", 12);\n    i0.ɵɵelement(1, \"img\", 13);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r1 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"alt\", item_r1.text);\n    i0.ɵɵpropertyInterpolate(\"src\", item_r1.icon, i0.ɵɵsanitizeUrl);\n  }\n}\n\nfunction MenuComponent_ng_container_3_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 5);\n    i0.ɵɵlistener(\"click\", function MenuComponent_ng_container_3_div_1_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const item_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r6 = i0.ɵɵnextContext();\n      return ctx_r6.navigateTo(item_r1);\n    })(\"keyup.enter\", function MenuComponent_ng_container_3_div_1_Template_div_keyup_enter_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const item_r1 = i0.ɵɵnextContext().$implicit;\n      const ctx_r9 = i0.ɵɵnextContext();\n      return ctx_r9.navigateTo(item_r1);\n    });\n    i0.ɵɵelementStart(1, \"ion-row\", 6);\n    i0.ɵɵtemplate(2, MenuComponent_ng_container_3_div_1_ion_col_2_Template, 2, 2, \"ion-col\", 7);\n    i0.ɵɵelementStart(3, \"ion-col\", 8);\n    i0.ɵɵelementStart(4, \"label\", 9);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"span\", 10);\n    i0.ɵɵelement(7, \"img\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r1 = i0.ɵɵnextContext().$implicit;\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵpropertyInterpolate(\"id\", \"more-items-\" + item_r1.id);\n    i0.ɵɵproperty(\"ngClass\", ctx_r3.selectedTab === \"more-items-\" + item_r1.id && ctx_r3.isWeb && ctx_r3.isDesktop ? \"menu-item active\" : \"menu-item not-active\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", item_r1.icon);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", ctx_r3.isWeb && ctx_r3.isDesktop ? \"desktop-menu-label\" : \"menu-label\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r1.text);\n  }\n}\n\nfunction MenuComponent_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, MenuComponent_ng_container_3_div_1_Template, 8, 5, \"div\", 4);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const item_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r1.enableMyVoyage || !ctx_r0.isHelp && ctx_r0.isWeb || !ctx_r0.isWeb);\n  }\n}\n\nexport let MenuComponent = /*#__PURE__*/(() => {\n  class MenuComponent {\n    constructor(router, helpService, inAppBrowserService, mxService, qualtricsService, utilityService, platformService) {\n      this.router = router;\n      this.helpService = helpService;\n      this.inAppBrowserService = inAppBrowserService;\n      this.mxService = mxService;\n      this.qualtricsService = qualtricsService;\n      this.utilityService = utilityService;\n      this.platformService = platformService;\n      this.settingsOption = settingsOption;\n      this.menuClick = new EventEmitter();\n      this.isWeb = this.utilityService.getIsWeb();\n      this.platformService.isDesktop().subscribe(data => {\n        this.isDesktop = data;\n      });\n    }\n\n    ngOnInit() {\n      this.subscription = this.mxService.getMxAccountConnect().subscribe(mxAccountsData => {\n        this.processMxAccData(mxAccountsData);\n      });\n    }\n\n    processMxAccData(mxAccountsData) {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        yield _this.waitForConfig();\n\n        if (mxAccountsData.accounts.length < 1) {\n          const id = _this.settingsOption.manageAcctsId;\n          _this.config.items = _this.config.items.filter(value => {\n            return value.id != id;\n          });\n        }\n      })();\n    }\n\n    waitForConfig() {\n      var _this2 = this;\n\n      const poll = /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator(function* (resolve) {\n          if (_this2.config.items.length > 0) {\n            resolve();\n          } else {\n            setTimeout(() => {\n              poll(resolve);\n            }, 50);\n          }\n        });\n\n        return function poll(_x) {\n          return _ref.apply(this, arguments);\n        };\n      }();\n\n      return new Promise(poll);\n    }\n\n    navigateTo(item) {\n      var _this3 = this;\n\n      return _asyncToGenerator(function* () {\n        _this3.menuClick.emit();\n\n        if (item.id === _this3.settingsOption.feedbackId) {\n          if (_this3.isWeb) {\n            _this3.router.navigateByUrl(item.route);\n          }\n\n          yield _this3.qualtricsService.setProperty(QualtricsProperty.FEEDBACK, 'true');\n          yield _this3.qualtricsService.evaluateInterceptId(QualtricsIntercept.FEEDBACK_INTERCEPT, true);\n\n          _this3.qualtricsService.setProperty(QualtricsProperty.FEEDBACK, 'false');\n        } else if (item.id === _this3.settingsOption.termsId) {\n          if (!_this3.isWeb) {\n            _this3.inAppBrowserService.openInAppBrowser(_this3.settingsOption.TCUrl, new VoyaIABController());\n          } else {\n            window.open(_this3.settingsOption.TCUrl, '_blank');\n          }\n        } else {\n          _this3.router.navigateByUrl(item.route);\n\n          if (_this3.isHelp) {\n            _this3.helpService.setCategoryData(item.category);\n          }\n        }\n      })();\n    }\n\n    ngOnDestroy() {\n      this.subscription.unsubscribe();\n    }\n\n  }\n\n  MenuComponent.ɵfac = function MenuComponent_Factory(t) {\n    return new (t || MenuComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.HelpService), i0.ɵɵdirectiveInject(i3.InAppBroserService), i0.ɵɵdirectiveInject(i4.MXService), i0.ɵɵdirectiveInject(i5.QualtricsService), i0.ɵɵdirectiveInject(i6.SharedUtilityService), i0.ɵɵdirectiveInject(i7.PlatformService));\n  };\n\n  MenuComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MenuComponent,\n    selectors: [[\"app-menu\"]],\n    inputs: {\n      selectedTab: \"selectedTab\",\n      config: \"config\",\n      isHelp: \"isHelp\"\n    },\n    outputs: {\n      menuClick: \"menuClick\"\n    },\n    decls: 4,\n    vars: 2,\n    consts: [[1, \"ion-no-padding\"], [\"inset\", \"true\", \"lines\", \"none\", 1, \"ion-no-padding\", 3, \"ngClass\"], [1, \"menu-items\"], [4, \"ngFor\", \"ngForOf\"], [\"tabindex\", \"0\", 3, \"ngClass\", \"id\", \"click\", \"keyup.enter\", 4, \"ngIf\"], [\"tabindex\", \"0\", 3, \"ngClass\", \"id\", \"click\", \"keyup.enter\"], [1, \"\"], [\"class\", \"menu-icon\", 4, \"ngIf\"], [3, \"ngClass\"], [1, \"ion-no-padding\", \"font-16\", \"font-w-600\", \"ion-float-left\", \"ion-txt\"], [1, \"ion-float-right\"], [\"alt\", \"edit\", \"src\", \"assets/icon/chevron_right.svg\"], [1, \"menu-icon\"], [3, \"alt\", \"src\"]],\n    template: function MenuComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-grid\", 0);\n        i0.ɵɵelementStart(1, \"ion-item\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵtemplate(3, MenuComponent_ng_container_3_Template, 2, 1, \"ng-container\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngClass\", ctx.isWeb && ctx.isDesktop ? \"desktop-menu\" : \"mobile-menu\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngForOf\", ctx.config.items);\n      }\n    },\n    directives: [i8.IonGrid, i8.IonItem, i9.NgClass, i9.NgForOf, i9.NgIf, i8.IonRow, i8.IonCol],\n    styles: [\"ion-item.mobile-menu[_ngcontent-%COMP%]{border-radius:12px;margin:0 10px 0 20px;padding-top:0;--ion-background-color: transparent}ion-item.mobile-menu[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]{width:100%}ion-item.mobile-menu[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{padding:23px 0;border-bottom:1px solid var(--color-lightgrey);--detail-icon-color: var(--ion-color-button);--detail-icon-opacity: 1;font-size:16px;font-weight:bold;line-height:1px;height:72px;color:var(--toggle-txt-color)}ion-item.mobile-menu[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%]{height:24px;padding-left:0;padding-right:0}ion-item.mobile-menu[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .menu-label[_ngcontent-%COMP%]{margin-top:4px;padding-left:2px}ion-item.mobile-menu[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .ion-txt[_ngcontent-%COMP%]{margin:auto}ion-item.mobile-menu[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .not-active[_ngcontent-%COMP%], ion-item.mobile-menu[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{cursor:pointer;flex-direction:row;align-items:center;padding:25px 0;border-bottom:1px solid var(--ion-item-line);bottom:85.29%;visibility:inherit}ion-item.mobile-menu[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .not-active[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%], ion-item.mobile-menu[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{max-width:35px;margin:auto}ion-item.desktop-menu[_ngcontent-%COMP%]{--ion-background-color: transparent;--inner-padding-end: 0px !important}ion-item.desktop-menu[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]{width:100%}ion-item.desktop-menu[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]{background:var(-ion-color-white);padding:23px 20px;margin-top:20px;margin-bottom:20px;border-radius:10px;--detail-icon-color: var(--ion-color-button);--detail-icon-opacity: 1;font-size:16px;font-weight:bold;line-height:1px;height:72px;color:var(--toggle-txt-color)}ion-item.desktop-menu[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .item-inner[_ngcontent-%COMP%]{height:24px;padding-left:0;padding-right:0}ion-item.desktop-menu[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .desktop-menu-label[_ngcontent-%COMP%]{margin:auto;color:var(--primary-colors-voya-dark-blue)}ion-item.desktop-menu[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .desktop-menu-label[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:none}ion-item.desktop-menu[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .menu-item[_ngcontent-%COMP%]   .ion-txt[_ngcontent-%COMP%]{margin:auto}ion-item.desktop-menu[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{padding:20px;width:412px;cursor:pointer;flex-direction:row;align-items:center;bottom:85.29%;background:var(--ion-color-white);border-radius:10px;margin:20px 0;box-shadow:var(--card-box-shadow);visibility:inherit;height:64px}ion-item.desktop-menu[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{max-width:35px;margin:auto}ion-item.desktop-menu[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .not-active[_ngcontent-%COMP%]{padding:20px;width:374px;cursor:pointer;flex-direction:row;align-items:center;bottom:85.29%;background:var(--ion-color-white);border-radius:10px;margin:20px 0;box-shadow:var(--card-box-shadow);visibility:inherit;height:64px}ion-item.desktop-menu[_ngcontent-%COMP%]   .menu-items[_ngcontent-%COMP%]   .not-active[_ngcontent-%COMP%]   .menu-icon[_ngcontent-%COMP%]{max-width:35px;margin:auto}\"]\n  });\n  return MenuComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}