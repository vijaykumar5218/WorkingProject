{"ast":null,"code":"import _asyncToGenerator from \"/Users/vijay.a/Documents/GitHub/MYVOYAGE/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport * as pageText from '@shared-lib/services/account/constants/annual-rate-return-text.json';\nimport { OMStatus } from '@shared-lib/services/account/models/orange-money.model';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@shared-lib/modules/orange-money/services/orange-money.service\";\nimport * as i2 from \"@shared-lib/services/account/account.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@ionic/angular\";\n\nfunction AnnualRateReturnComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2);\n    i0.ɵɵelementStart(1, \"label\", 3);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.pageText.investmentPerformance);\n  }\n}\n\nfunction AnnualRateReturnComponent_ion_card_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"ion-spinner\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AnnualRateReturnComponent_ion_card_1_ng_template_2_div_22_ion_card_content_1_div_3_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r13 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", message_r13, \" \");\n  }\n}\n\nfunction AnnualRateReturnComponent_ion_card_1_ng_template_2_div_22_ion_card_content_1_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵtemplate(1, AnnualRateReturnComponent_ion_card_1_ng_template_2_div_22_ion_card_content_1_div_3_p_1_Template, 2, 1, \"p\", 17);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext(5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r10.textPredval.MANACCT == null ? null : ctx_r10.textPredval.MANACCT.messages);\n  }\n}\n\nfunction AnnualRateReturnComponent_ion_card_1_ng_template_2_div_22_ion_card_content_1_div_4_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const message_r15 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", message_r15, \" \");\n  }\n}\n\nfunction AnnualRateReturnComponent_ion_card_1_ng_template_2_div_22_ion_card_content_1_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵtemplate(1, AnnualRateReturnComponent_ion_card_1_ng_template_2_div_22_ion_card_content_1_div_4_p_1_Template, 2, 1, \"p\", 17);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext(5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r11.textPredval.MANACTIPS == null ? null : ctx_r11.textPredval.MANACTIPS.messages);\n  }\n}\n\nfunction AnnualRateReturnComponent_ion_card_1_ng_template_2_div_22_ion_card_content_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-card-content\");\n    i0.ɵɵelementStart(1, \"div\", 18);\n    i0.ɵɵelement(2, \"img\", 19);\n    i0.ɵɵtemplate(3, AnnualRateReturnComponent_ion_card_1_ng_template_2_div_22_ion_card_content_1_div_3_Template, 2, 1, \"div\", 20);\n    i0.ɵɵtemplate(4, AnnualRateReturnComponent_ion_card_1_ng_template_2_div_22_ion_card_content_1_div_4_Template, 2, 1, \"div\", 20);\n    i0.ɵɵelementStart(5, \"div\", 21);\n    i0.ɵɵelementStart(6, \"ion-button\", 22);\n    i0.ɵɵlistener(\"click\", function AnnualRateReturnComponent_ion_card_1_ng_template_2_div_22_ion_card_content_1_Template_ion_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r17);\n      const offervalue_r9 = restoredCtx.$implicit;\n      const ctx_r16 = i0.ɵɵnextContext(4);\n      return ctx_r16.openOffer(offervalue_r9 == null ? null : offervalue_r9.targetUrl);\n    });\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const offervalue_r9 = ctx.$implicit;\n    const ctx_r8 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"src\", ctx_r8.textPredval.icon, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (offervalue_r9 == null ? null : offervalue_r9.offerCode) == \"MANACCT\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (offervalue_r9 == null ? null : offervalue_r9.offerCode) == \"MANACTIPS\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", (offervalue_r9 == null ? null : offervalue_r9.offerCode) == \"MANACCT\" ? ctx_r8.textPredval.MANACCT == null ? null : ctx_r8.textPredval.MANACCT.link_name : ctx_r8.textPredval.MANACTIPS.link_name, \" \");\n  }\n}\n\nfunction AnnualRateReturnComponent_ion_card_1_ng_template_2_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16);\n    i0.ɵɵtemplate(1, AnnualRateReturnComponent_ion_card_1_ng_template_2_div_22_ion_card_content_1_Template, 8, 4, \"ion-card-content\", 17);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r7.offerVal);\n  }\n}\n\nfunction AnnualRateReturnComponent_ion_card_1_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-card-header\");\n    i0.ɵɵelementStart(1, \"ion-card-title\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"ion-card-content\");\n    i0.ɵɵelementStart(4, \"ion-grid\");\n    i0.ɵɵelementStart(5, \"ion-row\", null, 7);\n    i0.ɵɵelement(7, \"ion-progress-bar\", 8, 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"ion-row\");\n    i0.ɵɵelementStart(10, \"ion-col\", 10);\n    i0.ɵɵelementStart(11, \"span\", 11);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"span\", 12);\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"ion-col\", 10);\n    i0.ɵɵelementStart(17, \"span\", 13);\n    i0.ɵɵtext(18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"span\", 14);\n    i0.ɵɵtext(20);\n    i0.ɵɵpipe(21, \"number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(22, AnnualRateReturnComponent_ion_card_1_ng_template_2_div_22_Template, 2, 1, \"div\", 15);\n  }\n\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r4.pageText.AnnualRateReturn);\n    i0.ɵɵadvance(5);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r4.progressBarValue);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r4.pageText.YTDReturn);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(15, 7, ctx_r4.ytdReturn, \"1.2-2\"), \"%\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r4.pageText.ProjReturn);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind2(21, 10, ctx_r4.projReturn, \"1.2-2\"), \"%\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r4.offerVal == null ? null : ctx_r4.offerVal.length) > 0);\n  }\n}\n\nfunction AnnualRateReturnComponent_ion_card_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-card\", 4);\n    i0.ɵɵtemplate(1, AnnualRateReturnComponent_ion_card_1_div_1_Template, 2, 0, \"div\", 5);\n    i0.ɵɵtemplate(2, AnnualRateReturnComponent_ion_card_1_ng_template_2_Template, 23, 13, \"ng-template\", null, 6, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const _r3 = i0.ɵɵreference(3);\n\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.loading)(\"ngIfElse\", _r3);\n  }\n}\n\nexport let AnnualRateReturnComponent = /*#__PURE__*/(() => {\n  class AnnualRateReturnComponent {\n    constructor(orangeMoneyService, accountService) {\n      this.orangeMoneyService = orangeMoneyService;\n      this.accountService = accountService;\n      this.pageText = JSON.parse(JSON.stringify(pageText)).default;\n    }\n\n    ngOnInit() {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        _this.fetchData();\n\n        _this.getpredictValue();\n\n        _this.getOfferCodeValue();\n      })();\n    }\n\n    getOfferCodeValue() {\n      var _this2 = this;\n\n      return _asyncToGenerator(function* () {\n        yield _this2.accountService.getOffercode().then(res => {\n          _this2.offerVal = res?.filter(offercode => offercode.offerCode === 'MANACCT' || offercode.offerCode === 'MANACTIPS');\n        });\n      })();\n    }\n\n    getpredictValue() {\n      var _this3 = this;\n\n      return _asyncToGenerator(function* () {\n        yield _this3.accountService.getPredict().then(data => {\n          _this3.textPredval = data;\n        });\n      })();\n    }\n\n    openOffer(link) {\n      window.open(link, '_blank');\n    }\n\n    fetchData() {\n      var _this4 = this;\n\n      return _asyncToGenerator(function* () {\n        _this4.loading = true;\n        _this4.orangeDataSubscription = _this4.orangeMoneyService.getOrangeData().subscribe( /*#__PURE__*/function () {\n          var _ref = _asyncToGenerator(function* (omData) {\n            const status = _this4.orangeMoneyService.getOrangeMoneyStatus(omData);\n\n            _this4.omStatusChanged(status);\n\n            if (omData.orangeData) {\n              _this4.projReturn = omData.orangeData.participantData.investmentRateOfReturn;\n            } else if (omData.feForecastData) {\n              _this4.projReturn = omData.feForecastData.investmentRateOfReturn;\n            } //Multiply by 100 to get percentage value;\n\n\n            _this4.projReturn *= 100.0;\n            yield _this4.accountService.getRateOfReturn().then(data => {\n              _this4.ytdReturn = data.prr.pct;\n            });\n            _this4.progressBarValue = _this4.ytdReturn / _this4.projReturn;\n            _this4.loading = false;\n          });\n\n          return function (_x) {\n            return _ref.apply(this, arguments);\n          };\n        }());\n      })();\n    }\n\n    omStatusChanged(status) {\n      switch (status) {\n        case OMStatus.ORANGE_DATA:\n        case OMStatus.FE_DATA:\n          this.shouldHide = false;\n          break;\n\n        case OMStatus.MADLIB_OM:\n        case OMStatus.MADLIB_FE:\n        case OMStatus.SERVICE_DOWN:\n        case OMStatus.UNKNOWN:\n          this.shouldHide = true;\n      }\n    }\n\n    ngOnDestroy() {\n      this.orangeDataSubscription.unsubscribe();\n    }\n\n  }\n\n  AnnualRateReturnComponent.ɵfac = function AnnualRateReturnComponent_Factory(t) {\n    return new (t || AnnualRateReturnComponent)(i0.ɵɵdirectiveInject(i1.OrangeMoneyService), i0.ɵɵdirectiveInject(i2.AccountService));\n  };\n\n  AnnualRateReturnComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AnnualRateReturnComponent,\n    selectors: [[\"app-annual-rate-return\"]],\n    decls: 2,\n    vars: 2,\n    consts: [[\"class\", \"section-title\", 4, \"ngIf\"], [\"class\", \"myv-card\", 4, \"ngIf\"], [1, \"section-title\"], [1, \"voya-dark\", \"font-w-600\"], [1, \"myv-card\"], [4, \"ngIf\", \"ngIfElse\"], [\"elseBlock\", \"\"], [\"progessBarContainer\", \"\"], [\"title\", \"Annual rate of return progress\", 1, \"annual-rate-bar\", 3, \"value\"], [\"progessBar\", \"\"], [\"size\", \"6\"], [1, \"bar-bottom-item-title\"], [1, \"bar-bottom-item-value\"], [1, \"bar-bottom-item-title\", \"ion-text-end\"], [1, \"bar-bottom-item-value\", \"orange\", \"ion-text-end\"], [\"class\", \"internal-card\", 4, \"ngIf\"], [1, \"internal-card\"], [4, \"ngFor\", \"ngForOf\"], [1, \"warning-text\"], [\"alt\", \"Message box with 3 dots\", 1, \"icon\", 3, \"src\"], [\"class\", \"msg-cont\", 4, \"ngIf\"], [1, \"button-container\"], [\"size\", \"small\", \"fill\", \"clear\", \"automation-id\", \"offervalbutton\", 3, \"click\"], [1, \"msg-cont\"]],\n    template: function AnnualRateReturnComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, AnnualRateReturnComponent_div_0_Template, 3, 1, \"div\", 0);\n        i0.ɵɵtemplate(1, AnnualRateReturnComponent_ion_card_1_Template, 4, 2, \"ion-card\", 1);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", !ctx.shouldHide);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.shouldHide);\n      }\n    },\n    directives: [i3.NgIf, i4.IonCard, i4.IonSpinner, i4.IonCardHeader, i4.IonCardTitle, i4.IonCardContent, i4.IonGrid, i4.IonRow, i4.IonProgressBar, i4.IonCol, i3.NgForOf, i4.IonButton],\n    pipes: [i3.DecimalPipe],\n    styles: [\".annual-rate-bar[_ngcontent-%COMP%]{--progress-background: var(--primary-colors-voya-dark-blue);--background: lightgrey;height:10px;border-radius:12px;margin-top:8px;margin-bottom:8px}ion-card.myv-card[_ngcontent-%COMP%]{min-height:150px}ion-card.myv-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%], ion-card.myv-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:16px;font-weight:bold;line-height:1;letter-spacing:.02px;text-align:left;color:var(--primary-colors-voya-black)}ion-card.myv-card[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%)}.internal-card[_ngcontent-%COMP%]{padding:20px;border-radius:20px;margin:0 18px 18px;background-color:var(--secondary-colors-medium-gray-3)}.bar-bottom-item-title[_ngcontent-%COMP%]{display:block;font-size:12px;letter-spacing:.05px;text-align:left;color:var(--secondary-colors-voya-gray)}.bar-bottom-item-value[_ngcontent-%COMP%]{height:19px;display:block;flex-grow:0;font-size:16px;font-weight:bold;text-align:left;margin-top:5px;color:var(--primary-colors-voya-black)}.bar-bottom-item-value.orange[_ngcontent-%COMP%]{color:var(--primary-colors-voya-orange)}.internal-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{display:block;padding:0}.warning-text[_ngcontent-%COMP%]{flex-grow:0;font-size:16px;line-height:1.25;letter-spacing:.08px;text-align:left;color:var(--primary-colors-voya-black);margin-left:0;font-weight:normal}.warning-text[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:20px;height:20px;position:absolute}.warning-text[_ngcontent-%COMP%]   .msg-cont[_ngcontent-%COMP%]{margin-left:30px}.button-container[_ngcontent-%COMP%]{text-align:center;margin-right:22px}.internal-card[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{padding:8px 16px;border-radius:20px;border:solid 2px var(--primary-colors-voya-dark-blue);background-color:#fff;color:var(--primary-colors-voya-dark-blue);font-size:12px;margin-top:16px}.section-title[_ngcontent-%COMP%]{margin-left:16px}.section-title[_ngcontent-%COMP%]   .voya-dark[_ngcontent-%COMP%]{color:var(--primary-colors-voya-black)}.section-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:relative;top:6px;left:4px}\"]\n  });\n  return AnnualRateReturnComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}