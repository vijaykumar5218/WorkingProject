{"ast":null,"code":"import _asyncToGenerator from \"/Users/vijay.a/Documents/GitHub/MYVOYAGE/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { IABMessage } from '../constants/message.enum';\nimport { DefaultIABController } from './default-iab-controller';\nexport class VoyaIABController extends DefaultIABController {\n  clearHeaderAndFooter() {\n    //Removes header\n    this.browser.executeScript({\n      code: `(function() { \n            if(document.getElementsByTagName('header').length > 0) {\n              document.getElementsByTagName('header')[0].remove();\n            }\n            })()`\n    }); //Remove Footer\n\n    this.browser.executeScript({\n      code: `(function() { \n            if(document.getElementsByTagName('footer').length > 0) {\n              document.getElementsByTagName('footer')[0].remove();\n            }\n            })()`\n    });\n  }\n\n  loadStopCallback() {\n    var _superprop_getLoadStopCallback = () => super.loadStopCallback,\n        _this = this;\n\n    return _asyncToGenerator(function* () {\n      _superprop_getLoadStopCallback().call(_this);\n\n      _this.fixLinks(); //Removes the current header and footer\n\n\n      setTimeout(() => {\n        _this.clearHeaderAndFooter();\n      }, 250); //Display custom header\n\n      _this.displayCustomHeader(_this.headerText);\n    })();\n  }\n\n  fixLinks() {\n    this.browser.executeScript({\n      code: `\n        (function() {\n            for(let link of document.getElementsByTagName(\"a\")) {\n              if(link.href!='javascript:void(0);') {\n                link.onclick=function(event) {\n                  event.preventDefault();\n                  event.stopPropagation();\n                  webkit.messageHandlers.cordova_iab.postMessage(JSON.stringify({message: \"${IABMessage.externalLink}\", url: link.href}));\n                };\n              }\n            }\n        })();\n        `\n    });\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}