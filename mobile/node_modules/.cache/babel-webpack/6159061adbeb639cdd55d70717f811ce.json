{"ast":null,"code":"import _asyncToGenerator from \"/Users/vijay.a/Documents/GitHub/MYVOYAGE/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { firstValueFrom } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@shared-lib/services/journey/journey.service\";\nexport let JourneysGuard = /*#__PURE__*/(() => {\n  class JourneysGuard {\n    constructor(journeyService) {\n      this.journeyService = journeyService;\n    }\n\n    canActivate(route) {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        yield _this.setData(parseInt(route.params.id));\n        return true;\n      })();\n    }\n\n    setData(jID) {\n      var _this2 = this;\n\n      return _asyncToGenerator(function* () {\n        const journeys = yield firstValueFrom(_this2.journeyService.fetchJourneys());\n        const journeyIndex = journeys.all.findIndex(journey => journey.journeyID === jID);\n\n        if (journeyIndex != -1) {\n          yield _this2.journeyService.setStepContent(journeys.all[journeyIndex]);\n\n          _this2.journeyService.setCurrentJourney(journeys.all[journeyIndex]);\n        }\n      })();\n    }\n\n  }\n\n  JourneysGuard.ɵfac = function JourneysGuard_Factory(t) {\n    return new (t || JourneysGuard)(i0.ɵɵinject(i1.JourneyService));\n  };\n\n  JourneysGuard.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: JourneysGuard,\n    factory: JourneysGuard.ɵfac,\n    providedIn: 'root'\n  });\n  return JourneysGuard;\n})();","map":null,"metadata":{},"sourceType":"module"}