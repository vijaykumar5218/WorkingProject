{"ast":null,"code":"import _asyncToGenerator from \"/Users/vijay.a/Documents/GitHub/MYVOYAGE/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { AlertComponent } from '@shared-lib/components/alert/alert.component';\nimport { HeaderType } from '@shared-lib/constants/headerType.enum';\nimport * as pageText from './constants/displayText.json';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@shared-lib/services/header-type/header-type.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@shared-lib/services/account-info/account-info.service\";\nimport * as i4 from \"@ionic/angular\";\nimport * as i5 from \"@angular/common\";\nexport let EditPasswordPage = /*#__PURE__*/(() => {\n  class EditPasswordPage {\n    constructor(headerType, router, accountInfoService, modalController) {\n      this.headerType = headerType;\n      this.router = router;\n      this.accountInfoService = accountInfoService;\n      this.modalController = modalController;\n      this.displayText = pageText.default;\n      this.showPassword = false;\n      this.showConfirmPassword = false;\n      this.showNewPassword = false;\n      this.submitDisabled = true;\n      this.actionOption = {\n        headername: this.displayText.actionOption.headername,\n        btnleft: true,\n        btnright: true,\n        buttonLeft: {\n          name: '',\n          link: this.displayText.actionOption.buttonLeft\n        },\n        buttonRight: {\n          name: '',\n          link: this.displayText.actionOption.buttonRight\n        }\n      };\n    }\n\n    ionViewWillEnter() {\n      this.headerType.publish({\n        type: HeaderType.navbar,\n        actionOption: this.actionOption\n      });\n      this.fetchRecoveryData();\n    }\n\n    routeToNotification() {\n      this.router.navigateByUrl('/settings/notification-settings');\n    }\n\n    goBack() {\n      this.router.navigateByUrl('/settings/account-and-personal-info');\n    }\n\n    toggleShowPassword(password) {\n      switch (password) {\n        case 'old':\n          this.showPassword = !this.showPassword;\n          break;\n\n        case 'new':\n          this.showNewPassword = !this.showNewPassword;\n          break;\n\n        case 'confirm':\n          this.showConfirmPassword = !this.showConfirmPassword;\n          break;\n      }\n    }\n\n    fetchRecoveryData() {\n      this.recoveryDataSubscription = this.accountInfoService.getAccountRecovery().subscribe(data => {\n        this.accountRecoveryData = data;\n      });\n    }\n\n    passwordChanged(val) {\n      this.password = val;\n    }\n\n    submitNewPassword() {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        const modal = yield _this.modalController.create({\n          component: AlertComponent,\n          cssClass: 'modal-not-fullscreen',\n          componentProps: {\n            titleMessage: _this.displayText.alert.message,\n            imageUrl: _this.displayText.alert.imageUrl\n          }\n        });\n        modal.onDidDismiss().then(() => {\n          _this.router.navigateByUrl('/settings/account-and-personal-info');\n        });\n        return modal.present();\n      })();\n    }\n\n  }\n\n  EditPasswordPage.ɵfac = function EditPasswordPage_Factory(t) {\n    return new (t || EditPasswordPage)(i0.ɵɵdirectiveInject(i1.HeaderTypeService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.AccountInfoService), i0.ɵɵdirectiveInject(i4.ModalController));\n  };\n\n  EditPasswordPage.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: EditPasswordPage,\n    selectors: [[\"app-edit-password\"]],\n    decls: 48,\n    vars: 22,\n    consts: [[1, \"ion-no-margin\", \"p-20\"], [1, \"last-update\"], [1, \"header\"], [1, \"ion-no-padding\"], [1, \"p-0\", \"font-16\", 3, \"type\", \"value\"], [\"ion-button\", \"\", \"clear\", \"\", \"large\", \"\", \"item-end\", \"\", \"icon-only\", \"\", \"id\", \"old-pwd\", 1, \"iconbutton\", 3, \"click\"], [1, \"font-22\", 3, \"name\"], [\"newPasswordInput\", \"\"], [\"ion-button\", \"\", \"clear\", \"\", \"large\", \"\", \"item-end\", \"\", \"icon-only\", \"\", \"id\", \"new-pwd\", 1, \"iconbutton\", 3, \"click\"], [\"confirmPasswordInput\", \"\"], [\"ion-button\", \"\", \"clear\", \"\", \"large\", \"\", \"item-end\", \"\", \"icon-only\", \"\", \"id\", \"confirm-pwd\", 1, \"iconbutton\", 3, \"click\"], [1, \"manage-notifications\"], [\"id\", \"manage-notification\", 1, \"notification-link\", 3, \"click\"], [1, \"mt-42\"], [\"size-md\", \"2\", \"size-sm\", \"1\", \"size-xs\", \"1\"], [\"size\", \"small\", \"id\", \"cancel-btn\", \"name\", \"submit\", \"shape\", \"round\", \"expand\", \"block\", \"color\", \"btncolor\", \"fill\", \"outline\", 1, \"font-16\", 3, \"click\"], [\"size\", \"small\", \"id\", \"save-btn\", \"name\", \"submit\", \"shape\", \"round\", \"expand\", \"block\", \"color\", \"btncolor\", \"type\", \"submit\", 1, \"font-16\", 3, \"disabled\", \"click\"]],\n    template: function EditPasswordPage_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"ion-grid\", 0);\n        i0.ɵɵelementStart(1, \"ion-row\");\n        i0.ɵɵelementStart(2, \"ion-col\");\n        i0.ɵɵelementStart(3, \"p\", 1);\n        i0.ɵɵtext(4);\n        i0.ɵɵpipe(5, \"date\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"ion-row\");\n        i0.ɵɵelementStart(7, \"ion-col\", 2);\n        i0.ɵɵelementStart(8, \"div\");\n        i0.ɵɵtext(9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"ion-row\");\n        i0.ɵɵelementStart(11, \"ion-col\", 3);\n        i0.ɵɵelement(12, \"ion-input\", 4);\n        i0.ɵɵelementStart(13, \"button\", 5);\n        i0.ɵɵlistener(\"click\", function EditPasswordPage_Template_button_click_13_listener() {\n          return ctx.toggleShowPassword(\"old\");\n        });\n        i0.ɵɵelement(14, \"ion-icon\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"ion-row\");\n        i0.ɵɵelementStart(16, \"ion-col\", 2);\n        i0.ɵɵelementStart(17, \"div\");\n        i0.ɵɵtext(18);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"ion-row\");\n        i0.ɵɵelementStart(20, \"ion-col\", 3);\n        i0.ɵɵelement(21, \"ion-input\", 4, 7);\n        i0.ɵɵelementStart(23, \"button\", 8);\n        i0.ɵɵlistener(\"click\", function EditPasswordPage_Template_button_click_23_listener() {\n          return ctx.toggleShowPassword(\"new\");\n        });\n        i0.ɵɵelement(24, \"ion-icon\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(25, \"ion-row\");\n        i0.ɵɵelementStart(26, \"ion-col\", 2);\n        i0.ɵɵelementStart(27, \"div\");\n        i0.ɵɵtext(28);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"ion-row\");\n        i0.ɵɵelementStart(30, \"ion-col\", 3);\n        i0.ɵɵelement(31, \"ion-input\", 4, 9);\n        i0.ɵɵelementStart(33, \"button\", 10);\n        i0.ɵɵlistener(\"click\", function EditPasswordPage_Template_button_click_33_listener() {\n          return ctx.toggleShowPassword(\"confirm\");\n        });\n        i0.ɵɵelement(34, \"ion-icon\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"p\", 11);\n        i0.ɵɵtext(36);\n        i0.ɵɵelementStart(37, \"a\", 12);\n        i0.ɵɵlistener(\"click\", function EditPasswordPage_Template_a_click_37_listener() {\n          return ctx.routeToNotification();\n        });\n        i0.ɵɵtext(38);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(39, \"ion-row\", 13);\n        i0.ɵɵelement(40, \"ion-col\", 14);\n        i0.ɵɵelementStart(41, \"ion-col\");\n        i0.ɵɵelementStart(42, \"ion-button\", 15);\n        i0.ɵɵlistener(\"click\", function EditPasswordPage_Template_ion_button_click_42_listener() {\n          return ctx.goBack();\n        });\n        i0.ɵɵtext(43);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(44, \"ion-col\");\n        i0.ɵɵelementStart(45, \"ion-button\", 16);\n        i0.ɵɵlistener(\"click\", function EditPasswordPage_Template_ion_button_click_45_listener() {\n          return ctx.submitNewPassword();\n        });\n        i0.ɵɵtext(46);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(47, \"ion-col\", 14);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate2(\" \", ctx.displayText.lastUpdate, \" \", i0.ɵɵpipeBind2(5, 19, ctx.accountRecoveryData == null ? null : ctx.accountRecoveryData.login.passwordLastChangedDate, \"longDate\"), \" \");\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate(ctx.displayText.password);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"type\", ctx.showPassword ? \"text\" : \"password\")(\"value\", ctx.password);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"name\", ctx.showPassword ? \"eye-off\" : \"eye\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.displayText.newPassword);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"type\", ctx.showNewPassword ? \"text\" : \"password\")(\"value\", ctx.newPassword);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"name\", ctx.showNewPassword ? \"eye-off\" : \"eye\");\n        i0.ɵɵadvance(4);\n        i0.ɵɵtextInterpolate(ctx.displayText.confirmPassword);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"type\", ctx.showConfirmPassword ? \"text\" : \"password\")(\"value\", ctx.confirmPassword);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"name\", ctx.showConfirmPassword ? \"eye-off\" : \"eye\");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", ctx.displayText.notificationMsg, \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.displayText.manageNotification);\n        i0.ɵɵadvance(5);\n        i0.ɵɵtextInterpolate1(\"\", ctx.displayText.button.cancel, \" \");\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"disabled\", ctx.submitDisabled);\n        i0.ɵɵadvance(1);\n        i0.ɵɵtextInterpolate1(\"\", ctx.displayText.button.save, \" \");\n      }\n    },\n    directives: [i4.IonGrid, i4.IonRow, i4.IonCol, i4.IonInput, i4.TextValueAccessor, i4.IonIcon, i4.IonButton],\n    pipes: [i5.DatePipe],\n    styles: [\"[_nghost-%COMP%]{background-color:var(--ion-color-white)}[_nghost-%COMP%]   .header[_ngcontent-%COMP%]{padding-left:0}[_nghost-%COMP%]   .last-update[_ngcontent-%COMP%]{font-size:18px;font-weight:600;text-align:center}[_nghost-%COMP%]   ion-input[_ngcontent-%COMP%]{border:1px solid var(--secondary-colors-medium-gray-1);border-radius:4px;height:54px;--padding-start: 18px;margin-bottom:20px}[_nghost-%COMP%]   .iconbutton[_ngcontent-%COMP%]{position:absolute;right:2px;top:14px;z-index:999;color:var(--primary-colors-voya-dark-blue);background-color:var(--ion-color-white)}[_nghost-%COMP%]   .manage-notifications[_ngcontent-%COMP%]{margin-top:20px;font-size:18px}[_nghost-%COMP%]   .manage-notifications[_ngcontent-%COMP%]   .notification-link[_ngcontent-%COMP%]{color:var(--primary-colors-voya-dark-blue);text-decoration:underline}\"]\n  });\n  return EditPasswordPage;\n})();","map":null,"metadata":{},"sourceType":"module"}