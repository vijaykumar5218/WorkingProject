{"version":3,"file":"shared-lib_components_mx-widget_mx-widget_module_ts-shared-lib_services_header-footer-type_he-d37c1a-es2015.js","mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAkE;AAChC;AAEmC;AACa;AACW;AACvC;AAE/C,MAAM,sBAAsB,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;IAOxC,iBAAiB,SAAjB,iBAAiB;IAY5B,YACU,SAAoB,EACpB,oBAA0C,EAC1C,eAAgC;QAFhC,cAAS,GAAT,SAAS,CAAW;QACpB,yBAAoB,GAApB,oBAAoB,CAAsB;QAC1C,oBAAe,GAAf,eAAe,CAAiB;QAXjC,eAAU,GAAG,KAAK,CAAC;QAE5B,aAAQ,GAAG,KAAK,CAAC;QACjB,YAAO,GAAG,+OAAS,CAAC;QAEZ,kBAAa,GAAG,CAAC,CAAC;QAClB,yBAAoB,GAAG,IAAI,8CAAY,EAAE,CAAC;IAM/C,CAAC;IAEJ,QAAQ;QACN,IAAI,CAAC,aAAa,EAAE,CAAC;QACrB,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,oBAAoB,CAAC,QAAQ,EAAE,CAAC;QAClD,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAC3B,IAAI,CAAC,eAAe,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CACnE,CAAC;QACF,IAAI,CAAC,oBAAoB,CAAC,GAAG,CAC3B,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CACjE,CAAC;IACJ,CAAC;IAED,QAAQ;QACN,IAAI,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,IAAI,CAAC,aAAa,EAAE;YAC7C,IAAI,CAAC,aAAa,EAAE,CAAC;SACtB;IACH,CAAC;IAED,OAAO;QACL,IAAI,CAAC,aAAa,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,sBAAsB,CAAC;IACrE,CAAC;IAED,aAAa;QACX,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACtB,IAAI,CAAC,SAAS;aACX,aAAa,CACZ,IAAI,CAAC,UAAU,EACf;YACE,EAAE,EAAE,IAAI,CAAC,OAAO;YAChB,MAAM,EAAE,IAAI,CAAC,MAAM;YACnB,QAAQ,EAAE,KAAK;SAChB,EACD,IAAI,CAAC,UAAU,CAChB;aACA,IAAI,CAAC,CAAC,GAAY,EAAE,EAAE;YACrB,IAAI,CAAC,QAAQ,GAAG,CAAC,GAAG,CAAC;QACvB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,WAAW;QACT,IAAI,CAAC,oBAAoB,CAAC,WAAW,EAAE,CAAC;IAC1C,CAAC;CACF;;YAvEO,iFAAS;YACT,8FAAoB;YACpB,yGAAe;;;sBAWpB,gDAAK;yBACL,gDAAK;qBACL,gDAAK;yBACL,gDAAK;;AAJK,iBAAiB;IAL7B,wDAAS,CAAC;QACT,QAAQ,EAAE,eAAe;QACzB,4KAAyC;;KAE1C,CAAC;GACW,iBAAiB,CA2D7B;AA3D6B;;;;;;;;;;;;;;;;;;;;;ACfS;AACM;AACF;AACa;IAO3C,cAAc,SAAd,cAAc;CAAG;AAAjB,cAAc;IAL1B,uDAAQ,CAAC;QACR,OAAO,EAAE,CAAC,yDAAY,EAAE,uDAAW,CAAC;QACpC,YAAY,EAAE,CAAC,mEAAiB,CAAC;QACjC,OAAO,EAAE,CAAC,mEAAiB,CAAC;KAC7B,CAAC;GACW,cAAc,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;ACVc;AAE6D;AAEjC;IAKxD,uBAAuB,SAAvB,uBAAuB;IAClC,YACU,iBAAoC,EACpC,iBAAoC;QADpC,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,sBAAiB,GAAjB,iBAAiB,CAAmB;IAC3C,CAAC;IAEJ,WAAW,CAAC,UAAsB,EAAE,UAAsB;QACxD,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;QAC3C,IAAI,CAAC,iBAAiB,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;IAC7C,CAAC;CACF;;YAfO,+EAAiB;YAFjB,kHAAiB;;AAOZ,uBAAuB;IAHnC,yDAAU,CAAC;QACV,UAAU,EAAE,MAAM;KACnB,CAAC;GACW,uBAAuB,CAUnC;AAVmC;;;;;;;;;;;;;;;ACTpC,IAAY,UAcX;AAdD,WAAY,UAAU;IACpB,wCAA0B;IAC1B,4CAA8B;IAC9B,sDAAwC;IACxC,mDAAqC;IACrC,oCAAsB;IACtB,4CAA8B;IAC9B,sDAAwC;IACxC,kDAAoC;IACpC,gEAAkD;IAClD,2DAA6C;IAC7C,wDAA0C;IAC1C,iDAAmC;IACnC,8CAAgC;AAClC,CAAC,EAdW,UAAU,KAAV,UAAU,QAcrB;;;;;;;;;;;;ACdD,+DAAe,wCAAwC,UAAU,+JAA+J,sBAAsB,kGAAkG,gBAAgB,4BAA4B","sources":["./shared-lib/components/mx-widget/mx-widget.component.ts","./shared-lib/components/mx-widget/mx-widget.module.ts","./shared-lib/services/header-footer-type/headerFooterType.service.ts","./shared-lib/services/mx-service/models/widget-type.enum.ts","./shared-lib/components/mx-widget/mx-widget.component.html"],"sourcesContent":["import {Component, Input, OnDestroy, OnInit} from '@angular/core';\nimport {Subscription} from 'rxjs';\nimport {WidgetType} from '@shared-lib/services/mx-service/models/widget-type.enum';\nimport {MXService} from '@shared-lib/services/mx-service/mx.service';\nimport {SharedUtilityService} from '@shared-lib/services/utility/utility.service';\nimport {PlatformService} from '@mobile/app/modules/shared/service/platform/platform.service';\nimport * as mxContent from './constants/content.json';\n\nexport const WIDGET_TIMOUT_DURATION = 14 * 60 * 1000;\n\n@Component({\n  selector: 'app-mx-widget',\n  templateUrl: './mx-widget.component.html',\n  styleUrls: ['./mx-widget.component.scss'],\n})\nexport class MXWidgetComponent implements OnInit, OnDestroy {\n  @Input() tagName: string;\n  @Input() widgetType: WidgetType;\n  @Input() height: string;\n  @Input() subAccount = false;\n  isWeb: boolean;\n  hasError = false;\n  content = mxContent;\n\n  private widgetTimeout = 0;\n  private platformSubscription = new Subscription();\n\n  constructor(\n    private mxService: MXService,\n    private sharedUtilityService: SharedUtilityService,\n    private platformService: PlatformService\n  ) {}\n\n  ngOnInit(): void {\n    this.refreshWidget();\n    this.isWeb = this.sharedUtilityService.getIsWeb();\n    this.platformSubscription.add(\n      this.platformService.onResume$.subscribe(this.onResume.bind(this))\n    );\n    this.platformSubscription.add(\n      this.platformService.onPause$.subscribe(this.onPause.bind(this))\n    );\n  }\n\n  onResume() {\n    if (new Date().getTime() > this.widgetTimeout) {\n      this.refreshWidget();\n    }\n  }\n\n  onPause() {\n    this.widgetTimeout = new Date().getTime() + WIDGET_TIMOUT_DURATION;\n  }\n\n  refreshWidget() {\n    this.hasError = false;\n    this.mxService\n      .displayWidget(\n        this.widgetType,\n        {\n          id: this.tagName,\n          height: this.height,\n          autoload: false,\n        },\n        this.subAccount\n      )\n      .then((res: boolean) => {\n        this.hasError = !res;\n      });\n  }\n\n  ngOnDestroy(): void {\n    this.platformSubscription.unsubscribe();\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {IonicModule} from '@ionic/angular';\nimport {MXWidgetComponent} from './mx-widget.component';\n\n@NgModule({\n  imports: [CommonModule, IonicModule],\n  declarations: [MXWidgetComponent],\n  exports: [MXWidgetComponent],\n})\nexport class MXWidgetModule {}\n","import {Injectable} from '@angular/core';\nimport {FooterInfo} from '@shared-lib/modules/footer/models/footerInfo.model';\nimport {FooterTypeService} from '@shared-lib/modules/footer/services/footer-type/footer-type.service';\nimport {HeaderInfo} from '../../models/headerInfo.model';\nimport {HeaderTypeService} from '../header-type/header-type.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class HeaderFooterTypeService {\n  constructor(\n    private headerTypeService: HeaderTypeService,\n    private footerTypeService: FooterTypeService\n  ) {}\n\n  publishType(headerInfo: HeaderInfo, footerInfo: FooterInfo): void {\n    this.headerTypeService.publish(headerInfo);\n    this.footerTypeService.publish(footerInfo);\n  }\n}\n","export enum WidgetType {\n  CONNECT = 'connect_widget',\n  FINSTRONG = 'finstrong_widget',\n  FINSTRONG_MINI = 'mini_finstrong_widget',\n  MANAGE_ACCOUNT = 'connections_widget',\n  PULSE = 'pulse_widget',\n  NET_WORTH = 'net_worth_widget',\n  NET_WORTH_MINI = 'mini_net_worth_widget',\n  TRANSACTIONS = 'transactions_widget',\n  PULSE_CAROUSEL_MINI = 'mini_pulse_carousel_widget',\n  MINI_SPENDING_WIDGET = 'mini_spending_widget',\n  MINI_BUDGET_WIDGET = 'mini_budgets_widget',\n  SPENDING_WIDGET = 'spending_widget',\n  BUDGET_WIDGET = 'budgets_widget',\n}\n","export default \"<div\\n  *ngIf=\\\"!hasError\\\"\\n  id=\\\"{{ tagName }}\\\"\\n  [ngClass]=\\\"isWeb ? 'web-mx-widget-component' : 'mobile-mx-widget-component'\\\"\\n></div>\\n<div *ngIf=\\\"hasError\\\" class=\\\"error-window\\\">\\n  <ion-text>{{ content.widgetError }}</ion-text>\\n  <ion-button (click)=\\\"refreshWidget()\\\" fill=\\\"clear\\\" color=\\\"btncolor\\\">\\n    {{ content.retry }}\\n  </ion-button>\\n</div>\\n\";"],"names":[],"sourceRoot":"webpack:///"}