{"version":3,"mappings":"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","names":["ResourceListComponent","journeyService","link","resource","type","openWebView","openModal","element","_shared_lib_services_journey_journey_service__WEBPACK_IMPORTED_MODULE_2__","_angular_core__WEBPACK_IMPORTED_MODULE_3__","selector","template","routes","path","component","_resources_component__WEBPACK_IMPORTED_MODULE_0__","ResourcesRoutingModule","imports","_angular_router__WEBPACK_IMPORTED_MODULE_3__","exports","ResourcesComponent","footerService","sharedUtilityService","isWeb","getIsWeb","publish","_shared_lib_modules_footer_constants_footerType_enum__WEBPACK_IMPORTED_MODULE_4__","selectedTab","publishSelectedTab","resources","getCurrentJourney","parsedResourcesContent","resourceType","isExpanded","expandAll","some","forEach","_shared_lib_modules_footer_services_footer_type_footer_type_service__WEBPACK_IMPORTED_MODULE_3__","_shared_lib_services_journey_journey_service__WEBPACK_IMPORTED_MODULE_5__","_shared_lib_services_utility_utility_service__WEBPACK_IMPORTED_MODULE_6__","ResourcesModule","declarations","_resources_component__WEBPACK_IMPORTED_MODULE_1__","_resource_list_resource_list_component__WEBPACK_IMPORTED_MODULE_2__","_ionic_angular__WEBPACK_IMPORTED_MODULE_7__","_angular_common__WEBPACK_IMPORTED_MODULE_8__","_resources_routing_module__WEBPACK_IMPORTED_MODULE_0__","_components_expandCollapse_expand_collapse_module__WEBPACK_IMPORTED_MODULE_3__","_components_modal_modal_module__WEBPACK_IMPORTED_MODULE_4__","__webpack_exports__"],"sources":["webpack:///shared-lib/modules/journeys/journey/resources/resource-list/resource-list.component.ts","webpack:///shared-lib/modules/journeys/journey/resources/resources-routing.module.ts","webpack:///shared-lib/modules/journeys/journey/resources/resources.component.ts","webpack:///shared-lib/modules/journeys/journey/resources/resources.module.ts","webpack:///shared-lib/modules/journeys/journey/resources/resource-list/resource-list.component.html","webpack:///shared-lib/modules/journeys/journey/resources/resources.component.html"],"sourcesContent":["import {Component, Input} from '@angular/core';\nimport {\n  Resource,\n  ResourceLink,\n} from '@shared-lib/services/journey/models/resourcesContent.model';\nimport {JourneyService} from '@shared-lib/services/journey/journey.service';\n\n@Component({\n  selector: 'journeys-resources-list',\n  templateUrl: './resource-list.component.html',\n  styleUrls: ['./resource-list.component.scss'],\n})\nexport class ResourceListComponent {\n  @Input() resource: Resource;\n  @Input() idSuffix: string;\n\n  constructor(private journeyService: JourneyService) {}\n\n  openLink(link: ResourceLink) {\n    if (this.resource.type === 'webview') {\n      this.journeyService.openWebView(link.link);\n    } else if (this.resource.type === 'video') {\n      this.journeyService.openModal({element: link});\n    }\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {Routes, RouterModule} from '@angular/router';\nimport {ResourcesComponent} from './resources.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ResourcesComponent,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ResourcesRoutingModule {}\n","import {Component} from '@angular/core';\nimport {\n  Resource,\n  ResourcesContent,\n} from '@shared-lib/services/journey/models/resourcesContent.model';\nimport * as journeyContent from '@shared-lib/services/journey/constants/journey-content.json';\nimport {JourneyContent} from '@shared-lib/services/journey/models/journeyContent.model';\nimport {FooterTypeService} from '@shared-lib/modules/footer/services/footer-type/footer-type.service';\nimport {FooterType} from '@shared-lib/modules/footer/constants/footerType.enum';\nimport {JourneyService} from '@shared-lib/services/journey/journey.service';\nimport {ViewWillEnter} from '@ionic/angular';\nimport {SharedUtilityService} from '@shared-lib/services/utility/utility.service';\n@Component({\n  selector: 'journeys-resources',\n  templateUrl: './resources.component.html',\n  styleUrls: ['./resources.component.scss'],\n})\nexport class ResourcesComponent implements ViewWillEnter {\n  resources: ResourcesContent;\n  content: JourneyContent = journeyContent;\n  expandAll = true;\n  isWeb: boolean;\n\n  constructor(\n    private footerService: FooterTypeService,\n    private journeyService: JourneyService,\n    private sharedUtilityService: SharedUtilityService\n  ) {}\n\n  ngOnInit() {\n    this.isWeb = this.sharedUtilityService.getIsWeb();\n  }\n\n  ionViewWillEnter() {\n    if (!this.isWeb) {\n      this.footerService.publish({\n        type: FooterType.tabsnav,\n        selectedTab: 'journeys',\n      });\n    } else {\n      this.footerService.publish({\n        type: FooterType.tabsnav,\n        selectedTab: 'journeys-list',\n      });\n    }\n    this.journeyService.publishSelectedTab('resources');\n    this.resources = this.journeyService.getCurrentJourney().parsedResourcesContent;\n  }\n\n  toggleExpand(resourceType: Resource) {\n    resourceType.isExpanded = !resourceType.isExpanded;\n    this.expandAll = this.resources.resources.some(\n      resource => !resource.isExpanded\n    );\n  }\n\n  expandCollapseAll() {\n    this.resources.resources.forEach(resource => {\n      resource.isExpanded = this.expandAll;\n    });\n    this.expandAll = !this.expandAll;\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {IonicModule} from '@ionic/angular';\nimport {ResourcesRoutingModule} from './resources-routing.module';\nimport {ResourcesComponent} from './resources.component';\nimport {ResourceListComponent} from './resource-list/resource-list.component';\nimport {ExpandCollapseComponentModule} from '../../components/expandCollapse/expand-collapse.module';\nimport {ModalComponentModule} from '../../components/modal/modal.module';\n\n@NgModule({\n  declarations: [ResourcesComponent, ResourcesComponent, ResourceListComponent],\n  imports: [\n    IonicModule,\n    CommonModule,\n    ResourcesRoutingModule,\n    ExpandCollapseComponentModule,\n    ModalComponentModule,\n  ],\n})\nexport class ResourcesModule {}\n","export default \"<ng-container *ngFor=\\\"let link of resource.links; let index = index\\\">\\n  <span\\n    tabindex=\\\"0\\\"\\n    (keyup.enter)=\\\"openLink(link)\\\"\\n    (click)=\\\"openLink(link)\\\"\\n    [id]=\\\"'journeyResource' + index + idSuffix\\\"\\n    >{{ link.text }}</span\\n  >\\n</ng-container>\\n\";","export default \"<div [ngClass]=\\\"isWeb ? 'web-resource' : 'mobile-resource'\\\">\\n  <div class=\\\"expand-collapse\\\">\\n    <span\\n      tabindex=\\\"0\\\"\\n      (keyup.enter)=\\\"expandCollapseAll()\\\"\\n      (click)=\\\"expandCollapseAll()\\\"\\n      id=\\\"journeyExpandCollapseAll\\\"\\n      >{{\\n        expandAll ? content.resourcesExpandLabel : content.resourcesCloseLabel\\n      }}</span\\n    >\\n  </div>\\n  <ion-list inset=\\\"true\\\" lines=\\\"full\\\" class=\\\"resource-list\\\">\\n    <ng-container\\n      *ngFor=\\\"\\n        let resource of resources?.resources;\\n        let last = last;\\n        let first = first;\\n        let index = index\\n      \\\"\\n    >\\n      <journeys-expand-collapse\\n        [isLast]=\\\"last\\\"\\n        [header]=\\\"resource.header\\\"\\n        [(isExpanded)]=\\\"resource.isExpanded\\\"\\n        [index]=\\\"index\\\"\\n      >\\n        <journeys-resources-list\\n          [resource]=\\\"resource\\\"\\n          [idSuffix]=\\\"index.toString()\\\"\\n        ></journeys-resources-list> </journeys-expand-collapse\\n    ></ng-container>\\n  </ion-list>\\n</div>\\n\";"]}