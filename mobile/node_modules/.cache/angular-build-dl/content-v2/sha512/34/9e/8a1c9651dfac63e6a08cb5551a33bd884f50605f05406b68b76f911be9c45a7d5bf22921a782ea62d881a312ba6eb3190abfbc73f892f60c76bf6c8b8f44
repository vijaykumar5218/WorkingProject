"use strict";(self.webpackChunkmyvoyage=self.webpackChunkmyvoyage||[]).push([[2398],{52398:function(t,e,n){n.r(e),n.d(e,{SavviModule:function(){return b}});var i=n(38583),o=n(47823),s=n(93206),r=n(64762),a=n(94184),c=n(2398),l=n(57700),v=n(88129),u=n(21728),d=n(37364),h=n(7935);let p=(()=>{class t{constructor(t,e,n,i){this.authService=t,this.utilityService=e,this.baseService=n,this.loadingController=i,this.tokenEndPoints=v.Ad,this.loginEndPoints=v.pQ,this.environment=this.utilityService.getEnvironment(),this.tokenEndPoints=this.utilityService.appendBaseUrlToEndpoints(v.Ad,this.environment.tokenBaseUrl),this.loginEndPoints=this.utilityService.appendBaseUrlToEndpoints(v.pQ,this.environment.loginBaseUrl)}generateSavviUrl(){return(0,r.mG)(this,void 0,void 0,function*(){if(this.loginEndPoints.savviSaml=this.loginEndPoints.savviSaml.replace("{savviBaseUrl}",this.environment.savviBaseUrl),this.utilityService.getIsWeb())return this.loginEndPoints.savviSaml;{const t=yield this.loadingController.create({translucent:!0});yield t.present();const e=yield this.authService.getAccessToken(),n={client_id:this.environment.authTokenExchangeClient,subject_token:e,subject_token_type:"access_token",audience:this.environment.ssoSamlUrl,grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",requested_token_type:"access_token",scope:"urn:voya:federation"},i=yield this.baseService.postUrlEncoded(this.tokenEndPoints.samlAuthToken,n,{});return t.dismiss(),this.loginEndPoints.savviSaml+i.access_token}})}}return t.\u0275fac=function(e){return new(e||t)(l.LFG(u.$),l.LFG(d.O),l.LFG(h.bQ),l.LFG(o.HT))},t.\u0275prov=l.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var g=n(1747),m=n(39075),f=n(89128),y=n(34972);function S(t,e){if(1&t&&l._UZ(0,"iframe",1),2&t){const t=l.oxw();l.Q6J("src",t.savviUrl,l.uOi)}}const k=[{path:"",component:(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-savvi"]],decls:1,vars:0,template:function(t,e){1&t&&l._UZ(0,"ion-router-outlet")},directives:[o.jP],encapsulation:2}),t})(),children:[{path:"enrollment-guidance",component:(()=>{class t{constructor(t,e,n,i,o){this.savviService=t,this.headerType=e,this.sanitizer=n,this.footerType=i,this.utilityService=o,this.actionOption={headername:"Dashboard",btnleft:!0,buttonLeft:{name:"",link:"back"}}}ngOnInit(){this.headerType.publish({type:a.n.navbar,actionOption:this.actionOption}),this.footerType.publish({type:c.v.none}),this.isWeb=this.utilityService.getIsWeb()}ionViewWillEnter(){return(0,r.mG)(this,void 0,void 0,function*(){this.savviUrl=this.sanitizer.bypassSecurityTrustResourceUrl(yield this.savviService.generateSavviUrl())})}}return t.\u0275fac=function(e){return new(e||t)(l.Y36(p),l.Y36(g.v),l.Y36(m.H7),l.Y36(f.c),l.Y36(d.O))},t.\u0275cmp=l.Xpm({type:t,selectors:[["app-enrollment-guidance"]],decls:5,vars:1,consts:[["title","Savvi Enrollment Guidance","allowfullscreen","",3,"src",4,"ngIf"],["title","Savvi Enrollment Guidance","allowfullscreen","",3,"src"]],template:function(t,e){1&t&&(l.TgZ(0,"ion-grid"),l.TgZ(1,"ion-row"),l.TgZ(2,"div"),l.YNc(3,S,1,1,"iframe",0),l._UZ(4,"app-footer-desktop"),l.qZA(),l.qZA(),l.qZA()),2&t&&(l.xp6(3),l.Q6J("ngIf",e.savviUrl))},directives:[o.jY,o.Nd,i.O5,y.i],styles:["ion-grid[_ngcontent-%COMP%]{padding:0;margin:0}ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{height:100%}ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{border:0;width:100%}ion-grid[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   app-footer-desktop[_ngcontent-%COMP%]{width:100%}"]}),t})()}]}];let _=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[s.Bz.forChild(k)],s.Bz]}),t})();var P=n(21898);let b=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.oAB({type:t}),t.\u0275inj=l.cJS({imports:[[i.ez,o.Pc,_,P.S]]}),t})()}}]);