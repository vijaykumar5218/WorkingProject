"use strict";(self.webpackChunkmyvoyage=self.webpackChunkmyvoyage||[]).push([[9529,2810],{79032:function(e,t,n){n.r(t),n.d(t,{LandingPageModule:function(){return Z}});var i=n(38583),o=n(90665),s=n(14081),a=n(47823),r=n(45195),c=n(64762),g=n(2398),l=JSON.parse('{"welcome":"Welcome to","nextGen":"Your next generation, employee benefits experience.","signin":"Sign In","register":"Register","signInWith":"Sign in with ","failedAttest":"Failed to validate your applications integrity. Please make sure you a running a valid version of myVoyage"}'),h=n.t(l,2),p=n(71249),d=n(94184),u=n(57700),m=n(7935),v=n(21728),f=n(52810),y=n(9408),b=n(46597);function x(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"a",24),u.NdJ("click",function(){u.CHM(e);const t=u.oxw(2).$implicit;return u.oxw(2).openLink(t.login_description[0].link_url)}),u._uU(1),u.qZA()}if(2&e){const e=u.oxw(2).$implicit;u.xp6(1),u.hij(" ",e.login_description[0].link_name,"")}}function C(e,t){if(1&e&&(u.TgZ(0,"div",19),u._UZ(1,"img",20),u.TgZ(2,"ion-text",21),u._uU(3),u.qZA(),u.TgZ(4,"ion-text",22),u._uU(5),u.YNc(6,x,2,1,"a",23),u.qZA(),u.qZA()),2&e){const e=u.oxw().$implicit;u.xp6(1),u.s9C("src",e.login_description[0].image_url,u.LSH),u.xp6(2),u.Oqu(e.login_title),u.xp6(2),u.hij(" ",e.login_description[0].description," "),u.xp6(1),u.Q6J("ngIf",e.login_description[0].link_name)}}function _(e,t){1&e&&u.YNc(0,C,7,4,"ng-template",17,18,u.W1O)}function S(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"ion-row",25),u.TgZ(1,"ion-col"),u._UZ(2,"img",26),u.TgZ(3,"ion-text",27),u.NdJ("click",function(){return u.CHM(e),u.oxw(2).loginFaceID()}),u._uU(4),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw(2);u.xp6(2),u.s9C("src",e.biometricsIcon,u.LSH),u.xp6(2),u.AsE("",e.pageText.signInWith,"",e.biometricsText,"")}}const O=function(e){return{width:e}};function w(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"ion-grid",1),u.TgZ(1,"ion-row",2),u.TgZ(2,"ion-col"),u.TgZ(3,"ion-text",3),u._uU(4),u.qZA(),u.qZA(),u.qZA(),u.TgZ(5,"ion-row",4),u.TgZ(6,"ion-col",5),u.TgZ(7,"div",6),u._UZ(8,"img",7),u._UZ(9,"img",8),u.qZA(),u.qZA(),u.qZA(),u.TgZ(10,"swiper",9),u.NdJ("swiper",function(t){return u.CHM(e),u.oxw().setSwiperInstance(t)})("slideChange",function(){return u.CHM(e),u.oxw().handleSlideChange()}),u.YNc(11,_,2,0,void 0,10),u.qZA(),u.TgZ(12,"ion-row",11),u.TgZ(13,"ion-col"),u._UZ(14,"app-step-progress-bar",12),u.qZA(),u.qZA(),u.YNc(15,S,5,3,"ion-row",13),u.TgZ(16,"ion-row",14),u.TgZ(17,"ion-col",14),u.TgZ(18,"ion-button",15),u.NdJ("click",function(){return u.CHM(e),u.oxw().signInClicked()}),u._uU(19),u.qZA(),u.qZA(),u.qZA(),u.TgZ(20,"ion-row",14),u.TgZ(21,"ion-col",14),u.TgZ(22,"ion-button",16),u.NdJ("click",function(){return u.CHM(e),u.oxw().registerClicked()}),u._uU(23),u.qZA(),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.oxw();u.xp6(4),u.Oqu(e.pageText.welcome),u.xp6(6),u.Q6J("config",e.slideOpts)("ngStyle",u.VKq(11,O,e.pageWidth)),u.xp6(1),u.Q6J("ngForOf",e.landingSteps),u.xp6(3),u.Q6J("steps",e.landingSteps)("currentStep",e.currentStep),u.xp6(1),u.Q6J("ngIf",e.hasFaceIDSession),u.xp6(3),u.Q6J("disabled",e.signInDisabled),u.xp6(1),u.hij(" ",e.pageText.signin," "),u.xp6(3),u.Q6J("disabled",e.signInDisabled),u.xp6(1),u.hij(" ",e.pageText.register," ")}}const M=[{path:"",component:(()=>{class e{constructor(e,t,n,i,o,s,a){this.baseService=e,this.authService=t,this.headerFooterTypeService=n,this.landingService=i,this.ngZone=o,this.route=s,this.loadingController=a,this.pageText=h,this.firstTimeLoad=!0,this.hasFaceIDSession=!1,this.slideOpts={slidesPerView:1,centeredSlides:!0},this.currentStep=0,this.reloading=!1,this.signInDisabled=!1}ngOnInit(){this.subscription=this.authService.authenticationChange$.subscribe(this.authenticationChanged.bind(this))}ionViewWillEnter(){return(0,c.mG)(this,void 0,void 0,function*(){this.reloading=this.authService.reloading,this.headerFooterTypeService.publishType({type:d.n.none},{type:g.v.none}),this.landingSteps=(yield this.landingService.getLandingContent()).MobileLaunchContent,this.landingSteps[0].status=p.q.completed,this.pageWidth=.8*window.innerWidth+"px",this.biometricsIcon=yield this.authService.getBiometricsIconName(),this.biometricsText=yield this.authService.getBiometricsLabel(),this.checkFaceIdSession(),this.route.queryParams.subscribe(e=>(0,c.mG)(this,void 0,void 0,function*(){this.firstTimeLoad&&!(null==e?void 0:e.noAutoLogin)&&(yield this.authService.attemptFaceIDLogin(),this.firstTimeLoad=!1,this.checkOldSessionAndRevoke())})),this.landingService.openVersionAlert()})}checkFaceIdSession(){return(0,c.mG)(this,void 0,void 0,function*(){try{this.hasFaceIDSession=yield this.authService.hasFaceIDSession()}catch(e){this.hasFaceIDSession=!1}})}authenticationChanged(e){return(0,c.mG)(this,void 0,void 0,function*(){if(e){const e=yield this.loadingController.create({translucent:!0});if(e.present(),!(yield this.landingService.validateApplication()))return alert(this.pageText.failedAttest),yield this.authService.logoutAndRevoke(),void e.dismiss();"Y"===(yield this.landingService.checkMyvoyageAccess()).enableMyVoyage?(yield this.authService.shouldShowBiometricsScreen())?this.baseService.navigateByUrl("biometrics"):this.baseService.navigateByUrl("home"):this.baseService.navigateByUrl("no-access"),e.dismiss()}})}checkOldSessionAndRevoke(){return(0,c.mG)(this,void 0,void 0,function*(){(yield this.authService.hasNonFaceIDSession())&&(yield this.authService.logoutAndRevoke())})}loginFaceID(){this.authService.attemptFaceIDLogin()}signInClicked(){return(0,c.mG)(this,void 0,void 0,function*(){this.signInDisabled=!0;const e=yield this.loadingController.create({translucent:!0});e.present(),yield this.authService.openLogin(),this.checkFaceIdSession(),e.dismiss(),this.signInDisabled=!1})}registerClicked(){return(0,c.mG)(this,void 0,void 0,function*(){this.signInDisabled=!0;const e=yield this.loadingController.create({translucent:!0});e.present(),yield this.authService.openRegister(),this.checkFaceIdSession(),e.dismiss(),this.signInDisabled=!1})}setSwiperInstance(e){this.slides=e}openLink(e){this.landingService.openInBrowser(e)}handleSlideChange(){this.ngZone.run(()=>{this.currentStep=this.slides.activeIndex,this.landingSteps[this.currentStep].status=p.q.completed,this.currentStep+1<this.landingSteps.length&&(this.landingSteps[this.currentStep+1].status=p.q.notStarted)})}ngOnDestroy(){this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(m.bQ),u.Y36(v.$),u.Y36(f.J),u.Y36(y.U),u.Y36(u.R0b),u.Y36(r.gz),u.Y36(a.HT))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-landing"]],decls:1,vars:1,consts:[["class","p-0","class","container",4,"ngIf"],[1,"container"],[1,"top-row"],[1,"welcome"],[1,"logo-row"],[1,"logo-col"],[1,"logo-div"],["src","assets/icon/compass.svg","alt","voya compass",1,"compass"],["src","assets/icon/myVoyageNoO.svg","alt","voya logo",1,"logo"],["id","swiper-container",3,"config","ngStyle","swiper","slideChange"],[4,"ngFor","ngForOf"],[1,"progress-row"],[3,"steps","currentStep"],["class","face-id-row",4,"ngIf"],[1,"p-0"],["name","submit","shape","round","expand","block","type","submit","color","btncolor","id","sign-in-button",1,"sign-in",3,"disabled","click"],["name","submit","shape","round","expand","block","type","submit","color","white","fill","outline","id","register-button",1,"register",3,"disabled","click"],["swiperSlide",""],["swiper",""],[1,"page-container"],["alt","ssss",1,"slide-img",3,"src"],[1,"page-title"],[1,"page-desc"],[3,"click",4,"ngIf"],[3,"click"],[1,"face-id-row"],["alt","",1,"bio-icon",3,"src"],[1,"bio-text",3,"click"]],template:function(e,t){1&e&&u.YNc(0,w,24,13,"ion-grid",0),2&e&&u.Q6J("ngIf",!t.reloading)},directives:[i.O5,a.jY,a.Nd,a.wI,a.yW,s.nF,i.PC,i.sg,b.b,a.YG,s.YC],styles:["[_nghost-%COMP%]{background-color:var(--primary-colors-voya-white)}@keyframes rotate-compass{0%{opacity:0;transform:translate(15%) rotate(0) scale(5)}5%{opacity:1;transform:translate(15%) scale(5)}10%{transform:translate(15%) scale(5)}20%{transform:translate(15%) rotate(-90deg) scale(5)}60%{transform:translate(0) rotate(90deg) scale(1)}to{transform:translate(0) rotate(0)}}@keyframes fade-in{0%{opacity:0}60%{opacity:0}to{opacity:1}}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{height:100%}@media screen and (max-height: 700px){[_nghost-%COMP%]   .top-row[_ngcontent-%COMP%]{margin-top:12px;margin-bottom:8px}[_nghost-%COMP%]   .top-row.ios[_ngcontent-%COMP%]{margin-top:20px}[_nghost-%COMP%]   .page-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}}[_nghost-%COMP%]   .top-row[_ngcontent-%COMP%]{margin-bottom:12px;height:24px;font-size:18px;line-height:1.33;letter-spacing:.03px;text-align:center;color:var(--primary-colors-voya-black)}@media screen and (min-height: 700px){[_nghost-%COMP%]   .top-row[_ngcontent-%COMP%]{margin-top:40px}[_nghost-%COMP%]   .top-row.ios[_ngcontent-%COMP%]{margin-top:70px}}[_nghost-%COMP%]   #swiper-container[_ngcontent-%COMP%]{animation:fade-in 2.5s ease-in-out both;margin-bottom:20px;height:35%}[_nghost-%COMP%]   .swiper-slide[_ngcontent-%COMP%]{display:flex;flex-direction:column!important}[_nghost-%COMP%]   .page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}[_nghost-%COMP%]   .page-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-height:0;flex-shrink:1;margin:auto auto 10px}[_nghost-%COMP%]   .page-container[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:16px;font-weight:bold;letter-spacing:.02px;margin-bottom:8px;margin-top:8px;color:var(--primary-colors-voya-black)}[_nghost-%COMP%]   .page-container[_ngcontent-%COMP%]   .page-desc[_ngcontent-%COMP%]{font-size:16px;font-weight:normal;letter-spacing:.08px;text-align:left;color:var(--primary-colors-voya-black)}[_nghost-%COMP%]   .page-container[_ngcontent-%COMP%]   .page-desc[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-colors-voya-dark-blue)}[_nghost-%COMP%]   .welcome[_ngcontent-%COMP%]{display:block;margin:auto;text-align:center;font-size:18px;letter-spacing:.03px;color:var(--primary-colors-voya-black);animation:fade-in 2.5s ease-in-out both}[_nghost-%COMP%]   .logo-col[_ngcontent-%COMP%]{margin:20px auto 5%}[_nghost-%COMP%]   .logo-col[_ngcontent-%COMP%]   .logo-div[_ngcontent-%COMP%]{display:block;width:292px;height:89.3px;margin:auto}[_nghost-%COMP%]   .logo-col[_ngcontent-%COMP%]   .logo-div[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{position:absolute;top:0px;left:50%;transform:translate(-50%);width:292px;height:89.3px;animation:fade-in 2.5s ease-in-out both}[_nghost-%COMP%]   .logo-col[_ngcontent-%COMP%]   .logo-div[_ngcontent-%COMP%]   .compass[_ngcontent-%COMP%]{height:46.5px;width:46.5px;position:absolute;top:0;left:calc(50% - 39px);transform:translate(-50%);animation:rotate-compass 2.5s ease-in-out both}[_nghost-%COMP%]   .progress-row[_ngcontent-%COMP%]{animation:fade-in 2.5s ease-in-out both}[_nghost-%COMP%]   .face-id-row[_ngcontent-%COMP%]{margin-top:20px;font-size:16px;line-height:1.25;letter-spacing:.08px;color:var(--primary-colors-voya-dark-blue);animation:fade-in 2.5s ease-in-out both;text-align:center}[_nghost-%COMP%]   .face-id-row[_ngcontent-%COMP%]   .bio-icon[_ngcontent-%COMP%]{height:20px;width:20px;display:inline-block;vertical-align:bottom;margin-right:8px}[_nghost-%COMP%]   .face-id-row[_ngcontent-%COMP%]   .bio-text[_ngcontent-%COMP%]{display:inline-block;text-align:center}[_nghost-%COMP%]   ion-button[_ngcontent-%COMP%]{display:block;width:220px;height:40px;margin:20px auto 0;animation:fade-in 2.5s ease-in-out both}[_nghost-%COMP%]   ion-button.register[_ngcontent-%COMP%]{--border-color: var(--primary-colors-voya-dark-blue);--border-width: 2px}"]}),e})()}];let P=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[r.Bz.forChild(M)],r.Bz]}),e})();var k=n(76192);let Z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[i.ez,o.u5,a.Pc,P,s.kz,k.q]]}),e})()},69587:function(e,t,n){n.d(t,{v:function(){return c}});var i=n(64762);const o={myvoyageAccess:"myvoyage/ws/ers/service/myvoyageenabled",myWorkplaceDashboardEnabled:"myvoyage/ws/ers/dashboard/enabled"};var s=n(57700),a=n(7935),r=n(37364);let c=(()=>{class e{constructor(e,t){this.baseService=e,this.utilityService=t,this.endpoints=o,this.endpoints=this.utilityService.appendBaseUrlToEndpoints(o)}checkMyvoyageAccess(e=!1){return(0,i.mG)(this,void 0,void 0,function*(){return(!this.accessResult||e)&&(this.accessResult=yield this.baseService.get(this.endpoints.myvoyageAccess)),this.accessResult})}checkForWorkplaceLandingPage(e=!1){return(0,i.mG)(this,void 0,void 0,function*(){return(!this.landingPageResult||e)&&(this.landingPageResult=yield this.baseService.get(this.endpoints.myWorkplaceDashboardEnabled)),this.landingPageResult})}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(a.bQ),s.LFG(r.O))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},52810:function(e,t,n){n.d(t,{J:function(){return a}});var i=n(57700),o=n(1747),s=n(89128);let a=(()=>{class e{constructor(e,t){this.headerTypeService=e,this.footerTypeService=t}publishType(e,t){this.headerTypeService.publish(e),this.footerTypeService.publish(t)}}return e.\u0275fac=function(t){return new(t||e)(i.LFG(o.v),i.LFG(s.c))},e.\u0275prov=i.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);