{"version":3,"mappings":"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","names":["contextRoot","endPoints","logoutContent","routes","path","component","_logout_page__WEBPACK_IMPORTED_MODULE_0__","LogoutPageRoutingModule","imports","_angular_router__WEBPACK_IMPORTED_MODULE_3__","exports","LogoutPageModule","_angular_common__WEBPACK_IMPORTED_MODULE_4__","_angular_forms__WEBPACK_IMPORTED_MODULE_5__","_ionic_angular__WEBPACK_IMPORTED_MODULE_6__","_logout_routing_module__WEBPACK_IMPORTED_MODULE_0__","declarations","_logout_page__WEBPACK_IMPORTED_MODULE_1__","LogoutPage","authService","headerFooterService","logoutService","baseService","loadingController","landingService","authenticationChange$","_subscribe","authenticationChanged","bind","getLogoutContent","isAuth","create","translucent","loading","present","checkMyvoyageAccess","result","enableMyVoyage","navigateByUrl","dismiss","reloading","publishType","type","_shared_lib_constants_headerType_enum__WEBPACK_IMPORTED_MODULE_8__","_shared_lib_modules_footer_constants_footerType_enum__WEBPACK_IMPORTED_MODULE_3__","openLogin","_shared_service_authentication_authentication_service__WEBPACK_IMPORTED_MODULE_4__","_shared_lib_services_header_footer_type_headerFooterType_service__WEBPACK_IMPORTED_MODULE_9__","_service_logout_service__WEBPACK_IMPORTED_MODULE_6__","_shared_lib_services_base_base_factory_provider__WEBPACK_IMPORTED_MODULE_2__","_ionic_angular__WEBPACK_IMPORTED_MODULE_11__","_landing_service_landing_service__WEBPACK_IMPORTED_MODULE_7__","selector","template","LogoutService","utilityService","_constants_endpoints__WEBPACK_IMPORTED_MODULE_2__","appendBaseUrlToEndpoints","get","JSON","parse","SessionTimeoutContent","_shared_lib_services_base_base_factory_provider__WEBPACK_IMPORTED_MODULE_0__","_shared_lib_services_utility_utility_service__WEBPACK_IMPORTED_MODULE_1__","providedIn","AlertWindowService","alertController","router","msg","link","cssClass","header","pageText","systemUnavailable","subHeader","message","youMustUse","buttons","backdropDismiss","undefined","alert","onDidDismiss","then","opts","_ionic_angular__WEBPACK_IMPORTED_MODULE_2__","HeaderFooterTypeService","headerTypeService","footerTypeService","headerInfo","footerInfo","publish","_header_type_header_type_service__WEBPACK_IMPORTED_MODULE_1__","_shared_lib_modules_footer_services_footer_type_footer_type_service__WEBPACK_IMPORTED_MODULE_0__","__webpack_exports__"],"sources":["webpack:///mobile/src/app/modules/features/logout/constants/endpoints.ts","webpack:///mobile/src/app/modules/features/logout/logout-routing.module.ts","webpack:///mobile/src/app/modules/features/logout/logout.module.ts","webpack:///mobile/src/app/modules/features/logout/logout.page.ts","webpack:///mobile/src/app/modules/features/logout/service/logout.service.ts","webpack:///mobile/src/app/modules/shared/service/alert-window/alert-window.service.ts","webpack:///shared-lib/services/header-footer-type/headerFooterType.service.ts","webpack:///mobile/src/app/modules/features/logout/logout.page.html"],"sourcesContent":["const contextRoot = 'myvoyage/public/';\n\n//Logout endpoints\nexport const endPoints = {\n  logoutContent: contextRoot + 'content/section/Logout',\n};\n","import {NgModule} from '@angular/core';\nimport {Routes, RouterModule} from '@angular/router';\n\nimport {LogoutPage} from './logout.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LogoutPage,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LogoutPageRoutingModule {}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule} from '@angular/forms';\n\nimport {IonicModule} from '@ionic/angular';\n\nimport {LogoutPageRoutingModule} from './logout-routing.module';\n\nimport {LogoutPage} from './logout.page';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, LogoutPageRoutingModule],\n  declarations: [LogoutPage],\n})\nexport class LogoutPageModule {}\n","import {Component, OnInit} from '@angular/core';\nimport {LoadingController, ViewDidEnter, ViewWillEnter} from '@ionic/angular';\nimport {BaseService} from '@shared-lib/services/base/base-factory-provider';\nimport {FooterType} from '@shared-lib/modules/footer/constants/footerType.enum';\nimport {AuthenticationService} from '../../shared/service/authentication/authentication.service';\nimport * as landingText from './constants/logout-content.json';\nimport {LogoutContent} from './models/logout.model';\nimport {LogoutService} from './service/logout.service';\nimport {LandingService} from '../landing/service/landing.service';\nimport {HeaderType} from '@shared-lib/constants/headerType.enum';\nimport {HeaderFooterTypeService} from '@shared-lib/services/header-footer-type/headerFooterType.service';\n\n@Component({\n  selector: 'app-logout',\n  templateUrl: './logout.page.html',\n  styleUrls: ['./logout.page.scss'],\n})\nexport class LogoutPage implements ViewDidEnter, OnInit, ViewWillEnter {\n  pageText: Record<string, string> = landingText;\n  logoutContent: LogoutContent;\n  reloading = false;\n\n  constructor(\n    private authService: AuthenticationService,\n    private headerFooterService: HeaderFooterTypeService,\n    private logoutService: LogoutService,\n    private baseService: BaseService,\n    private loadingController: LoadingController,\n    private landingService: LandingService\n  ) {}\n\n  async ngOnInit() {\n    this.authService.authenticationChange$._subscribe(\n      this.authenticationChanged.bind(this)\n    );\n\n    this.logoutContent = await this.logoutService.getLogoutContent();\n  }\n\n  async authenticationChanged(isAuth: boolean) {\n    if (isAuth) {\n      const loading = await this.loadingController.create({\n        translucent: true,\n      });\n      loading.present();\n\n      const result = await this.landingService.checkMyvoyageAccess();\n\n      if (result.enableMyVoyage === 'Y') {\n        this.baseService.navigateByUrl('home');\n      } else {\n        this.baseService.navigateByUrl('no-access');\n      }\n\n      loading.dismiss();\n    }\n  }\n\n  ionViewWillEnter(): void {\n    this.reloading = this.authService.reloading;\n  }\n\n  async ionViewDidEnter() {\n    this.headerFooterService.publishType(\n      {type: HeaderType.none},\n      {type: FooterType.none}\n    );\n  }\n\n  async signInClicked() {\n    this.authService.openLogin();\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {BaseService} from '@shared-lib/services/base/base-factory-provider';\nimport {SharedUtilityService} from '@shared-lib/services/utility/utility.service';\nimport {endPoints} from '../constants/endpoints';\nimport {LogoutContent} from '../models/logout.model';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class LogoutService {\n  endPoints = endPoints;\n\n  constructor(\n    private baseService: BaseService,\n    private utilityService: SharedUtilityService\n  ) {\n    this.endPoints = this.utilityService.appendBaseUrlToEndpoints(endPoints);\n  }\n\n  async getLogoutContent(): Promise<LogoutContent> {\n    const result = await this.baseService.get(\n      this.endPoints.logoutContent,\n      false\n    );\n    return JSON.parse(result.SessionTimeoutContent);\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {Router} from '@angular/router';\nimport {AlertController} from '@ionic/angular';\nimport {AlertWindow} from '../../../../../../src/app/data/schema/AlterWindow';\nimport * as text from './constants/alertText.json';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AlertWindowService {\n  pageText: Record<string, string> = text;\n\n  constructor(\n    public alertController: AlertController,\n    private router: Router\n  ) {}\n\n  async presentAlert(msg?: AlertWindow) {\n    const link = msg.link || '';\n    const alert = await this.alertController.create({\n      cssClass: msg.cssClass || 'alert-window',\n      header: msg.header || this.pageText.systemUnavailable,\n      subHeader: msg.subHeader || '',\n      message: msg.message || this.pageText.youMustUse,\n      buttons: msg.buttons || ['OK'],\n      backdropDismiss:\n        msg?.backdropDismiss !== undefined ? msg.backdropDismiss : true,\n    });\n\n    await alert.present();\n    if (link !== '') {\n      await alert.onDidDismiss().then(() => {\n        this.router.navigateByUrl('' + link);\n      });\n    } else {\n      await alert.onDidDismiss();\n    }\n  }\n\n  async createAndPresent(opts: any) {\n    const alert = await this.alertController.create(opts);\n    return alert.present();\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {FooterInfo} from '@shared-lib/modules/footer/models/footerInfo.model';\nimport {FooterTypeService} from '@shared-lib/modules/footer/services/footer-type/footer-type.service';\nimport {HeaderInfo} from '../../models/headerInfo.model';\nimport {HeaderTypeService} from '../header-type/header-type.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class HeaderFooterTypeService {\n  constructor(\n    private headerTypeService: HeaderTypeService,\n    private footerTypeService: FooterTypeService\n  ) {}\n\n  publishType(headerInfo: HeaderInfo, footerInfo: FooterInfo): void {\n    this.headerTypeService.publish(headerInfo);\n    this.footerTypeService.publish(footerInfo);\n  }\n}\n","export default \"<ion-grid class=\\\"p-0\\\" *ngIf=\\\"!reloading\\\">\\n  <ion-row>\\n    <ion-col>\\n      <img class=\\\"logo\\\" src=\\\"assets/icon/myVoyageNew.svg\\\" alt=\\\"myvoyage logo\\\" />\\n    </ion-col>\\n  </ion-row>\\n  <ion-row>\\n    <ion-col>\\n      <img class=\\\"lock-img\\\" src=\\\"{{logoutContent?.image_url}}\\\" alt=\\\"lock\\\" />\\n    </ion-col>\\n  </ion-row>\\n  <ion-row>\\n    <ion-col>\\n      <ion-text class=\\\"title\\\">\\n        {{logoutContent?.timeOutMessage}}\\n      </ion-text>\\n    </ion-col>\\n  </ion-row>\\n  <ion-row>\\n    <ion-col>\\n      <ion-text class=\\\"desc1\\\">\\n        {{logoutContent?.timeOutMessage1}}\\n      </ion-text>\\n    </ion-col>\\n  </ion-row>\\n  <ion-row>\\n    <ion-col>\\n      <ion-text class=\\\"desc2\\\">\\n        {{logoutContent?.timeOutMessage2}}\\n      </ion-text>\\n    </ion-col>\\n  </ion-row>\\n  <ion-row class=\\\"p-0\\\">\\n    <ion-col class=\\\"p-0\\\">\\n      <ion-button\\n        id=\\\"sign-in-button\\\"\\n        (click)=\\\"signInClicked()\\\"\\n        class=\\\"sign-in\\\"\\n        name=\\\"submit\\\"\\n        shape=\\\"round\\\"\\n        expand=\\\"block\\\"\\n        type=\\\"submit\\\"\\n        color=\\\"btncolor\\\"\\n      >\\n        {{pageText.signIn}}\\n      </ion-button>\\n    </ion-col>\\n  </ion-row>\\n</ion-grid>\\n\";"]}