"use strict";(self.webpackChunkmyvoyage=self.webpackChunkmyvoyage||[]).push([[2398],{52398:function(e,t,i){i.r(t),i.d(t,{SavviModule:function(){return U}});var n=i(38583),o=i(47823),r=i(93206),s=i(97582),a=i(94184),c=i(2398),l=i(57700),v=i(88129),u=i(21728),h=i(37364),p=i(7935);let d=(()=>{class e{constructor(e,t,i,n){this.authService=e,this.utilityService=t,this.baseService=i,this.loadingController=n,this.tokenEndPoints=v.Ad,this.loginEndPoints=v.pQ,this.environment=this.utilityService.getEnvironment(),this.tokenEndPoints=this.utilityService.appendBaseUrlToEndpoints(v.Ad,this.environment.tokenBaseUrl),this.loginEndPoints=this.utilityService.appendBaseUrlToEndpoints(v.pQ,this.environment.loginBaseUrl)}generateSavviUrl(){return(0,s.mG)(this,void 0,void 0,function*(){if(this.loginEndPoints.savviSaml=this.loginEndPoints.savviSaml.replace("{savviBaseUrl}",this.environment.savviBaseUrl),this.utilityService.getIsWeb())return this.loginEndPoints.savviSaml;{const e=yield this.loadingController.create({translucent:!0});yield e.present();const t=yield this.authService.getAccessToken(),i={client_id:this.environment.authTokenExchangeClient,subject_token:t,subject_token_type:"access_token",audience:this.environment.ssoSamlUrl,grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",requested_token_type:"access_token",scope:"urn:voya:federation"},n=yield this.baseService.postUrlEncoded(this.tokenEndPoints.samlAuthToken,i,{});return e.dismiss(),this.loginEndPoints.savviSaml+n.access_token}})}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(u.$),l.LFG(h.O),l.LFG(p.bQ),l.LFG(o.HT))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var g=i(1747),m=i(39075),y=i(89128);function f(e,t){if(1&e){const e=l.EpF();l.TgZ(0,"ion-row"),l.TgZ(1,"voya-global-basic-header",4),l.TgZ(2,"v-desktop-navbar-item",5),l.NdJ("click",function(){return l.CHM(e),l.oxw().return()}),l.qZA(),l.TgZ(3,"v-icon",6),l.NdJ("click",function(){return l.CHM(e),l.oxw().return()}),l.qZA(),l.qZA(),l.qZA()}if(2&e){const e=l.oxw();l.xp6(1),l.Q6J("logoBaseUrl",e.logoBaseUrl)}}function S(e,t){if(1&e&&l._UZ(0,"iframe",7),2&e){const e=l.oxw();l.Q6J("src",e.savviUrl,l.uOi)}}const k=function(e){return{"savvi-mobile":e}},b=[{path:"",component:(()=>{class e{constructor(e){this.utilityService=e}ionViewWillEnter(){this.utilityService.setSuppressHeaderFooter(!0)}ionViewWillLeave(){this.utilityService.setSuppressHeaderFooter(!1)}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(h.O))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-savvi"]],decls:1,vars:0,template:function(e,t){1&e&&l._UZ(0,"ion-router-outlet")},directives:[o.jP],encapsulation:2}),e})(),children:[{path:"enrollment-guidance",component:(()=>{class e{constructor(e,t,i,n,o){this.savviService=e,this.headerType=t,this.sanitizer=i,this.footerType=n,this.utilityService=o,this.actionOption={headername:"myVoyage",btnleft:!0,buttonLeft:{name:"",link:"back"}}}ngOnInit(){this.headerType.publish({type:a.n.navbar,actionOption:this.actionOption}),this.footerType.publish({type:c.v.none}),this.isWeb=this.utilityService.getIsWeb(),this.utilityService.setSuppressHeaderFooter(!0);const e=this.utilityService.getEnvironment().loginBaseUrl;this.logoBaseUrl=e.slice(0,e.length-1)}ionViewWillEnter(){return(0,s.mG)(this,void 0,void 0,function*(){this.utilityService.setSuppressHeaderFooter(!0),this.savviUrl=this.sanitizer.bypassSecurityTrustResourceUrl(yield this.savviService.generateSavviUrl())})}return(){this.utilityService.backToPrevious()}ionViewWillLeave(){this.utilityService.setSuppressHeaderFooter(!1)}ngOnDestroy(){this.utilityService.setSuppressHeaderFooter(!1)}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(d),l.Y36(g.v),l.Y36(m.H7),l.Y36(y.c),l.Y36(h.O))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-enrollment-guidance"]],decls:4,vars:5,consts:[[3,"ngClass"],[4,"ngIf"],[1,"savvi-iframe-row"],["title","Savvi Enrollment Guidance","allowfullscreen","",3,"src",4,"ngIf"],["logoHref","/myvoyageui/#",3,"logoBaseUrl"],["slot","links","link","","text","Return",3,"click"],["primary","","name","x","size","20px",3,"click"],["title","Savvi Enrollment Guidance","allowfullscreen","",3,"src"]],template:function(e,t){1&e&&(l.TgZ(0,"ion-grid",0),l.YNc(1,f,4,1,"ion-row",1),l.TgZ(2,"ion-row",2),l.YNc(3,S,1,1,"iframe",3),l.qZA(),l.qZA()),2&e&&(l.Q6J("ngClass",l.VKq(3,k,!t.isWeb)),l.xp6(1),l.Q6J("ngIf",t.isWeb),l.xp6(2),l.Q6J("ngIf",t.savviUrl))},directives:[o.jY,n.mk,n.O5,o.Nd],styles:["ion-grid.savvi-mobile[_ngcontent-%COMP%]{padding:0;margin:0}ion-grid[_ngcontent-%COMP%]   ion-row.savvi-iframe-row[_ngcontent-%COMP%]{height:100%}ion-grid[_ngcontent-%COMP%]   ion-row.savvi-iframe-row[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{border:0;width:100%}ion-grid[_ngcontent-%COMP%]   v-icon[_ngcontent-%COMP%]{cursor:pointer}"]}),e})()}]}];let w=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[r.Bz.forChild(b)],r.Bz]}),e})(),U=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[n.ez,o.Pc,w]]}),e})()}}]);