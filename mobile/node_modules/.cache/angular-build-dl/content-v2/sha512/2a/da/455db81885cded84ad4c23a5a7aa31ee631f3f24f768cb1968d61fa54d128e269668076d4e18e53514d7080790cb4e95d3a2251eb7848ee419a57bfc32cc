{"version":3,"mappings":"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","names":["CameraWeb","getPhoto","options","Promise","resolve","reject","webUseInput","source","CameraSource","_this","fileInputExperience","actionSheet","document","querySelector","createElement","body","appendChild","header","promptLabelHeader","cancelable","title","promptLabelPhoto","promptLabelPicture","addEventListener","e","selection","detail","cameraExperience","pickImages","_options","_this2","multipleFileInputExperience","customElements","get","cameraModal","facingMode","direction","CameraDirection","componentOnReady","photo","CapacitorException","Error","_this3","_getCameraPhoto","dismiss","removeChild","present","console","error","input","cleanup","_a","parentNode","id","type","hidden","_e","file","files","format","resultType","reader","FileReader","dataUrl","result","b64","split","base64String","readAsDataURL","webPath","URL","createObjectURL","accept","capture","removeAttribute","click","multiple","photos","i","length","push","saved","onloadend","r","onerror","checkPermissions","navigator","permissions","_this4","unavailable","window","query","name","permission","camera","state","requestPermissions","_this5","unimplemented","pickLimitedLibraryPhotos","_this6","getLimitedLibraryPhotos","_this7","WebPlugin","Camera"],"sources":["webpack:///node_modules/@capacitor/camera/dist/esm/web.js"],"sourcesContent":["import { WebPlugin, CapacitorException } from '@capacitor/core';\nimport { CameraSource, CameraDirection } from './definitions';\nexport class CameraWeb extends WebPlugin {\n    async getPhoto(options) {\n        // eslint-disable-next-line no-async-promise-executor\n        return new Promise(async (resolve, reject) => {\n            if (options.webUseInput || options.source === CameraSource.Photos) {\n                this.fileInputExperience(options, resolve);\n            }\n            else if (options.source === CameraSource.Prompt) {\n                let actionSheet = document.querySelector('pwa-action-sheet');\n                if (!actionSheet) {\n                    actionSheet = document.createElement('pwa-action-sheet');\n                    document.body.appendChild(actionSheet);\n                }\n                actionSheet.header = options.promptLabelHeader || 'Photo';\n                actionSheet.cancelable = false;\n                actionSheet.options = [\n                    { title: options.promptLabelPhoto || 'From Photos' },\n                    { title: options.promptLabelPicture || 'Take Picture' },\n                ];\n                actionSheet.addEventListener('onSelection', async (e) => {\n                    const selection = e.detail;\n                    if (selection === 0) {\n                        this.fileInputExperience(options, resolve);\n                    }\n                    else {\n                        this.cameraExperience(options, resolve, reject);\n                    }\n                });\n            }\n            else {\n                this.cameraExperience(options, resolve, reject);\n            }\n        });\n    }\n    async pickImages(_options) {\n        // eslint-disable-next-line no-async-promise-executor\n        return new Promise(async (resolve) => {\n            this.multipleFileInputExperience(resolve);\n        });\n    }\n    async cameraExperience(options, resolve, reject) {\n        if (customElements.get('pwa-camera-modal')) {\n            const cameraModal = document.createElement('pwa-camera-modal');\n            cameraModal.facingMode =\n                options.direction === CameraDirection.Front ? 'user' : 'environment';\n            document.body.appendChild(cameraModal);\n            try {\n                await cameraModal.componentOnReady();\n                cameraModal.addEventListener('onPhoto', async (e) => {\n                    const photo = e.detail;\n                    if (photo === null) {\n                        reject(new CapacitorException('User cancelled photos app'));\n                    }\n                    else if (photo instanceof Error) {\n                        reject(photo);\n                    }\n                    else {\n                        resolve(await this._getCameraPhoto(photo, options));\n                    }\n                    cameraModal.dismiss();\n                    document.body.removeChild(cameraModal);\n                });\n                cameraModal.present();\n            }\n            catch (e) {\n                this.fileInputExperience(options, resolve);\n            }\n        }\n        else {\n            console.error(`Unable to load PWA Element 'pwa-camera-modal'. See the docs: https://capacitorjs.com/docs/web/pwa-elements.`);\n            this.fileInputExperience(options, resolve);\n        }\n    }\n    fileInputExperience(options, resolve) {\n        let input = document.querySelector('#_capacitor-camera-input');\n        const cleanup = () => {\n            var _a;\n            (_a = input.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(input);\n        };\n        if (!input) {\n            input = document.createElement('input');\n            input.id = '_capacitor-camera-input';\n            input.type = 'file';\n            input.hidden = true;\n            document.body.appendChild(input);\n            input.addEventListener('change', (_e) => {\n                const file = input.files[0];\n                let format = 'jpeg';\n                if (file.type === 'image/png') {\n                    format = 'png';\n                }\n                else if (file.type === 'image/gif') {\n                    format = 'gif';\n                }\n                if (options.resultType === 'dataUrl' ||\n                    options.resultType === 'base64') {\n                    const reader = new FileReader();\n                    reader.addEventListener('load', () => {\n                        if (options.resultType === 'dataUrl') {\n                            resolve({\n                                dataUrl: reader.result,\n                                format,\n                            });\n                        }\n                        else if (options.resultType === 'base64') {\n                            const b64 = reader.result.split(',')[1];\n                            resolve({\n                                base64String: b64,\n                                format,\n                            });\n                        }\n                        cleanup();\n                    });\n                    reader.readAsDataURL(file);\n                }\n                else {\n                    resolve({\n                        webPath: URL.createObjectURL(file),\n                        format: format,\n                    });\n                    cleanup();\n                }\n            });\n        }\n        input.accept = 'image/*';\n        input.capture = true;\n        if (options.source === CameraSource.Photos ||\n            options.source === CameraSource.Prompt) {\n            input.removeAttribute('capture');\n        }\n        else if (options.direction === CameraDirection.Front) {\n            input.capture = 'user';\n        }\n        else if (options.direction === CameraDirection.Rear) {\n            input.capture = 'environment';\n        }\n        input.click();\n    }\n    multipleFileInputExperience(resolve) {\n        let input = document.querySelector('#_capacitor-camera-input-multiple');\n        const cleanup = () => {\n            var _a;\n            (_a = input.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(input);\n        };\n        if (!input) {\n            input = document.createElement('input');\n            input.id = '_capacitor-camera-input-multiple';\n            input.type = 'file';\n            input.hidden = true;\n            input.multiple = true;\n            document.body.appendChild(input);\n            input.addEventListener('change', (_e) => {\n                const photos = [];\n                // eslint-disable-next-line @typescript-eslint/prefer-for-of\n                for (let i = 0; i < input.files.length; i++) {\n                    const file = input.files[i];\n                    let format = 'jpeg';\n                    if (file.type === 'image/png') {\n                        format = 'png';\n                    }\n                    else if (file.type === 'image/gif') {\n                        format = 'gif';\n                    }\n                    photos.push({\n                        webPath: URL.createObjectURL(file),\n                        format: format,\n                    });\n                }\n                resolve({ photos });\n                cleanup();\n            });\n        }\n        input.accept = 'image/*';\n        input.click();\n    }\n    _getCameraPhoto(photo, options) {\n        return new Promise((resolve, reject) => {\n            const reader = new FileReader();\n            const format = photo.type.split('/')[1];\n            if (options.resultType === 'uri') {\n                resolve({\n                    webPath: URL.createObjectURL(photo),\n                    format: format,\n                    saved: false,\n                });\n            }\n            else {\n                reader.readAsDataURL(photo);\n                reader.onloadend = () => {\n                    const r = reader.result;\n                    if (options.resultType === 'dataUrl') {\n                        resolve({\n                            dataUrl: r,\n                            format: format,\n                            saved: false,\n                        });\n                    }\n                    else {\n                        resolve({\n                            base64String: r.split(',')[1],\n                            format: format,\n                            saved: false,\n                        });\n                    }\n                };\n                reader.onerror = e => {\n                    reject(e);\n                };\n            }\n        });\n    }\n    async checkPermissions() {\n        if (typeof navigator === 'undefined' || !navigator.permissions) {\n            throw this.unavailable('Permissions API not available in this browser');\n        }\n        try {\n            // https://developer.mozilla.org/en-US/docs/Web/API/Permissions/query\n            // the specific permissions that are supported varies among browsers that implement the\n            // permissions API, so we need a try/catch in case 'camera' is invalid\n            const permission = await window.navigator.permissions.query({\n                name: 'camera',\n            });\n            return {\n                camera: permission.state,\n                photos: 'granted',\n            };\n        }\n        catch (_a) {\n            throw this.unavailable('Camera permissions are not available in this browser');\n        }\n    }\n    async requestPermissions() {\n        throw this.unimplemented('Not implemented on web.');\n    }\n    async pickLimitedLibraryPhotos() {\n        throw this.unavailable('Not implemented on web.');\n    }\n    async getLimitedLibraryPhotos() {\n        throw this.unavailable('Not implemented on web.');\n    }\n}\nconst Camera = new CameraWeb();\nexport { Camera };\n"]}