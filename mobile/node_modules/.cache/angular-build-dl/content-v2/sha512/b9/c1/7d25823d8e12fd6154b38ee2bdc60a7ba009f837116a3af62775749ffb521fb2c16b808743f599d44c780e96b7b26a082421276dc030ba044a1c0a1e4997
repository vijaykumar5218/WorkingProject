{"version":3,"mappings":"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","names":["routes","path","component","_edit_display_name_page__WEBPACK_IMPORTED_MODULE_0__","EditDisplayNamePageRoutingModule","imports","_angular_router__WEBPACK_IMPORTED_MODULE_3__","exports","EditDisplayNamePageModule","_angular_common__WEBPACK_IMPORTED_MODULE_4__","_angular_forms__WEBPACK_IMPORTED_MODULE_5__","_ionic_angular__WEBPACK_IMPORTED_MODULE_6__","_edit_display_name_routing_module__WEBPACK_IMPORTED_MODULE_0__","declarations","_edit_display_name_page__WEBPACK_IMPORTED_MODULE_1__","EditDisplayNamePage","headerType","accountService","router","modalController","editDisplayNameService","utilityService","platformService","JSON","parse","stringify","headername","btnleft","btnright","buttonLeft","name","link","buttonRight","isWeb","getIsWeb","isDesktop","subscribe","data","publish","type","_shared_lib_constants_headerType_enum__WEBPACK_IMPORTED_MODULE_4__","actionOption","fetchParticipant","subscription","getParticipant","participantData","rootPath","navigateByUrl","val","displayName","toString","trim","length","displayNameVailid","create","_shared_lib_components_alert_alert_component__WEBPACK_IMPORTED_MODULE_3__","cssClass","swipeToClose","componentProps","titleMessage","displayText","alert","message","imageUrl","saveFunction","Promise","saveDisplayName","then","resp","res","modal","onDidDismiss","modalDismissed","present","saved","setParticipant","cancel","unsubscribe","_shared_lib_services_header_type_header_type_service__WEBPACK_IMPORTED_MODULE_5__","_shared_lib_services_account_account_service__WEBPACK_IMPORTED_MODULE_7__","_angular_router__WEBPACK_IMPORTED_MODULE_11__","_ionic_angular__WEBPACK_IMPORTED_MODULE_12__","_shared_lib_services_edit_display_name_edit_display_name_service__WEBPACK_IMPORTED_MODULE_2__","_shared_lib_services_utility_utility_service__WEBPACK_IMPORTED_MODULE_8__","_shared_lib_services_platform_platform_service__WEBPACK_IMPORTED_MODULE_9__","selector","template","__webpack_exports__"],"sources":["webpack:///shared-lib/components/settings/components/account-and-personal-info/components/account-info/components/edit-display-name/edit-display-name-routing.module.ts","webpack:///shared-lib/components/settings/components/account-and-personal-info/components/account-info/components/edit-display-name/edit-display-name.module.ts","webpack:///shared-lib/components/settings/components/account-and-personal-info/components/account-info/components/edit-display-name/edit-display-name.page.ts","webpack:///shared-lib/components/settings/components/account-and-personal-info/components/account-info/components/edit-display-name/edit-display-name.page.html"],"sourcesContent":["import {NgModule} from '@angular/core';\nimport {Routes, RouterModule} from '@angular/router';\n\nimport {EditDisplayNamePage} from './edit-display-name.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EditDisplayNamePage,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EditDisplayNamePageRoutingModule {}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule} from '@angular/forms';\n\nimport {IonicModule} from '@ionic/angular';\n\nimport {EditDisplayNamePageRoutingModule} from './edit-display-name-routing.module';\n\nimport {EditDisplayNamePage} from './edit-display-name.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    EditDisplayNamePageRoutingModule,\n  ],\n  declarations: [EditDisplayNamePage],\n})\nexport class EditDisplayNamePageModule {}\n","import {EditDisplayNameService} from '@shared-lib/services/edit-display-name/edit-display-name.service';\nimport {AlertComponent} from '@shared-lib/components/alert/alert.component';\nimport {ModalController} from '@ionic/angular';\nimport {Router} from '@angular/router';\nimport {Subscription} from 'rxjs';\nimport {HeaderType} from '@shared-lib/constants/headerType.enum';\nimport {ActionOptions} from '@shared-lib/models/ActionOptions.model';\nimport {HeaderTypeService} from '@shared-lib/services/header-type/header-type.service';\nimport {Component} from '@angular/core';\nimport * as pageText from '@shared-lib/services/edit-display-name/constants/displayText.json';\nimport {AccountService} from '@shared-lib/services/account/account.service';\nimport {SharedUtilityService} from '@shared-lib/services/utility/utility.service';\nimport {PlatformService} from '@shared-lib/services/platform/platform.service';\nimport {Participant} from '@shared-lib/services/account/models/accountres.model';\n\n@Component({\n  selector: 'app-edit-display-name',\n  templateUrl: './edit-display-name.page.html',\n  styleUrls: ['./edit-display-name.page.scss'],\n})\nexport class EditDisplayNamePage {\n  displayText: any = JSON.parse(JSON.stringify(pageText)).default;\n  displayName: string;\n  subscription: Subscription;\n  participantData: Participant;\n  actionOption: ActionOptions = {\n    headername: 'Edit Display Name',\n    btnleft: true,\n    btnright: true,\n    buttonLeft: {\n      name: '',\n      link: 'settings/account-and-personal-info',\n    },\n    buttonRight: {\n      name: '',\n      link: 'notification',\n    },\n  };\n  isWeb: boolean;\n  isDesktop: boolean;\n  displayNameVailid = true;\n\n  constructor(\n    private headerType: HeaderTypeService,\n    private accountService: AccountService,\n    private router: Router,\n    public modalController: ModalController,\n    public editDisplayNameService: EditDisplayNameService,\n    private utilityService: SharedUtilityService,\n    private platformService: PlatformService\n  ) {\n    this.isWeb = this.utilityService.getIsWeb();\n    this.platformService.isDesktop().subscribe(data => {\n      this.isDesktop = data;\n    });\n  }\n\n  ionViewWillEnter() {\n    this.headerType.publish({\n      type: HeaderType.navbar,\n      actionOption: this.actionOption,\n    });\n    this.fetchParticipant();\n  }\n\n  fetchParticipant() {\n    this.subscription = this.accountService.getParticipant().subscribe(data => {\n      this.participantData = data;\n    });\n  }\n\n  cancel() {\n    const rootPath = this.isWeb && !this.isDesktop ? 'more' : 'settings';\n    this.router.navigateByUrl(`/${rootPath}/account-and-personal-info`);\n  }\n\n  valueChanged(val: string | number) {\n    this.displayName = val.toString();\n    if (this.displayName.trim().length < 1) {\n      this.displayNameVailid = false;\n    } else {\n      this.displayNameVailid = true;\n    }\n  }\n\n  async saveDisplayName(): Promise<void> {\n    const modal = await this.modalController.create({\n      component: AlertComponent,\n      cssClass: 'modal-not-fullscreen',\n      swipeToClose: false,\n      componentProps: {\n        titleMessage: this.displayText.alert.message,\n        imageUrl: this.displayText.alert.imageUrl,\n        saveFunction: async (): Promise<boolean> => {\n          return new Promise(res => {\n            this.editDisplayNameService\n              .saveDisplayName(this.displayName)\n              .then(resp => {\n                if (resp.displayName && resp.displayName == this.displayName) {\n                  res(true);\n                } else {\n                  res(false);\n                }\n              });\n          });\n        },\n      },\n    });\n    modal.onDidDismiss().then(data => {\n      this.modalDismissed(data);\n    });\n    return modal.present();\n  }\n\n  modalDismissed(data) {\n    if (data.data.saved) {\n      this.participantData.displayName = this.displayName;\n      this.accountService.setParticipant(this.participantData);\n      this.cancel();\n    }\n  }\n\n  ngOnDestroy(): void {\n    if (this.subscription) {\n      this.subscription.unsubscribe();\n    }\n  }\n}\n","export default \"<ion-grid class=\\\"ion-no-margin p-20\\\">\\n  <div [ngClass]=\\\"isWeb? 'web-edit-display-name':'mobile-edit-display-name'\\\">\\n    <ion-row>\\n      <ion-col>\\n        <div class=\\\"header\\\">{{ displayText.nameLabel }}</div>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row\\n      ><ion-col>\\n        <ion-input\\n          class=\\\"edit-name\\\"\\n          id=\\\"editName\\\"\\n          name=\\\"editName\\\"\\n          type=\\\"text\\\"\\n          #editNameInput\\n          [value]=\\\"this.participantData?.displayName\\\"\\n          (ionChange)=\\\"valueChanged(editNameInput.value)\\\"\\n          clearInput\\n        ></ion-input> </ion-col\\n    ></ion-row>\\n    <ion-row *ngIf=\\\"!displayNameVailid\\\">\\n      <ion-col>\\n        <ion-icon\\n          class=\\\"error-icon\\\"\\n          src=\\\"assets/icon/warning.svg\\\"\\n          alt=\\\"warning\\\"\\n        ></ion-icon\\n        ><ion-text class=\\\"error\\\"\\n          >{{ displayText.errors.invalidDisplayName }}</ion-text\\n        >\\n      </ion-col>\\n    </ion-row>\\n    <ion-row class=\\\"mt-42\\\"\\n      ><ion-col size=\\\"2\\\"></ion-col\\n      ><ion-col>\\n        <ion-button\\n          id=\\\"cancel-btn\\\"\\n          class=\\\"font-12\\\"\\n          name=\\\"submit\\\"\\n          shape=\\\"round\\\"\\n          expand=\\\"block\\\"\\n          color=\\\"btncolor\\\"\\n          fill=\\\"outline\\\"\\n          (click)=\\\"cancel()\\\"\\n          >{{ displayText.button.cancel }}\\n        </ion-button></ion-col\\n      >\\n      <ion-col>\\n        <ion-button\\n          id=\\\"save-btn\\\"\\n          class=\\\"font-12\\\"\\n          name=\\\"submit\\\"\\n          shape=\\\"round\\\"\\n          expand=\\\"block\\\"\\n          color=\\\"btncolor\\\"\\n          (click)=\\\"saveDisplayName()\\\"\\n          disabled\\n          [attr.disabled]=\\\"!displayNameVailid\\\"\\n          >{{ displayText.button.save }}\\n        </ion-button></ion-col\\n      ><ion-col size=\\\"2\\\"></ion-col>\\n    </ion-row>\\n  </div>\\n</ion-grid>\\n\";"]}