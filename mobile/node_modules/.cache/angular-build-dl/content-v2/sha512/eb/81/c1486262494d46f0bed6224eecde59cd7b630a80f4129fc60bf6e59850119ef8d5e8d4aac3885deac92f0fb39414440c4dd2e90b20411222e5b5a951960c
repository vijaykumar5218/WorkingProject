"use strict";(self.webpackChunkmyvoyage=self.webpackChunkmyvoyage||[]).push([[5388],{59751:function(t,e,n){n.d(e,{g:function(){return o}});var o=(()=>{return(t=o||(o={})).number="POPUP_INPUT_NUMBER",t.currency="POPUP_INPUT_CURRENCY",t.phone="POPUP_INPUT_PHONE",t.email="POPUP_INPUT_EMAIL",t.text="POPUP_INPUT_TEXT",o;var t})()},14766:function(t,e,n){n.d(e,{x:function(){return v}});var o=n(64762),i=JSON.parse('{"save":"Save","cancel":"Cancel","failedToSave":"Failed to save. Please try again"}'),a=n.t(i,2),r=n(59751),s=n(57700),l=n(47823),c=n(38583),g=n(37364);let d=(()=>{class t{onInput(t){return!!/[0-9]/.test(t.key)||(t.preventDefault(),!1)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=s.lG2({type:t,selectors:[["","appIntegerInput",""]],hostBindings:function(t,e){1&t&&s.NdJ("keypress",function(t){return e.onInput(t)})}}),t})();var p=n(65051);function u(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"ion-input",14,15),s.NdJ("ionChange",function(){s.CHM(t);const e=s.MAs(1);return s.oxw().valueChanged(e.value)}),s.qZA()}if(2&t){const t=s.oxw();s.s9C("value",t.value),s.Q6J("ngClass",t.invalid?"error-input":"")}}function h(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"ion-input",16,15),s.NdJ("ionChange",function(){s.CHM(t);const e=s.MAs(1);return s.oxw().valueChanged(e.value)}),s.qZA()}if(2&t){const t=s.oxw();s.s9C("value",t.value),s.Q6J("ngClass",t.invalid?"error-input":"")}}function m(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"ion-input",17,18),s.NdJ("ionChange",function(){s.CHM(t);const e=s.MAs(1);return s.oxw().valueChanged(e.value)}),s.qZA()}if(2&t){const t=s.oxw();s.s9C("value",t.value),s.Q6J("ngClass",t.invalid?"error-input":"")}}function C(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"ion-input",19,20),s.NdJ("ionChange",function(){s.CHM(t);const e=s.MAs(1),n=s.oxw();return n.valueChanged(e.value,n.inputType)}),s.qZA()}if(2&t){const t=s.oxw();s.s9C("value",t.value),s.Q6J("ngClass",t.invalid?"error-input":"")}}function x(t,e){if(1&t){const t=s.EpF();s.TgZ(0,"ion-input",21,22),s.NdJ("beforeinput",function(e){return s.CHM(t),s.oxw().beforeInput(e)})("ionChange",function(){s.CHM(t);const e=s.MAs(1);return s.oxw().valueChanged(e.value)}),s.TgZ(2,"span",23),s._uU(3,"$"),s.qZA(),s.qZA()}if(2&t){const t=s.oxw();s.s9C("value",t.value),s.Q6J("ngClass",t.invalid?"error-input":"")}}function M(t,e){1&t&&s._UZ(0,"ion-icon",24)}let v=(()=>{class t{constructor(t,e,n){this.modalController=t,this.currencyPipe=e,this.utilityService=n,this.allInputTypes=r.g,this.saving=!1,this.invalid=!1,this.pageText=JSON.parse(JSON.stringify(a)).default}ngOnInit(){if(this.inputType==r.g.currency){const t=this.currencyPipe.transform(this.value,"USD",!0,"1.2-2");this.value=t.substring(1,t.length)}}beforeInput(t){return!(null!==t.data&&!/[0-9]/.test(t.data)&&(t.preventDefault(),1))}valueChanged(t,e){this.value=null==t?void 0:t.toString(),e===this.allInputTypes.phone&&(this.value=this.utilityService.formatPhone(t)),this.invalid=!1,this.validator&&(this.errorText=this.validator(this.getCleanedValue(t)),this.errorText&&(this.invalid=!0))}closeDialog(t=!1){this.modalController.dismiss({saved:t})}getCleanedValue(t){return"string"==typeof t||t instanceof String?t.replace(/,/g,""):t}closeDialogClicked(t){return(0,o.mG)(this,void 0,void 0,function*(){if(t){if(this.validator&&(this.errorText=this.validator(this.getCleanedValue(this.value)),this.errorText))return void(this.invalid=!0);this.saving=!0,this.saveFunction?(yield this.saveFunction(this.getCleanedValue(this.value)))?this.closeDialog(!0):(this.errorText=this.pageText.failedToSave,this.saving=!1):this.closeDialog()}else this.closeDialog()})}}return t.\u0275fac=function(e){return new(e||t)(s.Y36(l.IN),s.Y36(c.H9),s.Y36(g.O))},t.\u0275cmp=s.Xpm({type:t,selectors:[["app-popup-input-dialog"]],inputs:{title:"title",inputTitle:"inputTitle",value:"value",inputType:"inputType"},decls:23,vars:16,consts:[[1,"popup-input-dialog"],[1,"float-right",3,"hidden","click"],["id","close-dialog","src","assets/icon/exit.svg","alt","Close dialog"],[1,"input-title",3,"ngClass"],["type","tel","appIntegerInput","","class","dialog-input","id","editInput",3,"value","ngClass","ionChange",4,"ngIf"],["type","tel","class","dialog-input","id","editInput",3,"value","ngClass","ionChange",4,"ngIf"],["type","email","id","editPhoneEmail","class","edit-email","name","editEmail","inputmode","email","pattern","email","autocomplete","email","clearInput","",3,"value","ngClass","ionChange",4,"ngIf"],["class","dialog-input","id","editPhoneInput","name","editPhone","type","text","pattern","[0-9]{3} [0-9]{3} [0-9]{4}","maxlength","12","inputmode","numeric","clearInput","",3,"value","ngClass","ionChange",4,"ngIf"],["id","editCurrencyInput","class","currency-input","maxlength","11","type","tel","placeholder","0.00","currencyMask","","decimal",".","thousand",",",3,"value","ngClass","beforeinput","ionChange",4,"ngIf"],["class","error-icon","src","assets/icon/warning.svg","alt","warning","id","warning-img",4,"ngIf"],[1,"error"],["name","submit","shape","round","expand","block","type","submit","color","btncolor","id","save-btn",1,"font-18","save-button",3,"click"],[1,"save-spinner",3,"hidden"],["disabled","","id","cancel-btn",1,"cancel-button",3,"click"],["type","tel","appIntegerInput","","id","editInput",1,"dialog-input",3,"value","ngClass","ionChange"],["numberInput",""],["type","tel","id","editInput",1,"dialog-input",3,"value","ngClass","ionChange"],["type","email","id","editPhoneEmail","name","editEmail","inputmode","email","pattern","email","autocomplete","email","clearInput","",1,"edit-email",3,"value","ngClass","ionChange"],["editEmailInput",""],["id","editPhoneInput","name","editPhone","type","text","pattern","[0-9]{3} [0-9]{3} [0-9]{4}","maxlength","12","inputmode","numeric","clearInput","",1,"dialog-input",3,"value","ngClass","ionChange"],["editPhoneInput",""],["id","editCurrencyInput","maxlength","11","type","tel","placeholder","0.00","currencyMask","","decimal",".","thousand",",",1,"currency-input",3,"value","ngClass","beforeinput","ionChange"],["currencyInput",""],[1,"dollar-symbol"],["src","assets/icon/warning.svg","alt","warning","id","warning-img",1,"error-icon"]],template:function(t,e){1&t&&(s.TgZ(0,"ion-card",0),s.TgZ(1,"ion-card-header"),s.TgZ(2,"ion-card-title"),s._uU(3),s.TgZ(4,"span",1),s.NdJ("click",function(){return e.closeDialogClicked(!1)}),s._UZ(5,"img",2),s.qZA(),s.qZA(),s.qZA(),s.TgZ(6,"ion-card-content"),s.TgZ(7,"div",3),s._uU(8),s.qZA(),s.YNc(9,u,2,2,"ion-input",4),s.YNc(10,h,2,2,"ion-input",5),s.YNc(11,m,2,2,"ion-input",6),s.YNc(12,C,2,2,"ion-input",7),s.YNc(13,x,4,2,"ion-input",8),s.YNc(14,M,1,0,"ion-icon",9),s.TgZ(15,"ion-text",10),s._uU(16),s.qZA(),s.qZA(),s.TgZ(17,"div"),s.TgZ(18,"ion-button",11),s.NdJ("click",function(){return e.closeDialogClicked(!0)}),s._UZ(19,"ion-spinner",12),s._uU(20),s.qZA(),s.TgZ(21,"ion-button",13),s.NdJ("click",function(){return e.closeDialogClicked(!1)}),s._uU(22),s.qZA(),s.qZA(),s.qZA()),2&t&&(s.xp6(3),s.Oqu(e.title),s.xp6(1),s.Q6J("hidden",e.saving),s.xp6(3),s.Q6J("ngClass",e.invalid?"error-title":""),s.xp6(1),s.hij(" ",e.inputTitle," "),s.xp6(1),s.Q6J("ngIf",e.inputType==e.allInputTypes.number),s.xp6(1),s.Q6J("ngIf",e.inputType==e.allInputTypes.text),s.xp6(1),s.Q6J("ngIf",e.inputType==e.allInputTypes.email),s.xp6(1),s.Q6J("ngIf",e.inputType==e.allInputTypes.phone),s.xp6(1),s.Q6J("ngIf",e.inputType==e.allInputTypes.currency),s.xp6(1),s.Q6J("ngIf",e.invalid),s.xp6(2),s.Oqu(e.errorText),s.xp6(2),s.uIk("disabled",e.invalid||e.saving),s.xp6(1),s.Q6J("hidden",!e.saving),s.xp6(1),s.hij(" ",e.pageText.save," "),s.xp6(1),s.uIk("disabled",e.saving),s.xp6(1),s.hij(" ",e.pageText.cancel," "))},directives:[c.mk,c.O5,d,p.g],styles:[".popup-input-dialog[_ngcontent-%COMP%]{margin:auto;width:80%}.popup-input-dialog[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:18px;font-weight:bold;line-height:1.33;letter-spacing:.03px;color:var(--primary-colors-voya-black)}.popup-input-dialog[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{float:right;cursor:pointer}.popup-input-dialog[_ngcontent-%COMP%]   .input-title[_ngcontent-%COMP%]{font-size:16px;line-height:1.25;letter-spacing:.08px;color:var(--primary-colors-voya-black);margin-bottom:14px}.popup-input-dialog[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{--padding-start: 10px;border-radius:5px;border:solid 1px var(--secondary-colors-voya-gray)!important;background-color:var(--primary-colors-voya-white);margin-bottom:8px}.popup-input-dialog[_ngcontent-%COMP%]   ion-input.currency-input[_ngcontent-%COMP%]{--padding-start: 18px}.popup-input-dialog[_ngcontent-%COMP%]   .dollar-symbol[_ngcontent-%COMP%]{position:absolute;left:8px}.popup-input-dialog[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{width:120px;height:40px;margin:10px auto auto;font-weight:600;align-items:center;grid-gap:10px;gap:10px;border-radius:20px;background-color:var(--primary-colors-voya-dark-blue)}.popup-input-dialog[_ngcontent-%COMP%]   .save-spinner[_ngcontent-%COMP%]{margin-right:8px}.popup-input-dialog[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{width:60px;height:26.5px;font-size:18px;line-height:1.56;text-align:center;font-weight:normal;color:var(--primary-colors-voya-dark-blue);margin:21.5px auto;text-decoration:underline;text-underline-offset:3px;display:block;--background: none;--box-shadow: none}.popup-input-dialog[_ngcontent-%COMP%]   .error[_ngcontent-%COMP%]{color:var(--secondary-colors-error-red);margin-left:4px;vertical-align:top}.popup-input-dialog[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{width:22px;height:22px;margin-left:4px;fill:var(--secondary-colors-error-red)}.popup-input-dialog[_ngcontent-%COMP%]   .error-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-color:var(--secondary-colors-error-red)!important}.popup-input-dialog[_ngcontent-%COMP%]   .error-title[_ngcontent-%COMP%]{color:var(--secondary-colors-error-red)}"]}),t})()},65388:function(t,e,n){n.d(e,{W:function(){return H}});var o=n(64762),i=n(57700),a=n(58697),r=JSON.parse('{"title":"Retirement monthly income","currSalary":"Your current salary","retirementAge":"Desired retirement age","estimates":{"incomeText":"Est. retirement income","goalText":"Est. monthly goal","gapText":"A difference of","onTrackText":"You are on track!"},"retirementAccount":"My Retirement Progress","dialogs":{"currentSalaryTitle":"Your current salary","currentSalaryInputTitle":"Yearly income","RetirementAgeTitle":"Your retirement age","RetirementAgeInputTitle":"Age","validations":{"retirementBetween":"Retirement age should be between {1} and {2}","retirementExcedes":"Retirement age cannot exceed ","retirementBelow":"Retirement age cannot go below ","retirementAgeSame":"Retirement age has not changed","incomeSame":"Income amount has not changed","incomeBetween":"Enter a value between 1 and 9,999,999"}}}'),s=n.t(r,2),l=n(14766),c=n(59751),g=n(16738),d=n(47823);let p=(()=>{class t{constructor(t){this.modalController=t}closeDialog(){this.modalController.dismiss()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(d.IN))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-omtooltip"]],inputs:{tooltipContent:"tooltipContent"},decls:8,vars:1,consts:[[1,"toolTip"],["id","close-dialog","src","assets/icon/exit.svg","alt","Close dialog",3,"click"],[1,"content",3,"innerHtml"]],template:function(t,e){1&t&&(i.TgZ(0,"div",0),i.TgZ(1,"ion-grid"),i.TgZ(2,"ion-row"),i.TgZ(3,"ion-col"),i.TgZ(4,"img",1),i.NdJ("click",function(){return e.closeDialog()}),i.qZA(),i.qZA(),i.qZA(),i.TgZ(5,"ion-row"),i.TgZ(6,"ion-col"),i._UZ(7,"div",2),i.qZA(),i.qZA(),i.qZA(),i.qZA()),2&t&&(i.xp6(7),i.Q6J("innerHtml",e.tooltipContent,i.oJD))},directives:[d.jY,d.Nd,d.wI],styles:["[_nghost-%COMP%]   .toolTip[_ngcontent-%COMP%]{background-color:var(--ion-color-white);color:var(--primary-colors-voya-black);margin:auto;width:80%;padding:20px}[_nghost-%COMP%]   .toolTip[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{float:right;cursor:pointer}[_nghost-%COMP%]   .toolTip[_ngcontent-%COMP%]   .content[_ngcontent-%COMP%]{text-align:center;margin:auto;color:var(--ion-color-black)}"]}),t})();var u=n(53549),h=n(61040),m=n(38583),C=JSON.parse('{"showHow":"Show me how","ontrack":"See if you\u2019re on track for retirement!","fewSteps":"With just a few steps you can check your progress toward your monthly retirement income goals","visitWeb":"Visit our website to find out if your Retirement Income will be ready when you are","howReady1":"How ready will you be for retirement, ","howReady2":"? Let\u2019s find out right now.","errorUpdatingMadlib":"Failed to reach retirement service","Iam":"I\u2019m","yearsOld":"years old.","imake":"I make $","year":"a year.","salaryError":"Annual pay required. If you have no current salary, enter your last working salary so that we can calculate an income goal for you.","incomeBetween":"Enter a value between 1 and 9,999,999","feelingError":"required field","aboutRetire":"When I think about retirement, I feel","howDoing":"Show  Me How I\'m Doing","saveFailed":"Failed to save info, please try again","happy":"Happy","confident":"Confident","optimistic":"Optimistic","worried":"Worried","unsure":"Unsure","confused":"Confused"}'),x=JSON.parse('{"helpText":"Your current age and annual pay are needed to provide an estimate of your retirement income."}');let M=(()=>{class t{constructor(){this.pageText=x}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-help-popover"]],decls:2,vars:1,template:function(t,e){1&t&&(i.TgZ(0,"ion-text"),i._uU(1),i.qZA()),2&t&&(i.xp6(1),i.hij(" ",e.pageText.helpText,"\n"))},directives:[d.yW],styles:["[_nghost-%COMP%]{background-color:var(--ion-color-white);padding:20px}"]}),t})();var v=n(7871),_=n(65051);const f=["datePicker"];function O(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"ion-card-header"),i.TgZ(1,"ion-card-title"),i.TgZ(2,"span",5),i.NdJ("click",function(){return i.CHM(t),i.oxw().closeDialog()}),i._UZ(3,"img",6),i.qZA(),i.qZA(),i.qZA()}}function y(t,e){1&t&&i._UZ(0,"ion-spinner",7)}function P(t,e){if(1&t&&(i.TgZ(0,"ion-row",37),i.TgZ(1,"ion-col",38),i._UZ(2,"ion-icon",39),i.qZA(),i.TgZ(3,"ion-col",16),i.TgZ(4,"ion-text",40),i._uU(5),i.qZA(),i.qZA(),i.qZA()),2&t){const t=i.oxw(2);i.xp6(5),i.Oqu(t.salaryInBounds?t.pageText.salaryError:t.pageText.incomeBetween)}}function Z(t,e){if(1&t&&(i.TgZ(0,"ion-row",37),i.TgZ(1,"ion-col",38),i._UZ(2,"ion-icon",39),i.qZA(),i.TgZ(3,"ion-col",41),i.TgZ(4,"ion-text",40),i._uU(5),i.qZA(),i.qZA(),i.qZA()),2&t){const t=i.oxw(2);i.xp6(5),i.Oqu(t.pageText.feelingError)}}function T(t,e){if(1&t&&(i.TgZ(0,"span",42),i._uU(1),i.qZA()),2&t){const t=i.oxw(2);i.xp6(1),i.Oqu(t.pageText.saveFailed)}}function b(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"div",8),i.TgZ(1,"p"),i._uU(2),i.qZA(),i.qZA(),i._UZ(3,"hr"),i.TgZ(4,"ion-row",9),i.TgZ(5,"ion-col"),i.TgZ(6,"ion-datetime",10,11),i.NdJ("ionChange",function(){i.CHM(t);const e=i.MAs(7);return i.oxw().onDobChanged(e.value)}),i.qZA(),i.TgZ(8,"div"),i._uU(9),i.qZA(),i.TgZ(10,"div",12),i.NdJ("click",function(){return i.CHM(t),i.MAs(7).open()}),i._uU(11),i.qZA(),i.TgZ(12,"div"),i._uU(13),i.qZA(),i.qZA(),i.qZA(),i.TgZ(14,"ion-row",13),i.TgZ(15,"ion-col"),i.TgZ(16,"div",14),i._uU(17),i.qZA(),i.qZA(),i.qZA(),i.TgZ(18,"ion-row",15),i.TgZ(19,"ion-col",16),i.TgZ(20,"ion-input",17,18),i.NdJ("ionChange",function(){i.CHM(t);const e=i.MAs(21);return i.oxw().onSalaryValueChanged(e.value)}),i.qZA(),i.TgZ(22,"button",19),i.NdJ("click",function(){return i.CHM(t),i.oxw().toggleShowSalary()}),i._UZ(23,"ion-icon",20),i.qZA(),i.qZA(),i.TgZ(24,"ion-col",21),i.TgZ(25,"span",14),i._uU(26),i.qZA(),i.TgZ(27,"ion-icon",22),i.NdJ("click",function(){return i.CHM(t),i.oxw().openHelp()}),i.qZA(),i.qZA(),i.qZA(),i.YNc(28,P,6,1,"ion-row",23),i.TgZ(29,"ion-row",24),i.TgZ(30,"ion-col"),i.TgZ(31,"div",14),i._uU(32),i.qZA(),i.qZA(),i.qZA(),i.TgZ(33,"ion-row"),i.TgZ(34,"ion-col"),i.TgZ(35,"ion-select",25,26),i.NdJ("ionChange",function(){i.CHM(t);const e=i.MAs(36);return i.oxw().onFeelingChange(e.value)}),i.TgZ(37,"ion-select-option",27),i._uU(38),i.qZA(),i.TgZ(39,"ion-select-option",28),i._uU(40),i.qZA(),i.TgZ(41,"ion-select-option",29),i._uU(42),i.qZA(),i.TgZ(43,"ion-select-option",30),i._uU(44),i.qZA(),i.TgZ(45,"ion-select-option",31),i._uU(46),i.qZA(),i.TgZ(47,"ion-select-option",32),i._uU(48),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.YNc(49,Z,6,1,"ion-row",23),i.TgZ(50,"ion-row",33),i.TgZ(51,"ion-col"),i.TgZ(52,"ion-button",34),i.NdJ("click",function(){return i.CHM(t),i.oxw().saveMadlibData()}),i._UZ(53,"ion-spinner",35),i._uU(54),i.qZA(),i.YNc(55,T,2,1,"span",36),i.qZA(),i.qZA()}if(2&t){const t=i.oxw();i.xp6(2),i.lnq(" ",t.pageText.howReady1,"",null==t.madlib?null:t.madlib.firstName,"",t.pageText.howReady2," "),i.xp6(4),i.s9C("value",null==t.madlib?null:t.madlib.dob),i.s9C("min",t.minDate),i.s9C("max",t.maxDate),i.xp6(3),i.Oqu(t.pageText.Iam),i.xp6(2),i.hij(" ",t.age," "),i.xp6(2),i.Oqu(t.pageText.yearsOld),i.xp6(3),i.Q6J("ngClass",t.salaryValid?"":"error-text"),i.xp6(1),i.hij(" ",t.pageText.imake," "),i.xp6(3),i.s9C("value",t.salaryString),i.Q6J("type",t.showSalary?"text":"password")("ngClass",t.salaryValid?"":"error-input"),i.xp6(3),i.Q6J("name",t.showSalary?"eye-off":"eye"),i.xp6(2),i.Q6J("ngClass",t.salaryValid?"":"error-text"),i.xp6(1),i.Oqu(t.pageText.year),i.xp6(2),i.Q6J("ngIf",!t.salaryValid||!t.salaryInBounds),i.xp6(3),i.Q6J("ngClass",t.feelValid?"":"error-text"),i.xp6(1),i.hij(" ",t.pageText.aboutRetire," "),i.xp6(3),i.Q6J("ngClass",t.feelValid?"":"error-input"),i.xp6(3),i.hij(" ",t.pageText.happy," "),i.xp6(2),i.hij(" ",t.pageText.confident," "),i.xp6(2),i.hij(" ",t.pageText.optimistic," "),i.xp6(2),i.hij(" ",t.pageText.worried," "),i.xp6(2),i.hij(" ",t.pageText.unsure," "),i.xp6(2),i.hij(" ",t.pageText.confused," "),i.xp6(1),i.Q6J("ngIf",!t.feelValid),i.xp6(3),i.uIk("disabled",!t.salaryValid||!t.feelValid||t.saving),i.xp6(1),i.Q6J("hidden",!t.saving),i.xp6(1),i.hij(" ",t.pageText.howDoing,""),i.xp6(1),i.Q6J("ngIf",t.saveFailed)}}let w=(()=>{class t{constructor(t,e,n,o){this.modalController=t,this.orangeMoneyService=e,this.alertWindowService=n,this.popoverController=o,this.pageText=C,this.showSalary=!0,this.loading=!1,this.saving=!1,this.saveFailed=!1,this.salaryValid=!0,this.salaryInBounds=!0,this.feelValid=!0}ngOnInit(){return(0,o.mG)(this,void 0,void 0,function*(){this.minDate=g().subtract(99,"year").format("YYYY-MM-DD"),this.maxDate=g().subtract(17,"year").format("YYYY-MM-DD"),this.fetchData()})}fetchData(){this.loading=!0,this.orangeDataSubscription=this.orangeMoneyService.getOrangeData().subscribe(t=>(0,o.mG)(this,void 0,void 0,function*(){"opt-out"===t.errorCode?this.orangeMoneyService.updateOrangeMoneyOptOut().then(t=>(0,o.mG)(this,void 0,void 0,function*(){t.errorCode?(yield this.alertWindowService.presentAlert({message:C.errorUpdatingMadlib}),this.closeDialog()):this.setMadLib(t.madLibData),this.loading=!1})):(this.setMadLib(t.madLibData),this.loading=!1)}))}setMadLib(t){this.salaryString=t.annualSalary?t.annualSalary.toString():"0",this.madlib=t,this.age=this.getAgeFromDOB(this.madlib.dob)}toggleShowSalary(){this.showSalary=!this.showSalary}getAgeFromDOB(t){return g().diff(g(t,"YYYY-MM-DDTh:mm:ss"),"years")}onDobChanged(t){this.madlib.dob=t,this.age=this.getAgeFromDOB(this.madlib.dob)}onSalaryValueChanged(t){this.salaryString=null==t?void 0:t.toString(),this.validateSalary()}onFeelingChange(t){this.selectedFeeling=t,this.validateFeeling()}validateSalary(){const t=+this.getCleanedSalaryValue(this.salaryString);t?(this.salaryValid=!0,this.salaryInBounds=!(t>9999999)):this.salaryValid=!1}validateFeeling(){this.feelValid=!!this.selectedFeeling}validate(){return this.validateSalary(),this.validateFeeling(),this.salaryValid&&this.feelValid}getCleanedSalaryValue(t){return+t.replace(/,/g,"")}saveMadlibData(){return(0,o.mG)(this,void 0,void 0,function*(){if(!this.validate())return;this.saving=!0,this.saveFailed=!1;const t=this.getCleanedSalaryValue(this.salaryString),e=yield this.orangeMoneyService.postMadlibData(this.madlib.dob,t,this.selectedFeeling);e.orangeData?(this.orangeMoneyService.setOrangeData(e),this.closeDialog()):this.saveFailed=!0,this.saving=!1})}openHelp(){return(0,o.mG)(this,void 0,void 0,function*(){yield(yield this.popoverController.create({component:M,mode:"md",showBackdrop:!1})).present()})}closeDialog(){this.modalController.dismiss()}ngOnDestroy(){this.orangeDataSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(d.IN),i.Y36(u.K),i.Y36(v.k),i.Y36(d.Dh))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-madlib-modal"]],viewQuery:function(t,e){if(1&t&&i.Gf(f,5),2&t){let t;i.iGM(t=i.CRH())&&(e.datePicker=t.first)}},decls:6,vars:4,consts:[[3,"ngClass"],[4,"ngIf"],[1,"card-content"],["class","loading",4,"ngIf","ngIfElse"],["elseBlock",""],[1,"float-right",3,"click"],["src","assets/icon/exit.svg","alt","Close dialog"],[1,"loading"],[1,"card-intro"],[1,"age-row"],["placeholder","",1,"hidden-date-picker",3,"value","min","max","ionChange"],["datePicker",""],[1,"value-box",3,"click"],[1,"imake-row"],[1,"label",3,"ngClass"],[1,"salary-row"],["size","8"],["maxlength","12","placeholder","0.00","currencyMask","","decimal",".","thousand",",",1,"currency-input",3,"type","value","ngClass","ionChange"],["salaryInput",""],["ion-button","","clear","","large","","item-end","","icon-only","",1,"iconbutton",3,"click"],[1,"font-22",3,"name"],["size","4",1,"a-year"],["id","help-circle","name","help-circle-outline",1,"helpcircle",3,"click"],["class","error-row",4,"ngIf"],[1,"ifeel-row"],["interface","action-sheet","placeholder","Please Select","id","happyStatus","value","select",1,"border-1","mt-10",3,"ngClass","ionChange"],["mySelect",""],["value","Happy",1,"text-black"],["value","Confident",1,"text-black"],["value","Optimistic",1,"text-black"],["value","worried",1,"text-black"],["value","unsure",1,"text-black"],["value","confused",1,"text-black"],[1,"save-row"],["name","submit","shape","round","expand","block","type","submit","color","btncolor","id","how-i-am-doing",1,"font-18","save-button",3,"click"],[1,"save-spinner",3,"hidden"],["class","save-failed",4,"ngIf"],[1,"error-row"],["size","1"],["src","assets/icon/warning.svg","alt","warning",1,"error-icon"],[1,"error-text"],["size","11"],[1,"save-failed"]],template:function(t,e){if(1&t&&(i.TgZ(0,"ion-card",0),i.YNc(1,O,4,0,"ion-card-header",1),i.TgZ(2,"ion-card-content",2),i.YNc(3,y,1,0,"ion-spinner",3),i.YNc(4,b,56,32,"ng-template",null,4,i.W1O),i.qZA(),i.qZA()),2&t){const t=i.MAs(5);i.Q6J("ngClass",e.loading?"loading":""),i.xp6(1),i.Q6J("ngIf",!e.loading),i.xp6(2),i.Q6J("ngIf",e.loading)("ngIfElse",t)}},directives:[d.PM,m.mk,m.O5,d.FN,d.Zi,d.gZ,d.PQ,d.Nd,d.wI,d.x4,d.QI,d.pK,d.j9,_.g,d.gu,d.t9,d.n0,d.YG,d.yW],styles:["[_nghost-%COMP%]{display:flex;align-items:center}[_nghost-%COMP%]   ion-card.loading[_ngcontent-%COMP%]{padding:30px}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]{margin:auto 20px}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{letter-spacing:.08px;font-size:16px;color:var(--ion-color-dark)}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .card-content[_ngcontent-%COMP%]{margin-top:12px}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{border-bottom:1px solid var(--white);margin:11px 0 13px}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .card-intro[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;letter-spacing:.08px;text-align:left;color:var(--ion-color-dark)}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-spinner.loading[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translateY(-50%) translate(-50%)}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .imake-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin:20px 0 8px}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .salary-row[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{line-height:50px;margin-left:8px}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .salary-row[_ngcontent-%COMP%]   .helpcircle[_ngcontent-%COMP%]{vertical-align:middle;margin-left:4px;width:24px;height:24px;color:var(--primary-colors-voya-dark-blue)}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .salary-row[_ngcontent-%COMP%]   .a-year[_ngcontent-%COMP%]{text-align:center}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .error-row[_ngcontent-%COMP%]{margin-top:8px}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .error-row[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{margin-left:8px;display:block}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .error-row[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]{width:22px;height:22px;margin-left:4px;fill:var(--secondary-colors-error-red)}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{padding-left:2px}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .type-toggle[_ngcontent-%COMP%]{-webkit-padding-start:.5rem;padding-inline-start:.5rem}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .type-toggle[_ngcontent-%COMP%]   .show-option[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .type-toggle[_ngcontent-%COMP%]   .hide-option[_ngcontent-%COMP%]{font-size:1.2rem;display:block}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .age-row[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;height:54px;line-height:54px}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .age-row[_ngcontent-%COMP%]   .value-box[_ngcontent-%COMP%]{border:1px solid var(--secondary-colors-medium-gray-1);border-radius:4px;height:54px;width:62px;margin:0 8px;font-size:18px;font-weight:bold;letter-spacing:.03px;color:var(--primary-colors-voya-dark-blue);padding-right:2px;text-align:center}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .age-row[_ngcontent-%COMP%]   .hidden-date-picker[_ngcontent-%COMP%]{display:none}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .ayear-row[_ngcontent-%COMP%]{margin-top:8px}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .ayear-row[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{line-height:24px}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .ayear-row[_ngcontent-%COMP%]   .helpcircle[_ngcontent-%COMP%]{color:var(--primary-colors-voya-dark-blue);height:24px;width:24px;margin-left:4px;vertical-align:bottom}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .ifeel-row[_ngcontent-%COMP%]{margin-top:20px}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-input[_ngcontent-%COMP%]{border:1px solid var(--secondary-colors-medium-gray-1);border-radius:4px;height:54px;--padding-start: 18px}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .float-right[_ngcontent-%COMP%]{float:right;cursor:pointer}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .save-row[_ngcontent-%COMP%]{margin:36px auto}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .save-row[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{width:269px;height:40px;border-radius:20px;margin:auto;align-items:center;grid-gap:10px;gap:10px}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .save-row[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]   .save-spinner[_ngcontent-%COMP%]{margin-right:8px;min-width:24px}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .save-row[_ngcontent-%COMP%]   .save-failed[_ngcontent-%COMP%]{display:block;color:red;margin:8px auto 0;text-align:center}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .iconbutton[_ngcontent-%COMP%]{position:absolute;right:2px;top:14px;z-index:999}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-select[_ngcontent-%COMP%]{border-radius:4px;height:54px}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .ion-select[_ngcontent-%COMP%]{border-radius:4px;border:solid 1px var(--secondary-colors-medium-gray-2)}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]{color:var(--secondary-colors-error-red)}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   .error-input[_ngcontent-%COMP%]{border-color:var(--secondary-colors-error-red)!important}"]}),t})();function A(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"ion-button",3),i.NdJ("click",function(){return i.CHM(t),i.oxw().openMadlibModal()}),i._uU(1),i.qZA()}if(2&t){const t=i.oxw();i.xp6(1),i.hij(" ",t.pageText.showHow," ")}}let q=(()=>{class t{constructor(t,e){this.orangeMoneyService=t,this.modalController=e,this.pageText=C,this.madlibClose=new i.vpe}ngOnInit(){this.fetchData()}fetchData(){this.orangeDataSubscription=this.orangeMoneyService.getOrangeData().subscribe(t=>{switch(this.orangeMoneyService.getOrangeMoneyStatus(t)){case a.u.ORANGE_DATA:case a.u.FE_DATA:this.headerText="",this.bodyText="",this.hideButton=!0;break;case a.u.MADLIB_OM:this.headerText=C.ontrack,this.bodyText=C.fewSteps,this.hideButton=!1;break;case a.u.MADLIB_FE:case a.u.SERVICE_DOWN:case a.u.UNKNOWN:this.headerText="",this.bodyText=this.pageText.visitWeb,this.hideButton=!0}})}openMadlibModal(){return(0,o.mG)(this,void 0,void 0,function*(){const t=yield this.modalController.create({component:w,cssClass:"modal-not-fullscreen",swipeToClose:!1});return t.onDidDismiss().then(()=>{this.madlibClose.emit()}),t.present()})}ngOnDestroy(){this.orangeDataSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(u.K),i.Y36(d.IN))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-mad-lib"]],outputs:{madlibClose:"madlibClose"},decls:8,vars:3,consts:[[1,"madlib-card"],["src","assets/icon/tilted-dollarbill.png","alt",""],["class","font-18 save-button","name","submit","shape","round","expand","block","type","submit","color","btncolor","id","showmebutton",3,"click",4,"ngIf"],["name","submit","shape","round","expand","block","type","submit","color","btncolor","id","showmebutton",1,"font-18","save-button",3,"click"]],template:function(t,e){1&t&&(i.TgZ(0,"ion-card",0),i._UZ(1,"img",1),i.TgZ(2,"ion-card-contents"),i.TgZ(3,"p"),i._uU(4),i.qZA(),i.TgZ(5,"p"),i._uU(6),i.qZA(),i.YNc(7,A,2,1,"ion-button",2),i.qZA(),i.qZA()),2&t&&(i.xp6(4),i.Oqu(e.headerText),i.xp6(2),i.hij(" ",e.bodyText," "),i.xp6(1),i.Q6J("ngIf",!e.hideButton))},directives:[d.PM,m.O5,d.YG],styles:[".madlib-card[_ngcontent-%COMP%]{padding:0 20px 20px;margin:0}.madlib-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.madlib-card[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{width:158px;height:40px;border-radius:20px;margin:auto}"]}),t})();function I(t,e){if(1&t&&(i.TgZ(0,"div",3),i.TgZ(1,"label",4),i._uU(2),i.qZA(),i.qZA()),2&t){const t=i.oxw();i.xp6(2),i.Oqu(null!=t.omHeader&&t.omHeader.OMHeader?t.omHeader.OMHeader:t.orangeText.retirementAccount)}}function S(t,e){1&t&&(i.TgZ(0,"div"),i._UZ(1,"ion-spinner"),i.qZA())}function k(t,e){if(1&t&&(i.TgZ(0,"p",22),i._uU(1),i.qZA()),2&t){const t=i.oxw(3);i.xp6(1),i.hij(" ",t.orangeText.estimates.gapText," ")}}function D(t,e){if(1&t&&(i.TgZ(0,"p",25),i._uU(1),i.qZA()),2&t){const t=i.oxw(3);i.xp6(1),i.hij(" ",t.orangeText.estimates.onTrackText," ")}}function N(t,e){if(1&t&&(i.TgZ(0,"p",25),i._uU(1),i.ALo(2,"currency"),i.qZA()),2&t){const t=i.oxw(3);i.xp6(1),i.hij(" ",t.estimates?i.gM2(2,1,null==t.estimates?null:t.estimates.difference,"USD","symbol","1.0-0"):""," ")}}const U=function(t){return{"left.%":t}},J=function(t){return{"width.%":t}};function Y(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"ion-card-header"),i.TgZ(1,"ion-row"),i.TgZ(2,"ion-col",8),i.TgZ(3,"ion-card-title"),i._uU(4),i.qZA(),i.qZA(),i.TgZ(5,"ion-col"),i.TgZ(6,"img",9),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).openTooltip()}),i.qZA(),i.qZA(),i.TgZ(7,"ion-col",10),i.TgZ(8,"span"),i.TgZ(9,"img",11),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).editOrangeMoney()}),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(10,"ion-card-content"),i.TgZ(11,"div",12),i.TgZ(12,"div",13),i.TgZ(13,"div",14),i.TgZ(14,"span",15),i._uU(15),i.qZA(),i._UZ(16,"img",16),i.qZA(),i.TgZ(17,"div",17),i._UZ(18,"div",18),i.qZA(),i.qZA(),i.TgZ(19,"div"),i.TgZ(20,"ion-grid",19),i.TgZ(21,"ion-row",20),i.TgZ(22,"ion-col",21),i.TgZ(23,"p",22),i._uU(24),i.qZA(),i.TgZ(25,"p",23),i._uU(26),i.ALo(27,"currency"),i.qZA(),i.qZA(),i.TgZ(28,"ion-col",24),i.TgZ(29,"p",22),i._uU(30),i.qZA(),i.TgZ(31,"p",25),i._uU(32),i.ALo(33,"currency"),i.qZA(),i.qZA(),i.TgZ(34,"ion-col",26),i.YNc(35,k,2,1,"p",27),i.YNc(36,D,2,1,"p",28),i.YNc(37,N,3,6,"p",28),i.qZA(),i.qZA(),i.qZA(),i._UZ(38,"hr",29),i.qZA(),i.TgZ(39,"div"),i.TgZ(40,"ion-grid",19),i.TgZ(41,"ion-row"),i.TgZ(42,"ion-col",30),i.TgZ(43,"label",31),i._uU(44),i.qZA(),i.qZA(),i.TgZ(45,"ion-col",32),i.TgZ(46,"div",33),i.TgZ(47,"div",34),i._uU(48),i.ALo(49,"currency"),i.qZA(),i.TgZ(50,"img",35),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).editCurrentSalary()}),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.TgZ(51,"ion-row",36),i.TgZ(52,"ion-col",30),i.TgZ(53,"label",31),i._uU(54),i.qZA(),i.qZA(),i.TgZ(55,"ion-col",32),i.TgZ(56,"div",33),i.TgZ(57,"div",34),i._uU(58),i.qZA(),i.TgZ(59,"img",37),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).editRetirementAge()}),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA(),i.qZA()}if(2&t){const t=i.oxw(2);i.xp6(4),i.hij(" ",t.orangeText.title," "),i.xp6(9),i.Q6J("ngStyle",i.VKq(30,U,t.progressWidth-3)),i.xp6(1),i.Q6J("ngClass",t.progressWidth>=100?"progress-text-offset":""),i.xp6(1),i.Oqu(t.progressWidth.toFixed(0)+"%"),i.xp6(3),i.Q6J("ngStyle",i.VKq(32,J,t.progressWidth)),i.xp6(6),i.hij(" ",t.orangeText.estimates.incomeText," "),i.xp6(2),i.hij(" ",t.estimates?i.gM2(27,16,null==t.estimates?null:t.estimates.estimatedMonthlyIncome,"USD","symbol","1.0-0"):""," "),i.xp6(4),i.hij(" ",t.orangeText.estimates.goalText," "),i.xp6(2),i.hij(" ",t.estimates?i.gM2(33,21,null==t.estimates?null:t.estimates.estimatedMonthlyGoal,"USD","symbol","1.0-0"):""," "),i.xp6(3),i.Q6J("ngIf",(null==t.estimates?null:t.estimates.difference)>0),i.xp6(1),i.Q6J("ngIf",!((null==t.estimates?null:t.estimates.difference)>0)),i.xp6(1),i.Q6J("ngIf",(null==t.estimates?null:t.estimates.difference)>0),i.xp6(7),i.Oqu(t.orangeText.currSalary),i.xp6(4),i.hij(" ",i.Dn7(49,26,null==t.estimates?null:t.estimates.currSalary,"USD","symbol")," "),i.xp6(6),i.Oqu(t.orangeText.retirementAge),i.xp6(4),i.hij(" ",null==t.estimates?null:t.estimates.retirementAge," ")}}function F(t,e){if(1&t&&(i.TgZ(0,"ion-card",5),i.YNc(1,S,2,0,"div",6),i.YNc(2,Y,60,34,"ng-template",null,7,i.W1O),i.qZA()),2&t){const t=i.MAs(3),e=i.oxw();i.xp6(1),i.Q6J("ngIf",!e.estimates)("ngIfElse",t)}}function E(t,e){if(1&t){const t=i.EpF();i.TgZ(0,"app-mad-lib",38),i.NdJ("madlibClose",function(){return i.CHM(t),i.oxw().emitMadlibClose()}),i.qZA()}}let H=(()=>{class t{constructor(t,e,n){this.orangeMoneyService=t,this.accountService=e,this.modalController=n,this.progressWidth=74,this.orangeText=JSON.parse(JSON.stringify(s)).default,this.shouldHide=!1,this.displayHeader=!0,this.madlibClose=new i.vpe}ngOnInit(){return(0,o.mG)(this,void 0,void 0,function*(){this.fetchData()})}openTooltip(){return(0,o.mG)(this,void 0,void 0,function*(){return(yield this.modalController.create({component:p,cssClass:"modal-not-fullscreen",swipeToClose:!1,componentProps:{tooltipContent:this.omHeader.OMTooltip}})).present()})}fetchData(){this.orangeMoneyService.getOrangeMoneySectionLabel().then(t=>{this.omHeader=t}),this.participantSubscription=this.accountService.getParticipant().subscribe(t=>{this.dateOfBirth=t.birthDate,this.currentAge=g().diff(g(this.dateOfBirth,"MM/DD/YYYY"),"years"),this.orangeDataSubscription=this.orangeMoneyService.getOrangeData().subscribe(t=>(0,o.mG)(this,void 0,void 0,function*(){this.orangeData=t;const e=this.orangeMoneyService.getOrangeMoneyStatus(t);this.omStatusChanged(e),e==a.u.FE_DATA?(this.retirementAgeMax=t.feForecastData.participantData.retirementAgeSlider.max,this.retirementAgeMin=t.feForecastData.participantData.retirementAgeSlider.min,this.growthRate=t.feForecastData.participantData.salary.growthRate,this.desiredGoal=t.feForecastData.feForecast.desiredGoal,this.minimumGoal=t.feForecastData.feForecast.minimumGoal):(this.retirementAgeMin=this.currentAge+1,this.retirementAgeMax=80),this.estimates=yield this.orangeMoneyService.getEstimates(t),this.estimates&&(this.estimates.retirementAge<=this.currentAge&&(this.estimates.retirementAge=this.currentAge+1),this.setProgressWidth())}))})}refreshData(){this.estimates=null,this.orangeMoneyService.getOrangeData(!0)}omStatusChanged(t){switch(this.omStatus=t,t){case a.u.ORANGE_DATA:case a.u.FE_DATA:this.shouldHide=!1;break;case a.u.MADLIB_OM:case a.u.MADLIB_FE:case a.u.SERVICE_DOWN:case a.u.UNKNOWN:this.shouldHide=!0}}setProgressWidth(){let t=100*this.estimates.estimatedMonthlyIncome/this.estimates.estimatedMonthlyGoal;t>100&&(t=100),this.progressWidth=t}editOrangeMoney(){this.accountService.openPwebAccountLink(decodeURIComponent(this.omHeader.OMDeeplink))}editCurrentSalary(){var t;return(0,o.mG)(this,void 0,void 0,function*(){const e=yield this.modalController.create({component:l.x,cssClass:"modal-not-fullscreen",swipeToClose:!1,componentProps:{title:this.orangeText.dialogs.currentSalaryTitle,inputTitle:this.orangeText.dialogs.currentSalaryInputTitle,value:null===(t=this.estimates)||void 0===t?void 0:t.currSalary,inputType:c.g.currency,validator:t=>{var e;const n=+t;return n==(null===(e=this.estimates)||void 0===e?void 0:e.currSalary)?this.orangeText.dialogs.validations.incomeSame:n<1||n>9999999?this.orangeText.dialogs.validations.incomeBetween:null},saveFunction:t=>(0,o.mG)(this,void 0,void 0,function*(){return new Promise(e=>{if(this.omStatus==a.u.FE_DATA)this.orangeMoneyService.saveSalaryFE(+t,this.growthRate,this.desiredGoal,this.minimumGoal).then(t=>{e(null!=t.feForecastData)});else if(this.omStatus==a.u.ORANGE_DATA){const n=g(this.dateOfBirth,"MM/DD/YYYY").toISOString();this.orangeMoneyService.saveSalaryNonFE(+t,n,this.orangeData).then(t=>{e(t.success)})}else e(!1)})})}});return e.onDidDismiss().then(t=>{t.data.saved&&this.refreshData()}),e.present()})}editRetirementAge(){var t;return(0,o.mG)(this,void 0,void 0,function*(){const e=yield this.modalController.create({component:l.x,cssClass:"modal-not-fullscreen",swipeToClose:!1,componentProps:{title:this.orangeText.dialogs.RetirementAgeTitle,inputTitle:this.orangeText.dialogs.RetirementAgeInputTitle,value:null===(t=this.estimates)||void 0===t?void 0:t.retirementAge,inputType:c.g.number,validator:t=>{var e;const n=+t;return n?(null===(e=this.estimates)||void 0===e?void 0:e.retirementAge)==n?this.orangeText.dialogs.validations.retirementAgeSame:n>this.retirementAgeMax?this.orangeText.dialogs.validations.retirementExcedes+this.retirementAgeMax:n<this.retirementAgeMin?this.orangeText.dialogs.validations.retirementBelow+this.retirementAgeMin:void 0:this.orangeText.dialogs.validations.retirementBetween.replace("{1}",this.retirementAgeMin).replace("{2}",this.retirementAgeMax)},saveFunction:t=>(0,o.mG)(this,void 0,void 0,function*(){return new Promise(e=>{this.omStatus==a.u.FE_DATA?this.orangeMoneyService.saveRetiremnetAgeFE(+t).then(t=>{e(t.result.valid)}):this.omStatus==a.u.ORANGE_DATA?this.orangeMoneyService.saveRetirementAgeNonFE(+t,this.orangeData).then(t=>{e(t.result.valid)}):e(!1)})})}});return e.onDidDismiss().then(t=>{t.data.saved&&this.refreshData()}),e.present()})}emitMadlibClose(){this.madlibClose.emit()}ngOnDestroy(){this.orangeDataSubscription&&this.orangeDataSubscription.unsubscribe(),this.participantSubscription&&this.participantSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(i.Y36(u.K),i.Y36(h.B),i.Y36(d.IN))},t.\u0275cmp=i.Xpm({type:t,selectors:[["app-orange-money"]],inputs:{displayHeader:"displayHeader"},outputs:{madlibClose:"madlibClose"},decls:3,vars:3,consts:[["class","section-title",4,"ngIf"],["class","myv-card",4,"ngIf"],[3,"madlibClose",4,"ngIf"],[1,"section-title"],[1,"voya-dark","font-w-600"],[1,"myv-card"],[4,"ngIf","ngIfElse"],["elseBlock",""],[1,"card-title"],["id","om-info-button","alt","info","src","assets/icon/ic-info-outline-24px.svg",1,"tool-tip",3,"click"],[1,"ion-text-end","om-edit-icon"],["alt","edit","src","assets/icon/pencil_circle.svg",1,"ion-float-right",3,"click"],[1,"container"],[1,"barWrapper"],["title","85%",1,"font-12","tooltip",3,"ngStyle"],[3,"ngClass"],["alt","arrow down","src","assets/icon/ic_arrow_drop_down.svg",1,"arrow-down"],[1,"progress"],["title","Orange money progress","role","progressbar",1,"progress-bar",3,"ngStyle"],[1,"ion-no-padding"],[1,"orange-money-details"],["size-xs","5","size-sm","4","size-md","4","size-lg","4"],[1,"retire-label-grey"],[1,"font-14","font-w-600","ion-no-margin","orange-color"],["size-xs","4","size-sm","4","size-md","4","size-lg","4"],[1,"font-14","font-w-600","ion-no-margin"],["size-xs","3","size-sm","4","size-md","4","size-lg","4"],["class","retire-label-grey",4,"ngIf"],["class","font-14 font-w-600 ion-no-margin",4,"ngIf"],[1,"divider"],["size-xs","6","size-sm","4","size-md","4","size-lg","4"],[1,"font-14"],["size-xs","6","size-sm","8","size-md","8","size-lg","8",1,""],[1,"text-right"],[1,"bottom-line-text"],["id","edit_current_salary","alt","edit","src","assets/icon/pencil_circle.svg",1,"bottom-line-img",3,"click"],[1,"mt-20"],["id","edit_retirement_age","alt","edit","src","assets/icon/pencil_circle.svg",1,"bottom-line-img",3,"click"],[3,"madlibClose"]],template:function(t,e){1&t&&(i.YNc(0,I,3,1,"div",0),i.YNc(1,F,4,2,"ion-card",1),i.YNc(2,E,1,0,"app-mad-lib",2)),2&t&&(i.Q6J("ngIf",e.displayHeader),i.xp6(1),i.Q6J("ngIf",!e.shouldHide),i.xp6(1),i.Q6J("ngIf",e.shouldHide))},directives:[m.O5,d.PM,d.PQ,d.Zi,d.Nd,d.wI,d.gZ,d.FN,m.PC,m.mk,d.jY,q],pipes:[m.H9],styles:["[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}[_nghost-%COMP%]   section[_ngcontent-%COMP%]{margin:100px auto;height:1000px}[_nghost-%COMP%]   .tooltip[_ngcontent-%COMP%]{position:relative;top:0}[_nghost-%COMP%]   ion-card.myv-card[_ngcontent-%COMP%]{margin:unset}[_nghost-%COMP%]   ion-card.myv-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{font-size:16px;font-weight:bold;font-stretch:normal;font-style:normal;line-height:1;letter-spacing:.02px;text-align:left;color:var(--primary-colors-voya-black)}[_nghost-%COMP%]   ion-card.myv-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding-bottom:10px}[_nghost-%COMP%]   ion-card.myv-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   ion-card.myv-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .tool-tip[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   ion-card.myv-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:24px;width:24px;margin-left:2px}[_nghost-%COMP%]   ion-card.myv-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{right:15px;height:20px;width:20px}[_nghost-%COMP%]   ion-card.myv-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px;width:20px}[_nghost-%COMP%]   ion-card.myv-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col.card-title[_ngcontent-%COMP%]{max-width:215px;min-width:215px}[_nghost-%COMP%]   ion-card.myv-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col.card-title[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:16px;font-weight:bold;font-stretch:normal;font-style:normal;line-height:1.5;letter-spacing:.02px;text-align:left;color:var(--primary-colors-voya-black);display:inline-block}[_nghost-%COMP%]   ion-card.myv-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col.om-edit-icon[_ngcontent-%COMP%]{margin:auto}[_nghost-%COMP%]   ion-card.myv-card[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}[_nghost-%COMP%]   .progress[_ngcontent-%COMP%]{border-radius:10px;height:8px;flex-grow:0;margin:0 0 10px;background-color:var(--color-lightgrey);overflow:visible;max-width:100%}[_nghost-%COMP%]   .progress-bar[_ngcontent-%COMP%]{border-radius:10px;max-width:100%;background:var(--ion-color-orange);height:8px}[_nghost-%COMP%]   .progress-text-offset[_ngcontent-%COMP%]{margin-left:-8px}[_nghost-%COMP%]   .arrow-down[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .retire-label-grey[_ngcontent-%COMP%]{font-size:12px;margin:0 0 6px;color:var(--voya-grey-font)}[_nghost-%COMP%]   .divider[_ngcontent-%COMP%]{margin:14px 0 12px;height:1px;border-top:1px solid var(--color-lightgrey)}[_nghost-%COMP%]   .edit-account[_ngcontent-%COMP%]{margin-left:8px}[_nghost-%COMP%]   .orange-color[_ngcontent-%COMP%]{color:var(--ion-color-orange)}[_nghost-%COMP%]   .bottom-line-text[_ngcontent-%COMP%]{font-size:14px;font-weight:600;line-height:1.14;letter-spacing:.01px;text-align:right;color:var(--dark-grey-text-color);vertical-align:middle;display:inline;margin-right:4px}[_nghost-%COMP%]   .bottom-line-img[_ngcontent-%COMP%]{vertical-align:middle;display:inline;cursor:pointer}[_nghost-%COMP%]   .section-title[_ngcontent-%COMP%]{margin-left:-4px;margin-bottom:20px}[_nghost-%COMP%]   .section-title[_ngcontent-%COMP%]   .voya-dark[_ngcontent-%COMP%]{color:var(--primary-colors-voya-black)}[_nghost-%COMP%]   .orange-money-submit[_ngcontent-%COMP%]{max-width:200px;margin:auto}"]}),t})()}}]);