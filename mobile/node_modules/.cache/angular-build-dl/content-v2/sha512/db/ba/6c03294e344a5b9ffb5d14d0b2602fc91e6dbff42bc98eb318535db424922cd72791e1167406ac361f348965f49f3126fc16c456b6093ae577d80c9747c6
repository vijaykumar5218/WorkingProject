"use strict";(self.webpackChunkmyvoyage=self.webpackChunkmyvoyage||[]).push([[9032],{79032:function(t,e,i){i.r(e),i.d(e,{LandingPageModule:function(){return I}});var n=i(38583),o=i(90665),s=i(14081),a=i(92859),r=i(93206),c=i(97582),g=i(2398),l=JSON.parse('{"welcome":"Welcome to","nextGen":"Your next generation, employee benefits experience.","signin":"Sign In","register":"Register","signInWith":"Sign in with ","failedAttest":"Failed to validate your applications integrity. Please make sure you a running a valid version of myVoyage"}'),h=i.t(l,2),p=i(71249),d=i(75319),u=i(94184),m=i(57700),x=i(21728),C=i(52810),f=i(9408),v=i(807),b=i(69587),_=i(46597);function y(t,e){if(1&t){const t=m.EpF();m.TgZ(0,"a",23),m.NdJ("click",function(){m.CHM(t);const e=m.oxw(2).$implicit;return m.oxw(2).openLink(e.login_description[0].link_url)}),m._uU(1),m.qZA()}if(2&t){const t=m.oxw(2).$implicit;m.xp6(1),m.hij(" ",t.login_description[0].link_name,"")}}function O(t,e){if(1&t&&(m.TgZ(0,"div",18),m._UZ(1,"img",19),m.TgZ(2,"ion-text",20),m._uU(3),m.qZA(),m.TgZ(4,"ion-text",21),m._uU(5),m.YNc(6,y,2,1,"a",22),m.qZA(),m.qZA()),2&t){const t=m.oxw().$implicit;m.xp6(1),m.s9C("src",t.login_description[0].image_url,m.LSH),m.xp6(2),m.Oqu(t.login_title),m.xp6(2),m.hij(" ",t.login_description[0].description," "),m.xp6(1),m.Q6J("ngIf",t.login_description[0].link_name)}}function S(t,e){1&t&&m.YNc(0,O,7,4,"ng-template",16,17,m.W1O)}function w(t,e){if(1&t){const t=m.EpF();m.TgZ(0,"ion-row",24),m.TgZ(1,"ion-col"),m._UZ(2,"img",25),m.TgZ(3,"ion-text",26),m.NdJ("click",function(){return m.CHM(t),m.oxw(2).loginFaceID()}),m._uU(4),m.qZA(),m.qZA(),m.qZA()}if(2&t){const t=m.oxw(2);m.xp6(2),m.s9C("src",t.biometricsIcon,m.LSH),m.xp6(2),m.AsE("",t.pageText.signInWith,"",t.biometricsText,"")}}const M=function(t){return{width:t}};function P(t,e){if(1&t){const t=m.EpF();m.TgZ(0,"ion-grid",1),m.TgZ(1,"ion-row",2),m.TgZ(2,"ion-col"),m.TgZ(3,"ion-text",3),m._uU(4),m.qZA(),m.qZA(),m.qZA(),m.TgZ(5,"ion-row",4),m.TgZ(6,"ion-col",5),m.TgZ(7,"div",6),m._UZ(8,"img",7),m.qZA(),m.qZA(),m.qZA(),m.TgZ(9,"swiper",8),m.NdJ("swiper",function(e){return m.CHM(t),m.oxw().setSwiperInstance(e)})("slideChange",function(){return m.CHM(t),m.oxw().handleSlideChange()}),m.YNc(10,S,2,0,void 0,9),m.qZA(),m.TgZ(11,"ion-row",10),m.TgZ(12,"ion-col"),m._UZ(13,"app-step-progress-bar",11),m.qZA(),m.qZA(),m.YNc(14,w,5,3,"ion-row",12),m.TgZ(15,"ion-row",13),m.TgZ(16,"ion-col",13),m.TgZ(17,"ion-button",14),m.NdJ("click",function(){return m.CHM(t),m.oxw().signInClicked()}),m._uU(18),m.qZA(),m.qZA(),m.qZA(),m.TgZ(19,"ion-row",13),m.TgZ(20,"ion-col",13),m.TgZ(21,"ion-button",15),m.NdJ("click",function(){return m.CHM(t),m.oxw().registerClicked()}),m._uU(22),m.qZA(),m.qZA(),m.qZA(),m.qZA()}if(2&t){const t=m.oxw();m.xp6(4),m.Oqu(t.pageText.welcome),m.xp6(5),m.Q6J("config",t.slideOpts)("ngStyle",m.VKq(11,M,t.pageWidth)),m.xp6(1),m.Q6J("ngForOf",t.landingSteps),m.xp6(3),m.Q6J("steps",t.landingSteps)("currentStep",t.currentStep),m.xp6(1),m.Q6J("ngIf",t.hasFaceIDSession),m.xp6(3),m.Q6J("disabled",t.signInDisabled),m.xp6(1),m.hij(" ",t.pageText.signin," "),m.xp6(3),m.Q6J("disabled",t.signInDisabled),m.xp6(1),m.hij(" ",t.pageText.register," ")}}const k=[{path:"",component:(()=>{class t{constructor(t,e,i,n,o,s,a,r){this.authService=t,this.headerFooterTypeService=e,this.landingService=i,this.ngZone=n,this.route=o,this.loadingController=s,this.homeService=a,this.accessService=r,this.pageText=h,this.firstTimeLoad=!0,this.hasFaceIDSession=!1,this.slideOpts={slidesPerView:1,centeredSlides:!0},this.currentStep=0,this.reloading=!1,this.subscription=new d.w,this.signInDisabled=!1}ngOnInit(){this.subscription.add(this.authService.authenticationChange$.subscribe(this.authenticationChanged.bind(this))),this.subscription.add(this.authService.biometricsAuthenticationChange$.subscribe(this.biometricsAuthenticationChanged.bind(this)))}ionViewWillEnter(){return(0,c.mG)(this,void 0,void 0,function*(){this.reloading=this.authService.reloading,this.headerFooterTypeService.publishType({type:u.n.none},{type:g.v.none}),this.landingSteps=(yield this.landingService.getLandingContent()).MobileLaunchContent,this.landingSteps[0].status=p.q.completed,this.pageWidth=.8*window.innerWidth+"px",this.biometricsIcon=yield this.authService.getBiometricsIconName(),this.biometricsText=yield this.authService.getBiometricsLabel(),this.checkFaceIdSession(),this.route.queryParams.subscribe(t=>(0,c.mG)(this,void 0,void 0,function*(){this.firstTimeLoad&&!(null==t?void 0:t.noAutoLogin)&&(yield this.authService.attemptFaceIDLogin(),this.firstTimeLoad=!1,this.checkOldSessionAndRevoke())})),this.landingService.openVersionAlert()})}checkFaceIdSession(){return(0,c.mG)(this,void 0,void 0,function*(){try{this.hasFaceIDSession=yield this.authService.hasFaceIDSession()}catch(t){this.hasFaceIDSession=!1}})}biometricsAuthenticationChanged(t){t&&this.homeService.initializeAppForUser()}authenticationChanged(t){return(0,c.mG)(this,void 0,void 0,function*(){if(t.auth&&!t.attested){const t=yield this.loadingController.create({translucent:!0});if(t.present(),!(yield this.landingService.validateApplication()))return alert(this.pageText.failedAttest),yield this.authService.logoutAndRevoke(),void t.dismiss();this.authService.onAuthChange({auth:!0,attested:!0});const e=yield this.landingService.checkMyvoyageAccess();this.accessService.checkLastPreferenceUpdated(),"Y"===e.enableMyVoyage?(this.homeService.initializeAppForUser(),(yield this.authService.shouldShowBiometricsScreen())?this.landingService.navigateByUrl("biometrics"):this.authService.navigateToLoggedInLanding()):this.landingService.navigateByUrl("no-access"),t.dismiss()}})}checkOldSessionAndRevoke(){return(0,c.mG)(this,void 0,void 0,function*(){(yield this.authService.hasNonFaceIDSession())&&(yield this.authService.logoutAndRevoke())})}loginFaceID(){this.authService.attemptFaceIDLogin()}signInClicked(){return(0,c.mG)(this,void 0,void 0,function*(){this.signInDisabled=!0;const t=yield this.loadingController.create({translucent:!0});t.present(),yield this.authService.openLogin(),this.checkFaceIdSession(),t.dismiss(),this.signInDisabled=!1})}registerClicked(){return(0,c.mG)(this,void 0,void 0,function*(){this.signInDisabled=!0;const t=yield this.loadingController.create({translucent:!0});t.present(),yield this.authService.openRegister(),this.checkFaceIdSession(),t.dismiss(),this.signInDisabled=!1})}setSwiperInstance(t){this.slides=t}openLink(t){this.landingService.openInBrowser(t)}handleSlideChange(){this.ngZone.run(()=>{this.currentStep=this.slides.activeIndex,this.landingSteps[this.currentStep].status=p.q.completed,this.currentStep+1<this.landingSteps.length&&(this.landingSteps[this.currentStep+1].status=p.q.notStarted)})}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(m.Y36(x.$),m.Y36(C.J),m.Y36(f.U),m.Y36(m.R0b),m.Y36(r.gz),m.Y36(a.HT),m.Y36(v.Y),m.Y36(b.v))},t.\u0275cmp=m.Xpm({type:t,selectors:[["app-landing"]],decls:1,vars:1,consts:[["class","p-0","class","container",4,"ngIf"],[1,"container"],[1,"top-row"],[1,"welcome"],[1,"logo-row"],[1,"logo-col"],[1,"logo-div"],["src","assets/icon/myVoyageNew_Mobile.svg","alt","voya logo",1,"logo"],["id","swiper-container",3,"config","ngStyle","swiper","slideChange"],[4,"ngFor","ngForOf"],[1,"progress-row"],[3,"steps","currentStep"],["class","face-id-row",4,"ngIf"],[1,"p-0"],["name","submit","shape","round","expand","block","type","submit","color","btncolor","id","sign-in-button",1,"sign-in",3,"disabled","click"],["name","submit","shape","round","expand","block","type","submit","color","white","fill","outline","id","register-button",1,"register",3,"disabled","click"],["swiperSlide",""],["swiper",""],[1,"page-container"],["alt","",1,"slide-img",3,"src"],[1,"page-title"],[1,"page-desc"],[3,"click",4,"ngIf"],[3,"click"],[1,"face-id-row"],["alt","biometrics",1,"bio-icon",3,"src"],[1,"bio-text",3,"click"]],template:function(t,e){1&t&&m.YNc(0,P,23,13,"ion-grid",0),2&t&&m.Q6J("ngIf",!e.reloading)},directives:[n.O5,a.jY,a.Nd,a.wI,a.yW,s.nF,n.PC,n.sg,_.b,a.YG,s.YC],styles:["[_nghost-%COMP%]{background-color:var(--primary-colors-voya-white)}@keyframes rotate-compass{0%{opacity:0;transform:translate(15%) rotate(0) scale(5)}5%{opacity:1;transform:translate(15%) scale(5)}10%{transform:translate(15%) scale(5)}20%{transform:translate(15%) rotate(-90deg) scale(5)}60%{transform:translate(0) rotate(90deg) scale(1)}to{transform:translate(0) rotate(0)}}@keyframes fade-in{0%{opacity:0}60%{opacity:0}to{opacity:1}}[_nghost-%COMP%]   .container[_ngcontent-%COMP%]{height:100%}@media screen and (max-height: 700px){[_nghost-%COMP%]   .top-row[_ngcontent-%COMP%]{margin-top:12px;margin-bottom:8px}[_nghost-%COMP%]   .top-row.ios[_ngcontent-%COMP%]{margin-top:20px}[_nghost-%COMP%]   .page-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%}}[_nghost-%COMP%]   .top-row[_ngcontent-%COMP%]{margin-bottom:12px;height:24px;font-size:18px;line-height:1.33;letter-spacing:.03px;text-align:center;color:var(--primary-colors-voya-black)}@media screen and (min-height: 700px){[_nghost-%COMP%]   .top-row[_ngcontent-%COMP%]{margin-top:40px}[_nghost-%COMP%]   .top-row.ios[_ngcontent-%COMP%]{margin-top:70px}}[_nghost-%COMP%]   #swiper-container[_ngcontent-%COMP%]{animation:fade-in 2.5s ease-in-out both;margin-bottom:20px;height:35%}[_nghost-%COMP%]   .swiper-slide[_ngcontent-%COMP%]{display:flex;flex-direction:column!important}[_nghost-%COMP%]   .page-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%;width:100%}[_nghost-%COMP%]   .page-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{min-height:0;flex-shrink:1;margin:auto auto 10px}[_nghost-%COMP%]   .page-container[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:16px;font-weight:bold;letter-spacing:.02px;margin-bottom:8px;margin-top:8px;color:var(--primary-colors-voya-black)}[_nghost-%COMP%]   .page-container[_ngcontent-%COMP%]   .page-desc[_ngcontent-%COMP%]{font-size:16px;font-weight:normal;letter-spacing:.08px;text-align:left;color:var(--primary-colors-voya-black)}[_nghost-%COMP%]   .page-container[_ngcontent-%COMP%]   .page-desc[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--primary-colors-voya-dark-blue)}[_nghost-%COMP%]   .welcome[_ngcontent-%COMP%]{display:block;margin:auto;text-align:center;font-size:18px;letter-spacing:.03px;color:var(--primary-colors-voya-black);animation:fade-in 2.5s ease-in-out both}[_nghost-%COMP%]   .logo-col[_ngcontent-%COMP%]{margin:20px auto 5%}[_nghost-%COMP%]   .logo-col[_ngcontent-%COMP%]   .logo-div[_ngcontent-%COMP%]{display:block;width:292px;height:89.3px;margin:auto}[_nghost-%COMP%]   .logo-col[_ngcontent-%COMP%]   .logo-div[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{position:absolute;top:0px;left:50%;transform:translate(-50%);width:292px;height:89.3px;animation:fade-in 2.5s ease-in-out both}[_nghost-%COMP%]   .logo-col[_ngcontent-%COMP%]   .logo-div[_ngcontent-%COMP%]   .compass[_ngcontent-%COMP%]{height:46.5px;width:46.5px;position:absolute;top:0;left:calc(50% - 39px);transform:translate(-50%);animation:rotate-compass 2.5s ease-in-out both}[_nghost-%COMP%]   .progress-row[_ngcontent-%COMP%]{animation:fade-in 2.5s ease-in-out both}[_nghost-%COMP%]   .face-id-row[_ngcontent-%COMP%]{margin-top:20px;font-size:16px;line-height:1.25;letter-spacing:.08px;color:var(--primary-colors-voya-dark-blue);animation:fade-in 2.5s ease-in-out both;text-align:center}[_nghost-%COMP%]   .face-id-row[_ngcontent-%COMP%]   .bio-icon[_ngcontent-%COMP%]{height:20px;width:20px;display:inline-block;vertical-align:bottom;margin-right:8px}[_nghost-%COMP%]   .face-id-row[_ngcontent-%COMP%]   .bio-text[_ngcontent-%COMP%]{display:inline-block;text-align:center}[_nghost-%COMP%]   ion-button[_ngcontent-%COMP%]{display:block;width:220px;height:40px;margin:20px auto 0;animation:fade-in 2.5s ease-in-out both}[_nghost-%COMP%]   ion-button.register[_ngcontent-%COMP%]{--border-color: var(--primary-colors-voya-dark-blue);--border-width: 2px}"]}),t})()}];let Z=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({imports:[[r.Bz.forChild(k)],r.Bz]}),t})();var A=i(76192);let I=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=m.oAB({type:t}),t.\u0275inj=m.cJS({imports:[[n.ez,o.u5,a.Pc,Z,s.kz,A.q]]}),t})()}}]);