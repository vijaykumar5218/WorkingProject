"use strict";(self.webpackChunkmyvoyage=self.webpackChunkmyvoyage||[]).push([[2398],{52398:function(e,t,i){i.r(t),i.d(t,{SavviModule:function(){return b}});var n=i(38583),s=i(47823),r=i(93206),o=i(97582),a=i(94184),c=i(2398),l=i(57700),u=i(88129),v=i(21728),h=i(37364),p=i(7935);let d=(()=>{class e{constructor(e,t,i,n){this.authService=e,this.utilityService=t,this.baseService=i,this.loadingController=n,this.tokenEndPoints=u.Ad,this.loginEndPoints=u.pQ,this.environment=this.utilityService.getEnvironment(),this.tokenEndPoints=this.utilityService.appendBaseUrlToEndpoints(u.Ad,this.environment.tokenBaseUrl),this.loginEndPoints=this.utilityService.appendBaseUrlToEndpoints(u.pQ,this.environment.loginBaseUrl)}generateSavviUrl(){return(0,o.mG)(this,void 0,void 0,function*(){if(this.loginEndPoints.savviSaml=this.loginEndPoints.savviSaml.replace("{savviBaseUrl}",this.environment.savviBaseUrl),this.utilityService.getIsWeb())return this.loginEndPoints.savviSaml;{const e=yield this.loadingController.create({translucent:!0});yield e.present();const t=yield this.authService.getAccessToken(),i={client_id:this.environment.authTokenExchangeClient,subject_token:t,subject_token_type:"access_token",audience:this.environment.ssoSamlUrl,grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",requested_token_type:"access_token",scope:"urn:voya:federation"},n=yield this.baseService.postUrlEncoded(this.tokenEndPoints.samlAuthToken,i,{});return e.dismiss(),this.loginEndPoints.savviSaml+n.access_token}})}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(v.$),l.LFG(h.O),l.LFG(p.bQ),l.LFG(s.HT))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var y=i(1747),m=i(39075),S=i(89128);function f(e,t){if(1&e&&l._UZ(0,"iframe",1),2&e){const e=l.oxw();l.Q6J("src",e.savviUrl,l.uOi)}}const g=[{path:"",component:(()=>{class e{constructor(e){this.utilityService=e}ionViewWillEnter(){this.utilityService.setSuppressHeaderFooter(!0)}ionViewWillLeave(){this.utilityService.setSuppressHeaderFooter(!1)}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(h.O))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-savvi"]],decls:1,vars:0,template:function(e,t){1&e&&l._UZ(0,"ion-router-outlet")},directives:[s.jP],encapsulation:2}),e})(),children:[{path:"enrollment-guidance",component:(()=>{class e{constructor(e,t,i,n,s){this.savviService=e,this.headerType=t,this.sanitizer=i,this.footerType=n,this.utilityService=s,this.actionOption={headername:"myVoyage",btnleft:!0,buttonLeft:{name:"",link:"back"}}}ngOnInit(){this.headerType.publish({type:a.n.navbar,actionOption:this.actionOption}),this.footerType.publish({type:c.v.none}),this.isWeb=this.utilityService.getIsWeb(),this.utilityService.setSuppressHeaderFooter(!0)}ionViewWillEnter(){return(0,o.mG)(this,void 0,void 0,function*(){this.utilityService.setSuppressHeaderFooter(!0),this.savviUrl=this.sanitizer.bypassSecurityTrustResourceUrl(yield this.savviService.generateSavviUrl())})}ionViewWillLeave(){this.utilityService.setSuppressHeaderFooter(!1)}ngOnDestroy(){this.utilityService.setSuppressHeaderFooter(!1)}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(d),l.Y36(y.v),l.Y36(m.H7),l.Y36(S.c),l.Y36(h.O))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-enrollment-guidance"]],decls:1,vars:1,consts:[["title","Savvi Enrollment Guidance","allowfullscreen","",3,"src",4,"ngIf"],["title","Savvi Enrollment Guidance","allowfullscreen","",3,"src"]],template:function(e,t){1&e&&l.YNc(0,f,1,1,"iframe",0),2&e&&l.Q6J("ngIf",t.savviUrl)},directives:[n.O5],styles:["iframe[_ngcontent-%COMP%]{border:0;width:100%;height:100%}"]}),e})()}]}];let k=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[r.Bz.forChild(g)],r.Bz]}),e})(),b=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[n.ez,s.Pc,k]]}),e})()}}]);