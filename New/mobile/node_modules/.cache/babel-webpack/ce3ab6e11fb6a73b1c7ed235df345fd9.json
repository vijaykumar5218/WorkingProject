{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { DefaultIABController } from './default-iab-controller';\nimport content from '@shared-lib/services/benefits/open-savvi/constants/benefits.json';\nimport { IABMessage } from '../constants/message.enum';\nexport class SavviIABController extends DefaultIABController {\n  constructor(inAppBrowser, openSavviService) {\n    super();\n    this.inAppBrowser = inAppBrowser;\n    this.showLoader = false;\n    this.openSavviService = openSavviService;\n  }\n\n  loadStopCallback() {\n    const _super = Object.create(null, {\n      loadStopCallback: {\n        get: () => super.loadStopCallback\n      }\n    });\n\n    return __awaiter(this, void 0, void 0, function* () {\n      this.browser.insertCSS({\n        code: `\n          #root {\n            margin-top: 64px;\n          }`\n      });\n      this.displayCustomHeader(content.headerText, true, false);\n      const script = `\n      document.addEventListener('signOutComplete', () => {\n        webkit.messageHandlers.cordova_iab.postMessage(JSON.stringify({message: '${IABMessage.close}'}));\n      });\n      window.savvi = {isMobile: true};\n      const checkIsMobileEvent = new CustomEvent('savvi.ismobile', {\n        detail: {\n          window.savvi = {isMobile: true};\n        };\n      });\n      window.dispatchEvent(checkIsMobileEvent);\n    `;\n      this.browser.executeScript({\n        code: script\n      });\n\n      _super.loadStopCallback.call(this);\n\n      this.loadingController.dismiss();\n    });\n  }\n\n  openInAppBrowser(savviUrl) {\n    return __awaiter(this, void 0, void 0, function* () {\n      this.inAppBrowser.openInAppBrowser(savviUrl, this);\n    });\n  }\n\n  exitCallback() {\n    this.openSavviService.exitCallback();\n  }\n\n  resumeCallback() {\n    return;\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}