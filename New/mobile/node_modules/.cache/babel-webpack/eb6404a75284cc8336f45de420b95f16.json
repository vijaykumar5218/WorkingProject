{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { EventEmitter } from '@angular/core';\nimport { OMStatus } from '@shared-lib/services/account/models/orange-money.model';\nimport * as orangeMoney from './constants/orangeMoney.json';\nimport { PopupInputDialogComponent } from '@shared-lib/components/popup-input-dialog/popup-input-dialog.component';\nimport { PopupInputType } from '@shared-lib/components/popup-input-dialog/constants/popup-input-type.enum';\nimport * as moment from 'moment';\nimport { OMTooltipComponent } from './component/om-tooltip/omtooltip.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./services/orange-money.service\";\nimport * as i2 from \"@shared-lib/services/account/account.service\";\nimport * as i3 from \"@ionic/angular\";\nimport * as i4 from \"@shared-lib/services/access/access.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"./component/mad-lib/mad-lib.component\";\n\nfunction OrangeMoneyComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3);\n    i0.ɵɵelementStart(1, \"label\", 4);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate((ctx_r0.omHeader == null ? null : ctx_r0.omHeader.OMHeader) ? ctx_r0.omHeader.OMHeader : ctx_r0.orangeText.retirementAccount);\n  }\n}\n\nfunction OrangeMoneyComponent_ion_card_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"ion-spinner\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction OrangeMoneyComponent_ion_card_1_ng_template_2_ion_col_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-col\", 37);\n    i0.ɵɵelementStart(1, \"span\");\n    i0.ɵɵelementStart(2, \"img\", 38);\n    i0.ɵɵlistener(\"click\", function OrangeMoneyComponent_ion_card_1_ng_template_2_ion_col_7_Template_img_click_2_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext(3);\n      return ctx_r10.editOrangeMoney();\n    })(\"keyup.enter\", function OrangeMoneyComponent_ion_card_1_ng_template_2_ion_col_7_Template_img_keyup_enter_2_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext(3);\n      return ctx_r12.editOrangeMoney();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction OrangeMoneyComponent_ion_card_1_ng_template_2_p_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 21);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r7.orangeText.estimates.gapText, \" \");\n  }\n}\n\nfunction OrangeMoneyComponent_ion_card_1_ng_template_2_p_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r8.orangeText.estimates.onTrackText, \" \");\n  }\n}\n\nfunction OrangeMoneyComponent_ion_card_1_ng_template_2_p_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"currency\");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r9.estimates ? i0.ɵɵpipeBind4(2, 1, ctx_r9.estimates == null ? null : ctx_r9.estimates.difference, \"USD\", \"symbol\", \"1.0-0\") : \"\", \" \");\n  }\n}\n\nconst _c0 = function (a0) {\n  return {\n    \"left.%\": a0\n  };\n};\n\nconst _c1 = function (a0) {\n  return {\n    \"width.%\": a0\n  };\n};\n\nfunction OrangeMoneyComponent_ion_card_1_ng_template_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"ion-card-header\");\n    i0.ɵɵelementStart(1, \"ion-row\");\n    i0.ɵɵelementStart(2, \"ion-col\", 8);\n    i0.ɵɵelementStart(3, \"ion-card-title\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"ion-col\");\n    i0.ɵɵelementStart(6, \"img\", 9);\n    i0.ɵɵlistener(\"click\", function OrangeMoneyComponent_ion_card_1_ng_template_2_Template_img_click_6_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return ctx_r13.openTooltip();\n    })(\"keyup.enter\", function OrangeMoneyComponent_ion_card_1_ng_template_2_Template_img_keyup_enter_6_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      return ctx_r15.openTooltip();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(7, OrangeMoneyComponent_ion_card_1_ng_template_2_ion_col_7_Template, 3, 0, \"ion-col\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"ion-card-content\");\n    i0.ɵɵelementStart(9, \"div\", 11);\n    i0.ɵɵelementStart(10, \"div\", 12);\n    i0.ɵɵelementStart(11, \"div\", 13);\n    i0.ɵɵelementStart(12, \"span\", 14);\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(14, \"img\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"div\", 16);\n    i0.ɵɵelement(16, \"div\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(17, \"div\");\n    i0.ɵɵelementStart(18, \"ion-grid\", 18);\n    i0.ɵɵelementStart(19, \"ion-row\", 19);\n    i0.ɵɵelementStart(20, \"ion-col\", 20);\n    i0.ɵɵelementStart(21, \"p\", 21);\n    i0.ɵɵtext(22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"p\", 22);\n    i0.ɵɵtext(24);\n    i0.ɵɵpipe(25, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(26, \"ion-col\", 23);\n    i0.ɵɵelementStart(27, \"p\", 21);\n    i0.ɵɵtext(28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(29, \"p\", 24);\n    i0.ɵɵtext(30);\n    i0.ɵɵpipe(31, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(32, \"ion-col\", 25);\n    i0.ɵɵtemplate(33, OrangeMoneyComponent_ion_card_1_ng_template_2_p_33_Template, 2, 1, \"p\", 26);\n    i0.ɵɵtemplate(34, OrangeMoneyComponent_ion_card_1_ng_template_2_p_34_Template, 2, 1, \"p\", 27);\n    i0.ɵɵtemplate(35, OrangeMoneyComponent_ion_card_1_ng_template_2_p_35_Template, 3, 6, \"p\", 27);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(36, \"hr\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(37, \"div\");\n    i0.ɵɵelementStart(38, \"ion-grid\", 18);\n    i0.ɵɵelementStart(39, \"ion-row\");\n    i0.ɵɵelementStart(40, \"ion-col\", 29);\n    i0.ɵɵelementStart(41, \"label\", 30);\n    i0.ɵɵtext(42);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(43, \"ion-col\", 31);\n    i0.ɵɵelementStart(44, \"div\", 32);\n    i0.ɵɵelementStart(45, \"div\", 33);\n    i0.ɵɵtext(46);\n    i0.ɵɵpipe(47, \"currency\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(48, \"img\", 34);\n    i0.ɵɵlistener(\"click\", function OrangeMoneyComponent_ion_card_1_ng_template_2_Template_img_click_48_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return ctx_r16.editCurrentSalary();\n    })(\"keyup.enter\", function OrangeMoneyComponent_ion_card_1_ng_template_2_Template_img_keyup_enter_48_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r17 = i0.ɵɵnextContext(2);\n      return ctx_r17.editCurrentSalary();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(49, \"ion-row\", 35);\n    i0.ɵɵelementStart(50, \"ion-col\", 29);\n    i0.ɵɵelementStart(51, \"label\", 30);\n    i0.ɵɵtext(52);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(53, \"ion-col\", 31);\n    i0.ɵɵelementStart(54, \"div\", 32);\n    i0.ɵɵelementStart(55, \"div\", 33);\n    i0.ɵɵtext(56);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(57, \"img\", 36);\n    i0.ɵɵlistener(\"click\", function OrangeMoneyComponent_ion_card_1_ng_template_2_Template_img_click_57_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r18 = i0.ɵɵnextContext(2);\n      return ctx_r18.editRetirementAge();\n    })(\"keyup.enter\", function OrangeMoneyComponent_ion_card_1_ng_template_2_Template_img_keyup_enter_57_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r19 = i0.ɵɵnextContext(2);\n      return ctx_r19.editRetirementAge();\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.orangeText.title, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r5.suppressEdit);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(31, _c0, ctx_r5.progressWidth - 3));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", ctx_r5.progressWidth >= 100 ? \"progress-text-offset\" : \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r5.progressWidth.toFixed(0) + \"%\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngStyle\", i0.ɵɵpureFunction1(33, _c1, ctx_r5.progressWidth));\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.orangeText.estimates.incomeText, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.estimates ? i0.ɵɵpipeBind4(25, 17, ctx_r5.estimates == null ? null : ctx_r5.estimates.estimatedMonthlyIncome, \"USD\", \"symbol\", \"1.0-0\") : \"\", \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.orangeText.estimates.goalText, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.estimates ? i0.ɵɵpipeBind4(31, 22, ctx_r5.estimates == null ? null : ctx_r5.estimates.estimatedMonthlyGoal, \"USD\", \"symbol\", \"1.0-0\") : \"\", \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r5.estimates == null ? null : ctx_r5.estimates.difference) > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !((ctx_r5.estimates == null ? null : ctx_r5.estimates.difference) > 0));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r5.estimates == null ? null : ctx_r5.estimates.difference) > 0);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(ctx_r5.orangeText.currSalary);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind3(47, 27, ctx_r5.estimates == null ? null : ctx_r5.estimates.currSalary, \"USD\", \"symbol\"), \" \");\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r5.orangeText.retirementAge);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.estimates == null ? null : ctx_r5.estimates.retirementAge, \" \");\n  }\n}\n\nfunction OrangeMoneyComponent_ion_card_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-card\", 5);\n    i0.ɵɵtemplate(1, OrangeMoneyComponent_ion_card_1_div_1_Template, 2, 0, \"div\", 6);\n    i0.ɵɵtemplate(2, OrangeMoneyComponent_ion_card_1_ng_template_2_Template, 58, 35, \"ng-template\", null, 7, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const _r4 = i0.ɵɵreference(3);\n\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.estimates)(\"ngIfElse\", _r4);\n  }\n}\n\nfunction OrangeMoneyComponent_app_mad_lib_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"app-mad-lib\", 39);\n    i0.ɵɵlistener(\"madlibClose\", function OrangeMoneyComponent_app_mad_lib_2_Template_app_mad_lib_madlibClose_0_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return ctx_r20.emitMadlibClose();\n    });\n    i0.ɵɵelementEnd();\n  }\n}\n\nexport let OrangeMoneyComponent = /*#__PURE__*/(() => {\n  class OrangeMoneyComponent {\n    constructor(orangeMoneyService, accountService, modalController, accessService) {\n      this.orangeMoneyService = orangeMoneyService;\n      this.accountService = accountService;\n      this.modalController = modalController;\n      this.accessService = accessService;\n      this.progressWidth = 74;\n      this.orangeText = JSON.parse(JSON.stringify(orangeMoney)).default;\n      this.shouldHide = false;\n      this.displayHeader = true;\n      this.fromJourneys = false;\n      this.madlibClose = new EventEmitter();\n    }\n\n    ngOnInit() {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.fetchData();\n        this.account = this.accountService.getAccount();\n        this.suppressEdit = false;\n        yield this.accessService.checkMyvoyageAccess().then(res => __awaiter(this, void 0, void 0, function* () {\n          this.workplaceDashboardEnabled = res.myWorkplaceDashboardEnabled;\n\n          if (this.workplaceDashboardEnabled && this.fromJourneys) {\n            const omEligibleData = yield this.orangeMoneyService.getOMEligibility();\n\n            if (omEligibleData === null || omEligibleData === void 0 ? void 0 : omEligibleData.planId) {\n              this.accountService.getAllAccountsWithOutHSA().then(accData => {\n                var _a;\n\n                const accIndex = (_a = accData.retirementAccounts) === null || _a === void 0 ? void 0 : _a.accounts.findIndex(account => account.planId === omEligibleData.planId);\n\n                if (accIndex != -1) {\n                  this.planLink = accData.retirementAccounts.accounts[accIndex].planLink;\n                } else {\n                  this.suppressEdit = true;\n                }\n              });\n            } else {\n              this.suppressEdit = true;\n            }\n          }\n        }));\n      });\n    }\n\n    openTooltip() {\n      return __awaiter(this, void 0, void 0, function* () {\n        const modal = yield this.modalController.create({\n          component: OMTooltipComponent,\n          cssClass: 'modal-not-fullscreen',\n          swipeToClose: false,\n          componentProps: {\n            tooltipContent: this.omHeader.OMTooltip\n          }\n        });\n        return modal.present();\n      });\n    }\n\n    fetchData() {\n      this.accountContentSubscription = this.accountService.fetchAccountsContent().subscribe(data => {\n        this.omHeader = data;\n      });\n      this.participantSubscription = this.accountService.getParticipant().subscribe(data => {\n        this.dateOfBirth = data.birthDate;\n        this.currentAge = moment().diff(moment(this.dateOfBirth, 'MM/DD/YYYY'), 'years');\n        this.orangeDataSubscription = this.orangeMoneyService.getOrangeData().subscribe(omData => __awaiter(this, void 0, void 0, function* () {\n          this.orangeData = omData;\n          const status = this.orangeMoneyService.getOrangeMoneyStatus(omData);\n          this.omStatusChanged(status);\n\n          if (status == OMStatus.FE_DATA) {\n            //Set retirement age min and max\n            this.retirementAgeMax = omData.feForecastData.participantData.retirementAgeSlider.max;\n            this.retirementAgeMin = omData.feForecastData.participantData.retirementAgeSlider.min; //Set props for saving salary\n\n            this.growthRate = omData.feForecastData.participantData.salary.growthRate;\n            this.desiredGoal = omData.feForecastData.feForecast.desiredGoal;\n            this.minimumGoal = omData.feForecastData.feForecast.minimumGoal;\n          } else {\n            this.retirementAgeMin = this.currentAge + 1;\n            this.retirementAgeMax = 80;\n          }\n\n          this.estimates = yield this.orangeMoneyService.getEstimates(omData);\n\n          if (this.estimates) {\n            if (this.estimates.retirementAge <= this.currentAge) {\n              this.estimates.retirementAge = this.currentAge + 1;\n            }\n\n            this.setProgressWidth();\n          }\n        }));\n      });\n    }\n\n    refreshData() {\n      this.estimates = null;\n      this.orangeMoneyService.getOrangeData(true);\n    }\n\n    omStatusChanged(status) {\n      this.omStatus = status;\n\n      switch (status) {\n        case OMStatus.ORANGE_DATA:\n        case OMStatus.FE_DATA:\n          this.shouldHide = false;\n          break;\n\n        case OMStatus.MADLIB_OM:\n        case OMStatus.MADLIB_FE:\n        case OMStatus.SERVICE_DOWN:\n        case OMStatus.UNKNOWN:\n          this.shouldHide = true;\n          break;\n      }\n    }\n\n    setProgressWidth() {\n      let prog = this.estimates.estimatedMonthlyIncome * 100.0 / this.estimates.estimatedMonthlyGoal;\n\n      if (prog > 100) {\n        prog = 100;\n      }\n\n      this.progressWidth = prog;\n    }\n\n    editOrangeMoney() {\n      return __awaiter(this, void 0, void 0, function* () {\n        let link;\n\n        if (this.workplaceDashboardEnabled) {\n          link = this.fromJourneys ? this.planLink : this.account.planLink;\n        } else {\n          link = this.omHeader.OMDeeplink;\n        }\n\n        this.accountService.openPwebAccountLink(decodeURIComponent(link), this.workplaceDashboardEnabled ? '_self' : '');\n      });\n    }\n\n    editCurrentSalary() {\n      var _a;\n\n      return __awaiter(this, void 0, void 0, function* () {\n        const modal = yield this.modalController.create({\n          component: PopupInputDialogComponent,\n          cssClass: 'modal-not-fullscreen',\n          swipeToClose: false,\n          componentProps: {\n            title: this.orangeText.dialogs.currentSalaryTitle,\n            inputTitle: this.orangeText.dialogs.currentSalaryInputTitle,\n            value: (_a = this.estimates) === null || _a === void 0 ? void 0 : _a.currSalary,\n            inputType: PopupInputType.currency,\n            validator: input => {\n              var _a;\n\n              const numVal = +input;\n\n              if (numVal == ((_a = this.estimates) === null || _a === void 0 ? void 0 : _a.currSalary)) {\n                return this.orangeText.dialogs.validations.incomeSame;\n              } else if (numVal < 1.0 || numVal > 9999999.0) {\n                return this.orangeText.dialogs.validations.incomeBetween;\n              }\n\n              return null;\n            },\n            saveFunction: value => __awaiter(this, void 0, void 0, function* () {\n              return new Promise(res => {\n                if (this.omStatus == OMStatus.FE_DATA) {\n                  this.orangeMoneyService.saveSalaryFE(+value, this.growthRate, this.desiredGoal, this.minimumGoal).then(resp => {\n                    res(resp.feForecastData != null);\n                  });\n                } else if (this.omStatus == OMStatus.ORANGE_DATA) {\n                  const dob = moment(this.dateOfBirth, 'MM/DD/YYYY').toISOString();\n                  this.orangeMoneyService.saveSalaryNonFE(+value, dob, this.orangeData).then(resp => {\n                    res(resp.success);\n                  });\n                } else {\n                  res(false);\n                }\n              });\n            })\n          }\n        });\n        modal.onDidDismiss().then(data => {\n          const saved = data.data.saved;\n\n          if (saved) {\n            this.refreshData();\n          }\n        });\n        return modal.present();\n      });\n    }\n\n    editRetirementAge() {\n      var _a;\n\n      return __awaiter(this, void 0, void 0, function* () {\n        const modal = yield this.modalController.create({\n          component: PopupInputDialogComponent,\n          cssClass: 'modal-not-fullscreen',\n          swipeToClose: false,\n          componentProps: {\n            title: this.orangeText.dialogs.RetirementAgeTitle,\n            inputTitle: this.orangeText.dialogs.RetirementAgeInputTitle,\n            value: (_a = this.estimates) === null || _a === void 0 ? void 0 : _a.retirementAge,\n            inputType: PopupInputType.number,\n            validator: input => {\n              var _a;\n\n              const num = +input;\n\n              if (!num) {\n                return this.orangeText.dialogs.validations.retirementBetween.replace('{1}', this.retirementAgeMin).replace('{2}', this.retirementAgeMax);\n              }\n\n              if (((_a = this.estimates) === null || _a === void 0 ? void 0 : _a.retirementAge) == num) {\n                return this.orangeText.dialogs.validations.retirementAgeSame;\n              }\n\n              if (num > this.retirementAgeMax) {\n                return this.orangeText.dialogs.validations.retirementExcedes + this.retirementAgeMax;\n              } else if (num < this.retirementAgeMin) {\n                return this.orangeText.dialogs.validations.retirementBelow + this.retirementAgeMin;\n              }\n            },\n            saveFunction: value => __awaiter(this, void 0, void 0, function* () {\n              return new Promise(res => {\n                if (this.omStatus == OMStatus.FE_DATA) {\n                  this.orangeMoneyService.saveRetiremnetAgeFE(+value).then(resp => {\n                    res(resp.result.valid);\n                  });\n                } else if (this.omStatus == OMStatus.ORANGE_DATA) {\n                  this.orangeMoneyService.saveRetirementAgeNonFE(+value, this.orangeData).then(resp => {\n                    res(resp.result.valid);\n                  });\n                } else {\n                  res(false);\n                }\n              });\n            })\n          }\n        });\n        modal.onDidDismiss().then(data => {\n          if (data.data.saved) {\n            this.refreshData();\n          }\n        });\n        return modal.present();\n      });\n    }\n\n    emitMadlibClose() {\n      this.madlibClose.emit();\n    }\n\n    ngOnDestroy() {\n      if (this.accountContentSubscription) {\n        this.accountContentSubscription.unsubscribe();\n      }\n\n      if (this.orangeDataSubscription) {\n        this.orangeDataSubscription.unsubscribe();\n      }\n\n      if (this.participantSubscription) {\n        this.participantSubscription.unsubscribe();\n      }\n    }\n\n  }\n\n  OrangeMoneyComponent.ɵfac = function OrangeMoneyComponent_Factory(t) {\n    return new (t || OrangeMoneyComponent)(i0.ɵɵdirectiveInject(i1.OrangeMoneyService), i0.ɵɵdirectiveInject(i2.AccountService), i0.ɵɵdirectiveInject(i3.ModalController), i0.ɵɵdirectiveInject(i4.AccessService));\n  };\n\n  OrangeMoneyComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: OrangeMoneyComponent,\n    selectors: [[\"app-orange-money\"]],\n    inputs: {\n      displayHeader: \"displayHeader\",\n      fromJourneys: \"fromJourneys\"\n    },\n    outputs: {\n      madlibClose: \"madlibClose\"\n    },\n    decls: 3,\n    vars: 3,\n    consts: [[\"class\", \"section-title\", 4, \"ngIf\"], [\"class\", \"myv-card\", 4, \"ngIf\"], [3, \"madlibClose\", 4, \"ngIf\"], [1, \"section-title\"], [1, \"voya-dark\", \"font-w-600\"], [1, \"myv-card\"], [4, \"ngIf\", \"ngIfElse\"], [\"elseBlock\", \"\"], [1, \"card-title\"], [\"automation-id\", \"om-info-button\", \"tabindex\", \"0\", \"alt\", \"info\", \"src\", \"assets/icon/ic-info-outline-24px.svg\", 1, \"tool-tip\", 3, \"click\", \"keyup.enter\"], [\"class\", \"ion-text-end om-edit-icon\", 4, \"ngIf\"], [1, \"container\"], [1, \"barWrapper\"], [\"title\", \"85%\", 1, \"font-12\", \"tooltip\", 3, \"ngStyle\"], [3, \"ngClass\"], [\"alt\", \"arrow down\", \"src\", \"assets/icon/ic_arrow_drop_down.svg\", 1, \"arrow-down\"], [1, \"progress\"], [\"title\", \"Orange money progress\", \"role\", \"progressbar\", 1, \"progress-bar\", 3, \"ngStyle\"], [1, \"ion-no-padding\"], [1, \"orange-money-details\"], [\"size-xs\", \"5\", \"size-sm\", \"4\", \"size-md\", \"4\", \"size-lg\", \"4\"], [1, \"retire-label-grey\"], [1, \"font-14\", \"font-w-600\", \"ion-no-margin\", \"orange-color\"], [\"size-xs\", \"4\", \"size-sm\", \"4\", \"size-md\", \"4\", \"size-lg\", \"4\"], [1, \"font-14\", \"font-w-600\", \"ion-no-margin\"], [\"size-xs\", \"3\", \"size-sm\", \"4\", \"size-md\", \"4\", \"size-lg\", \"4\"], [\"class\", \"retire-label-grey\", 4, \"ngIf\"], [\"class\", \"font-14 font-w-600 ion-no-margin\", 4, \"ngIf\"], [1, \"divider\"], [\"size-xs\", \"6\", \"size-sm\", \"4\", \"size-md\", \"4\", \"size-lg\", \"4\"], [1, \"font-14\"], [\"size-xs\", \"6\", \"size-sm\", \"8\", \"size-md\", \"8\", \"size-lg\", \"8\", 1, \"\"], [1, \"text-right\"], [1, \"bottom-line-text\"], [\"automation-id\", \"edit_current_salary\", \"tabindex\", \"0\", \"alt\", \"edit\", \"src\", \"assets/icon/pencil_circle.svg\", 1, \"bottom-line-img\", 3, \"click\", \"keyup.enter\"], [1, \"mt-20\"], [\"automation-id\", \"edit_retirement_age\", \"tabindex\", \"0\", \"alt\", \"edit\", \"src\", \"assets/icon/pencil_circle.svg\", 1, \"bottom-line-img\", 3, \"click\", \"keyup.enter\"], [1, \"ion-text-end\", \"om-edit-icon\"], [\"tabindex\", \"0\", \"alt\", \"edit\", \"src\", \"assets/icon/pencil_circle.svg\", 1, \"ion-float-right\", 3, \"click\", \"keyup.enter\"], [3, \"madlibClose\"]],\n    template: function OrangeMoneyComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, OrangeMoneyComponent_div_0_Template, 3, 1, \"div\", 0);\n        i0.ɵɵtemplate(1, OrangeMoneyComponent_ion_card_1_Template, 4, 2, \"ion-card\", 1);\n        i0.ɵɵtemplate(2, OrangeMoneyComponent_app_mad_lib_2_Template, 1, 0, \"app-mad-lib\", 2);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.displayHeader);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.shouldHide);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.shouldHide);\n      }\n    },\n    directives: [i5.NgIf, i3.IonCard, i3.IonSpinner, i3.IonCardHeader, i3.IonRow, i3.IonCol, i3.IonCardTitle, i3.IonCardContent, i5.NgStyle, i5.NgClass, i3.IonGrid, i6.MadLibComponent],\n    pipes: [i5.CurrencyPipe],\n    styles: [\"[_nghost-%COMP%]{display:block}[_nghost-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:20px}[_nghost-%COMP%]   section[_ngcontent-%COMP%]{margin:100px auto;height:1000px}[_nghost-%COMP%]   .tooltip[_ngcontent-%COMP%]{position:relative;top:0}[_nghost-%COMP%]   ion-card.myv-card[_ngcontent-%COMP%]{margin:unset}[_nghost-%COMP%]   ion-card.myv-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{font-size:16px;font-weight:bold;font-stretch:normal;font-style:normal;line-height:1;letter-spacing:.02px;text-align:left;color:var(--primary-colors-voya-black)}[_nghost-%COMP%]   ion-card.myv-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;padding-bottom:10px}[_nghost-%COMP%]   ion-card.myv-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]{width:100%}[_nghost-%COMP%]   ion-card.myv-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   .tool-tip[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   ion-card.myv-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:24px;width:24px;margin-left:2px}[_nghost-%COMP%]   ion-card.myv-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{right:15px;height:20px;width:20px}[_nghost-%COMP%]   ion-card.myv-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:20px;width:20px}[_nghost-%COMP%]   ion-card.myv-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col.card-title[_ngcontent-%COMP%]{max-width:215px;min-width:215px}[_nghost-%COMP%]   ion-card.myv-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col.card-title[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:16px;font-weight:bold;font-stretch:normal;font-style:normal;line-height:1.5;letter-spacing:.02px;text-align:left;color:var(--primary-colors-voya-black);display:inline-block}[_nghost-%COMP%]   ion-card.myv-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-row[_ngcontent-%COMP%]   ion-col.om-edit-icon[_ngcontent-%COMP%]{margin:auto}[_nghost-%COMP%]   ion-card.myv-card[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}[_nghost-%COMP%]   .progress[_ngcontent-%COMP%]{border-radius:10px;height:8px;flex-grow:0;margin:0 0 10px;background-color:var(--color-lightgrey);overflow:visible;max-width:100%}[_nghost-%COMP%]   .progress-bar[_ngcontent-%COMP%]{border-radius:10px;max-width:100%;background:var(--ion-color-orange);height:8px}[_nghost-%COMP%]   .progress-text-offset[_ngcontent-%COMP%]{margin-left:-8px}[_nghost-%COMP%]   .arrow-down[_ngcontent-%COMP%]{display:block}[_nghost-%COMP%]   .retire-label-grey[_ngcontent-%COMP%]{font-size:12px;margin:0 0 6px;color:var(--voya-grey-font)}[_nghost-%COMP%]   .divider[_ngcontent-%COMP%]{margin:14px 0 12px;height:1px;border-top:1px solid var(--color-lightgrey)}[_nghost-%COMP%]   .edit-account[_ngcontent-%COMP%]{margin-left:8px}[_nghost-%COMP%]   .orange-color[_ngcontent-%COMP%]{color:var(--ion-color-orange)}[_nghost-%COMP%]   .bottom-line-text[_ngcontent-%COMP%]{font-size:14px;font-weight:600;line-height:1.14;letter-spacing:.01px;text-align:right;color:var(--dark-grey-text-color);vertical-align:middle;display:inline;margin-right:4px}[_nghost-%COMP%]   .bottom-line-img[_ngcontent-%COMP%]{vertical-align:middle;display:inline;cursor:pointer}[_nghost-%COMP%]   .section-title[_ngcontent-%COMP%]{margin-left:-4px;margin-bottom:20px}[_nghost-%COMP%]   .section-title[_ngcontent-%COMP%]   .voya-dark[_ngcontent-%COMP%]{color:var(--primary-colors-voya-black)}[_nghost-%COMP%]   .orange-money-submit[_ngcontent-%COMP%]{max-width:200px;margin:auto}\"]\n  });\n  return OrangeMoneyComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}