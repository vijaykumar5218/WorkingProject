{"ast":null,"code":"import { __awaiter } from \"tslib\";\nimport { ElementRef } from '@angular/core';\nimport * as planText from '@shared-lib/components/coverages/plan-tabs/plan-details/constants/planText.json';\nimport { Subscription } from 'rxjs';\nimport { eventKeys } from '@shared-lib/constants/event-keys';\nimport { delay } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@shared-lib/services/benefits/benefits.service\";\nimport * as i2 from \"@shared-lib/services/utility/utility.service\";\nimport * as i3 from \"@shared-lib/modules/event-manager/event-manager/event-manager.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@ionic/angular\";\nimport * as i6 from \"../../../loading-text/loading-text.component\";\nimport * as i7 from \"./as-of/as-of.component\";\nimport * as i8 from \"./my-id-card/my-id-card.component\";\nimport * as i9 from \"./dependents/dependents.component\";\nimport * as i10 from \"./cov-explanations/cov-explanations.component\";\nimport * as i11 from \"../../med-disclaimer/med-disclaimer.component\";\nimport * as i12 from \"./cov-extra-details/cov-extra-details.component\";\nconst _c0 = [\"topmostElement\"];\n\nfunction PlanDetailsComponent_ng_container_10_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const data_r3 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", data_r3.benefit_type_title, \" \");\n  }\n}\n\nfunction PlanDetailsComponent_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, PlanDetailsComponent_ng_container_10_p_1_Template, 2, 1, \"p\", 14);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const data_r3 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", (ctx_r1.selectedBenefit == null ? null : ctx_r1.selectedBenefit.type) == data_r3.benefit_type);\n  }\n}\n\nfunction PlanDetailsComponent_ng_container_15_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-cov-extra-details\", 18);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const group_r7 = ctx.$implicit;\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"planSummaryGroup\", group_r7)(\"notes\", ctx_r6.selectedBenefit == null ? null : ctx_r6.selectedBenefit.plan_summary.footnotes);\n  }\n}\n\nfunction PlanDetailsComponent_ng_container_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 17);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \" Featured Details \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, PlanDetailsComponent_ng_container_15_div_4_Template, 2, 2, \"div\", 9);\n    i0.ɵɵelementContainerEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.selectedBenefit == null ? null : ctx_r2.selectedBenefit.plan_summary == null ? null : ctx_r2.selectedBenefit.plan_summary.groups);\n  }\n}\n\nexport let PlanDetailsComponent = /*#__PURE__*/(() => {\n  class PlanDetailsComponent {\n    constructor(benefitsService, utilityService, eventManagerService) {\n      this.benefitsService = benefitsService;\n      this.utilityService = utilityService;\n      this.eventManagerService = eventManagerService;\n      this.content = planText.default;\n      this.subscription = new Subscription();\n    }\n\n    ngOnInit() {\n      this.isWeb = this.utilityService.getIsWeb();\n\n      if (!this.utilityService.getIsWeb()) {\n        this.fetchData();\n      }\n    }\n\n    fetchData() {\n      this.selectedBenefit = this.benefitsService.getSelectedBenefit();\n      this.dependentsData = this.selectedBenefit.planDetails.dependents;\n      this.getBenefitContent();\n      this.fetchCovExp();\n    }\n\n    getBenefitContent() {\n      return __awaiter(this, void 0, void 0, function* () {\n        return this.benefitsService.getBenefitContent().then(res => {\n          this.benefitContent = res;\n        });\n      });\n    }\n\n    fetchCovExp() {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.benefitsService.getCovExp().then(data => {\n          this.covExplanation = data;\n        });\n      });\n    }\n\n    ionViewDidEnter() {\n      if (this.utilityService.getIsWeb()) {\n        this.eventManagerService.createSubscriber(eventKeys.refreshCoveragePlansDetails).pipe(delay(100)).subscribe(() => {\n          this.fetchData();\n          this.utilityService.scrollToTop(this.topmostElement);\n        });\n      }\n    }\n\n    ngOnDestroy() {\n      this.subscription.unsubscribe();\n    }\n\n  }\n\n  PlanDetailsComponent.ɵfac = function PlanDetailsComponent_Factory(t) {\n    return new (t || PlanDetailsComponent)(i0.ɵɵdirectiveInject(i1.BenefitsService), i0.ɵɵdirectiveInject(i2.SharedUtilityService), i0.ɵɵdirectiveInject(i3.EventManagerService));\n  };\n\n  PlanDetailsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: PlanDetailsComponent,\n    selectors: [[\"app-plan-details\"]],\n    viewQuery: function PlanDetailsComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5, ElementRef);\n      }\n\n      if (rf & 2) {\n        let _t;\n\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.topmostElement = _t.first);\n      }\n    },\n    decls: 19,\n    vars: 11,\n    consts: [[3, \"ngClass\"], [1, \"outerContainer\", \"bg-color\"], [1, \"inner-container\"], [1, \"half-bg\"], [\"topmostElement\", \"\"], [1, \"basic-wrap\"], [\"size\", \"8\"], [1, \"ion-text-start\", \"display-name\"], [3, \"isLoading\"], [4, \"ngFor\", \"ngForOf\"], [\"size\", \"4\", 1, \"logo-c\"], [\"alt\", \"\", 3, \"src\"], [1, \"inputComponent\", 3, \"benefit\", \"coverageDeduct\"], [3, \"benefitId\"], [4, \"ngIf\"], [1, \"inputComponent\", 3, \"dependent\"], [1, \"inputComponent\", 3, \"covExp\", \"cType\"], [1, \"featured-header\"], [3, \"planSummaryGroup\", \"notes\"]],\n    template: function PlanDetailsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵelementStart(1, \"ion-row\", 1);\n        i0.ɵɵelementStart(2, \"div\", 2);\n        i0.ɵɵelement(3, \"div\", 3, 4);\n        i0.ɵɵelementStart(5, \"ion-grid\", 5);\n        i0.ɵɵelementStart(6, \"ion-row\");\n        i0.ɵɵelementStart(7, \"ion-col\", 6);\n        i0.ɵɵelementStart(8, \"div\", 7);\n        i0.ɵɵelementStart(9, \"app-loading-text\", 8);\n        i0.ɵɵtemplate(10, PlanDetailsComponent_ng_container_10_Template, 2, 1, \"ng-container\", 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"ion-col\", 10);\n        i0.ɵɵelement(12, \"img\", 11);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(13, \"app-as-of\", 12);\n        i0.ɵɵelement(14, \"app-my-id-card\", 13);\n        i0.ɵɵtemplate(15, PlanDetailsComponent_ng_container_15_Template, 5, 1, \"ng-container\", 14);\n        i0.ɵɵelement(16, \"app-dependents\", 15);\n        i0.ɵɵelement(17, \"app-cov-explanations\", 16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(18, \"app-med-disclaimer\");\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngClass\", ctx.isWeb ? \"web-plans-details\" : \"mobile-plans-details\");\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"isLoading\", !ctx.covExplanation);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.covExplanation == null ? null : ctx.covExplanation.Benefit);\n        i0.ɵɵadvance(2);\n        i0.ɵɵpropertyInterpolate(\"src\", ctx.benefitContent == null ? null : ctx.benefitContent.iconMapping[ctx.selectedBenefit == null ? null : ctx.selectedBenefit.type], i0.ɵɵsanitizeUrl);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"benefit\", ctx.selectedBenefit)(\"coverageDeduct\", ctx.deductible);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"benefitId\", ctx.selectedBenefit == null ? null : ctx.selectedBenefit.id);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", (ctx.selectedBenefit == null ? null : ctx.selectedBenefit.plan_summary == null ? null : ctx.selectedBenefit.plan_summary.groups.length) > 0 && (ctx.selectedBenefit == null ? null : ctx.selectedBenefit.plan_summary == null ? null : ctx.selectedBenefit.plan_summary.groups[0] == null ? null : ctx.selectedBenefit.plan_summary.groups[0].items.length) > 0);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"dependent\", ctx.dependentsData);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"covExp\", ctx.covExplanation)(\"cType\", ctx.selectedBenefit == null ? null : ctx.selectedBenefit.type);\n      }\n    },\n    directives: [i4.NgClass, i5.IonRow, i5.IonGrid, i5.IonCol, i6.LoadingTextComponent, i4.NgForOf, i7.AsOfComponent, i8.MyIdCardComponent, i4.NgIf, i9.DependentsComponent, i10.CovExplanationsComponent, i11.MedDisclaimerComponent, i12.CovExtraDetailsComponent],\n    styles: [\".outerContainer[_ngcontent-%COMP%]   .half-bg[_ngcontent-%COMP%]{height:50vh;background-color:var(--primary-colors-voya-white);position:absolute;top:0;left:0;width:100%;z-index:0}.outerContainer[_ngcontent-%COMP%]   .featured-header[_ngcontent-%COMP%]{flex-grow:0;font-size:18px;font-weight:700;line-height:1.33;letter-spacing:.03px;color:var(--primary-colors-voya-black);padding:0 25px}.outerContainer[_ngcontent-%COMP%]   .basic-wrap[_ngcontent-%COMP%]{padding:30px 20px 20px}.outerContainer[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]{font-size:18px;font-weight:bold;text-align:left;color:var(--primary-colors-voya-black)}.outerContainer[_ngcontent-%COMP%]   .display-name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.outerContainer[_ngcontent-%COMP%]   .policy-label[_ngcontent-%COMP%]{margin-bottom:10px}.outerContainer[_ngcontent-%COMP%]   .policy-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.outerContainer[_ngcontent-%COMP%]   .policy-number[_ngcontent-%COMP%]{margin-bottom:0}.outerContainer[_ngcontent-%COMP%]   .policy-number[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;margin:6px 0 0;color:var(--primary-colors-voya-black)}.outerContainer[_ngcontent-%COMP%]   .policy-number[_ngcontent-%COMP%]   p.policyId[_ngcontent-%COMP%]{font-weight:bold;margin-top:6px;font-size:20px}.outerContainer[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{display:block;background-color:var(--white)}.logo-c[_ngcontent-%COMP%]{margin-bottom:0;display:inline-flex;justify-content:flex-end}.logo-c[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50px;height:50px}.inputComponent[_ngcontent-%COMP%]{position:relative}.web-plans-details[_ngcontent-%COMP%]   .inner-container[_ngcontent-%COMP%]{margin-bottom:80px;overflow-y:auto;margin-top:1px;width:100%}.web-plans-details[_ngcontent-%COMP%]   .inner-container[_ngcontent-%COMP%]   .basic-wrap[_ngcontent-%COMP%]{padding-left:36px;padding-right:36px}.web-plans-details[_ngcontent-%COMP%]   .inner-container[_ngcontent-%COMP%]   .basic-wrap[_ngcontent-%COMP%]   .logo-c[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:62px;height:62px}.web-plans-details[_ngcontent-%COMP%]   .inner-container[_ngcontent-%COMP%]   .featured-header[_ngcontent-%COMP%]{margin-top:20px;padding:0 35px}.mobile-plans-details[_ngcontent-%COMP%]   .inner-container[_ngcontent-%COMP%]{width:100%}\"]\n  });\n  return PlanDetailsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}