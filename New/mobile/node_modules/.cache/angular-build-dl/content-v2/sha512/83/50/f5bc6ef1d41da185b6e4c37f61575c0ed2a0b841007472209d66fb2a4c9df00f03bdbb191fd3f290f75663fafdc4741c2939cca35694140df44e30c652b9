"use strict";(self.webpackChunkmyvoyage=self.webpackChunkmyvoyage||[]).push([[8667,2810],{47132:function(e,t,i){i.d(t,{V:function(){return u}});var n=i(68384),o=(()=>{return(e=o||(o={})).Accessibility="accessibility",e.Account="account",e.AirplaneMode="airplane_mode",e.Apn="apn",e.ApplicationDetails="application_details",e.ApplicationDevelopment="application_development",e.Application="application",e.AppNotification="app_notification",e.BatteryOptimization="battery_optimization",e.Bluetooth="bluetooth",e.Captioning="captioning",e.Cast="cast",e.DataRoaming="data_roaming",e.Date="date",e.Display="display",e.Dream="dream",e.Home="home",e.Keyboard="keyboard",e.KeyboardSubType="keyboard_subtype",e.Locale="locale",e.Location="location",e.ManageApplications="manage_applications",e.ManageAllApplications="manage_all_applications",e.MemoryCard="memory_card",e.Network="network",e.NfcSharing="nfcsharing",e.NfcPayment="nfc_payment",e.NfcSettings="nfc_settings",e.Print="print",e.Privacy="privacy",e.QuickLaunch="quick_launch",e.Search="search",e.Security="security",e.Settings="settings",e.ShowRegulatoryInfo="show_regulatory_info",e.Sound="sound",e.Storage="storage",e.Sync="sync",e.Usage="usage",e.UserDictionary="user_dictionary",e.VoiceInput="voice_input",e.Wifi="wifi",e.WifiIp="wifi_ip",e.Wireless="wireless",o;var e})(),r=(()=>{return(e=r||(r={})).About="about",e.App="app",e.AutoLock="autoLock",e.Bluetooth="bluetooth",e.DateTime="dateTime",e.FaceTime="facetime",e.General="general",e.Keyboard="keyboard",e.ICloud="iCloud",e.ICloudStorageBackup="iCloudStorageBackup",e.International="international",e.LocationServices="locationServices",e.Music="music",e.Notes="notes",e.Notifications="notifications",e.Phone="phone",e.Photos="photos",e.ManagedConfigurationList="managedConfigurationList",e.Reset="reset",e.Ringtone="ringtone",e.Sounds="sounds",e.SoftwareUpdate="softwareUpdate",e.Store="store",e.Tracking="tracking",e.Wallpaper="wallpaper",e.WiFi="wifi",e.Tethering="tethering",e.DoNotDisturb="doNotDisturb",r;var e})();const a=(0,n.fo)("NativeSettings",{web:()=>i.e(8124).then(i.bind(i,68124)).then(e=>new e.NativeSettingsWeb)});var c=i(57700),s=i(47823),l=i(43294),g=i(38583);function p(e,t){if(1&e&&(c.TgZ(0,"p",7),c._uU(1),c.qZA()),2&e){const e=c.oxw();c.xp6(1),c.Oqu(e.description)}}function d(e,t){if(1&e){const e=c.EpF();c.TgZ(0,"ion-button",8),c.NdJ("click",function(){return c.CHM(e),c.oxw().closeModal()}),c._uU(1),c.qZA()}if(2&e){const e=c.oxw();c.xp6(1),c.hij(" ",e.noText," ")}}let u=(()=>{class e{constructor(e,t){this.modalController=e,this.benefitService=t,this.delete=!1,this.nativeSettings=a}deleteCard(){this.delete&&this.benefitService.deleteMedicalCard(),this.redirectToSetting&&this.nativeSettings.open({optionAndroid:o.ApplicationDetails,optionIOS:r.App}),this.closeModal()}closeModal(){this.modalController.dismiss()}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(s.IN),c.Y36(l.d))},e.\u0275cmp=c.Xpm({type:e,selectors:[["ng-component"]],inputs:{delete:"delete",yesText:"yesText",noText:"noText",description:"description",header:"header",redirectToSetting:"redirectToSetting"},decls:13,vars:4,consts:[[1,"alert-dialog"],["automation-id","close-btn",1,"x-button",3,"click"],["src","assets/icon/exit.svg","alt","Close dialog"],[1,"title-message"],["class","description-message",4,"ngIf"],["name","submit","shape","round","expand","block","type","submit","color","btncolor","automation-id","yes-btn",1,"font-18","save-button",3,"click"],["class","cancel-button","automation-id","no-btn",3,"click",4,"ngIf"],[1,"description-message"],["automation-id","no-btn",1,"cancel-button",3,"click"]],template:function(e,t){1&e&&(c.TgZ(0,"ion-card",0),c.TgZ(1,"ion-card-header"),c.TgZ(2,"ion-card-title"),c.TgZ(3,"span",1),c.NdJ("click",function(){return t.closeModal()}),c._UZ(4,"img",2),c.qZA(),c.qZA(),c.qZA(),c.TgZ(5,"ion-card-content"),c.TgZ(6,"p",3),c._uU(7),c.qZA(),c.YNc(8,p,2,1,"p",4),c.TgZ(9,"div"),c.TgZ(10,"ion-button",5),c.NdJ("click",function(){return t.deleteCard()}),c._uU(11),c.qZA(),c.YNc(12,d,2,1,"ion-button",6),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.xp6(7),c.Oqu(t.header),c.xp6(1),c.Q6J("ngIf",t.description),c.xp6(3),c.hij(" ",t.yesText," "),c.xp6(1),c.Q6J("ngIf",t.noText))},directives:[s.PM,s.Zi,s.gZ,s.FN,g.O5,s.YG],styles:[".alert-dialog[_ngcontent-%COMP%]{margin:auto 20px}.alert-dialog[_ngcontent-%COMP%]   .x-button[_ngcontent-%COMP%]{float:right;cursor:pointer}.alert-dialog[_ngcontent-%COMP%]   .save-button[_ngcontent-%COMP%]{width:120px;height:40px;margin:30px auto;font-size:16px;font-weight:600;line-height:1.25;letter-spacing:.2px;text-align:center;color:var(--primary-colors-voya-white)}.alert-dialog[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:0 40px;text-align:center;color:var(--primary-colors-voya-black)}.alert-dialog[_ngcontent-%COMP%]   p.title-message[_ngcontent-%COMP%]{font-size:24px;font-weight:bold;margin-top:25px}.alert-dialog[_ngcontent-%COMP%]   p.description-message[_ngcontent-%COMP%]{margin-bottom:10px;margin-top:20px;font-size:14px}.alert-dialog[_ngcontent-%COMP%]   .cancel-button[_ngcontent-%COMP%]{width:100px;height:26.5px;font-size:18px;line-height:1.56;font-weight:normal;text-align:center;color:var(--primary-colors-voya-dark-blue);margin:20px auto 28px;text-decoration:underline;text-underline-offset:3px;display:block;--background: none;--box-shadow: none;--background-activated: none;--background-hover: none}"]}),e})()},52810:function(e,t,i){i.d(t,{J:function(){return a}});var n=i(57700),o=i(1747),r=i(89128);let a=(()=>{class e{constructor(e,t){this.headerTypeService=e,this.footerTypeService=t}publishType(e,t){this.headerTypeService.publish(e),this.footerTypeService.publish(t)}}return e.\u0275fac=function(t){return new(t||e)(n.LFG(o.v),n.LFG(r.c))},e.\u0275prov=n.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},807:function(e,t,i){i.d(t,{Y:function(){return _}});var n=i(97582),o=i(24269),r=i.t(o,2),a=i(15257),c=JSON.parse('{"notificationHeader":"Enable Notifications","notificationDescription":"By clicking yes, you will be redirecting to OS setting to turn on push notifications.","header":"Stay up to date","subHeader":"Get insights on your health care and finance delivered in real time by enabling notifications","saveButton":"Save","notnowButton":"Not Now","preferenceOptions":{"Push Notifications":false,"Text":false,"Email":true},"legalText":"if you select to receive text notification, you agree to receive text message to your mobile phone using an automated dialing system. We will periodically send recurring message to the mobile number provided. Messages frequency depends on requests made, alerts triggered and changes to your account. Please review our <a class=\'linkcolor underline\' href=\'https://www.voya.com/terms-use#sms\'>SMS/Text Message Term and Conditions </a>and <a class=\'linkcolor underline\' href=\'https://www.voya.com/privacy-notice\'>Privacy Notice </a>for more information. Message and data rates may apply. To opt-out of receiving future text messages from Voya, reply STOP to cancel at any time. For additional help, reply HELP."}'),s=i.t(c,2),l=i(42597),g=(()=>{return(e=g||(g={})).PUSH_NOTIFICATION="Push Notifications",e.TEXT="Text",e.EMAIL="Email",g;var e})(),p=i(57700),d=i(37364),u=i(27603),h=i(34639),f=i(88887),v=i(47823),m=i(38583),y=i(90665);function b(e,t){if(1&e){const e=p.EpF();p.ynx(0),p.TgZ(1,"ion-row",10),p.TgZ(2,"ion-col"),p.TgZ(3,"ion-text",11),p._uU(4),p.qZA(),p.qZA(),p.TgZ(5,"ion-col",12),p.TgZ(6,"ion-toggle",13),p.NdJ("ngModelChange",function(t){const i=p.CHM(e).$implicit;return p.oxw().pageText.preferenceOptions[i]=t})("ionChange",function(){const t=p.CHM(e).$implicit;return p.oxw().changeNotificationMethod(t)}),p.qZA(),p.qZA(),p.qZA(),p.BQk()}if(2&e){const e=t.$implicit,i=p.oxw();p.xp6(4),p.Oqu(e),p.xp6(2),p.MGl("id","toggle-",e,""),p.Q6J("disabled",!("Text"!==e||!i.noMobilePhone)||void 0)("ngModel",i.pageText.preferenceOptions[e])}}let T=(()=>{class e{constructor(e,t,i,n,o){this.utilityService=e,this.injector=t,this.notificationSettingService=i,this.nativeSettingsService=n,this.modalPresentationService=o,this.pageText=s,this.eventContent=r,this.eventTrackingService=this.injector.get(l.f)}onPopState(){this.closeDialog()}ngOnInit(){this.mobileContactId=this.preferenceObject.primaryEmail.partyContactId,this.emailContactId=this.preferenceObject.mobilePhone.partyContactId,this.isWeb=this.utilityService.getIsWeb(),this.setUpToggleValues()}ngAfterViewInit(){"mobilePhone"in this.preferenceObject||(this.noMobilePhone=!0)}changeNotificationMethod(e){return(0,n.mG)(this,void 0,void 0,function*(){"Push Notifications"===e&&!this.isWeb&&((yield this.nativeSettingsService.checkNotificationStatus())||(yield this.nativeSettingsService.createAndShowModal()))})}closeDialog(){this.trackpreferenceEvent(),this.modalPresentationService.dismiss()}setUpToggleValues(){return(0,n.mG)(this,void 0,void 0,function*(){(this.isWeb||(yield this.nativeSettingsService.checkNotificationStatus()))&&(this.pageText.preferenceOptions["Push Notifications"]=!0)})}objectKeys(e){return Object.keys(e)}savePreferenceInDB(){return(0,n.mG)(this,void 0,void 0,function*(){this.trackpreferenceEvent(),yield this.notificationSettingService.saveNotificationPrefs(this.setPreferenceObject()),this.modalPresentationService.dismiss()})}setPreferenceObject(){const e={insightsNotificationPrefs:{prefPushNotificationContactId:"DONT_PUSH",prefMobileContactId:"DONT_TEXT",prefEmailContactId:"DONT_EMAIL"},accountAlertPrefs:{prefPushNotificationContactId:"DONT_PUSH",prefMobileContactId:"DONT_TEXT",prefEmailContactId:"DONT_EMAIL"},highPrioitytNotificationPrefs:{prefPushNotificationContactId:"DONT_PUSH",prefMobileContactId:"DONT_TEXT",prefEmailContactId:"DONT_EMAIL"}};return this.objectKeys(this.pageText.preferenceOptions).forEach(t=>{switch(!0){case g.PUSH_NOTIFICATION===t&&this.pageText.preferenceOptions[g.PUSH_NOTIFICATION]:e.insightsNotificationPrefs.prefPushNotificationContactId=this.emailContactId,e.accountAlertPrefs.prefPushNotificationContactId=this.emailContactId,e.highPrioitytNotificationPrefs.prefPushNotificationContactId=this.emailContactId;break;case g.TEXT===t&&this.pageText.preferenceOptions[g.TEXT]:e.insightsNotificationPrefs.prefMobileContactId=this.mobileContactId,e.accountAlertPrefs.prefMobileContactId=this.mobileContactId,e.highPrioitytNotificationPrefs.prefMobileContactId=this.mobileContactId;break;case g.EMAIL===t&&this.pageText.preferenceOptions[g.EMAIL]:e.insightsNotificationPrefs.prefEmailContactId=this.emailContactId,e.accountAlertPrefs.prefEmailContactId=this.emailContactId,e.highPrioitytNotificationPrefs.prefEmailContactId=this.emailContactId}}),e}trackpreferenceEvent(){this.eventTrackingService.eventTracking({eventName:this.eventContent.eventTrackingPreference.eventName})}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(d.O),p.Y36(p.zs3),p.Y36(u.O),p.Y36(h.k),p.Y36(f.$))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-preference-selection"]],hostBindings:function(e,t){1&e&&p.NdJ("popstate",function(e){return t.onPopState(e)},!1,p.Jf7)},inputs:{preferenceObject:"preferenceObject"},decls:24,vars:6,consts:[[1,"header"],[1,"fix-width"],[1,"sub-header"],[1,"image"],["src","assets/icon/preferenceSelectionImage.svg","alt",""],[4,"ngFor","ngForOf"],[1,"save-button-row"],["color","btncolor","shape","round","expand","block","automation","preferenceSaveButton",3,"click"],["color","white","shape","round","expand","block","id","preferenceNotNowButton",1,"secondary",3,"click"],[3,"innerHTML"],[1,"toggle-row","fix-width"],[1,"preference-selection-text"],[1,"toggle-col"],[1,"preference-toggle",3,"disabled","id","ngModel","ngModelChange","ionChange"]],template:function(e,t){1&e&&(p.TgZ(0,"ion-grid"),p.TgZ(1,"ion-row"),p.TgZ(2,"ion-col"),p.TgZ(3,"ion-text",0),p._uU(4),p.qZA(),p.qZA(),p.qZA(),p.TgZ(5,"ion-row",1),p.TgZ(6,"ion-col"),p.TgZ(7,"ion-text",2),p._uU(8),p.qZA(),p.qZA(),p.qZA(),p.TgZ(9,"ion-row"),p.TgZ(10,"ion-col",3),p._UZ(11,"img",4),p.qZA(),p.qZA(),p.YNc(12,b,7,4,"ng-container",5),p.TgZ(13,"ion-row",6),p.TgZ(14,"ion-col"),p.TgZ(15,"ion-button",7),p.NdJ("click",function(){return t.savePreferenceInDB()}),p._uU(16),p.qZA(),p.qZA(),p.qZA(),p.TgZ(17,"ion-row"),p.TgZ(18,"ion-col"),p.TgZ(19,"ion-button",8),p.NdJ("click",function(){return t.closeDialog()}),p._uU(20),p.qZA(),p.qZA(),p.qZA(),p.TgZ(21,"ion-row"),p.TgZ(22,"ion-col"),p._UZ(23,"ion-text",9),p.qZA(),p.qZA(),p.qZA()),2&e&&(p.xp6(4),p.Oqu(t.pageText.header),p.xp6(4),p.Oqu(t.pageText.subHeader),p.xp6(4),p.Q6J("ngForOf",t.objectKeys(t.pageText.preferenceOptions)),p.xp6(4),p.Oqu(t.pageText.saveButton),p.xp6(4),p.Oqu(t.pageText.notnowButton),p.xp6(3),p.Q6J("innerHTML",t.pageText.legalText,p.oJD))},directives:[v.jY,v.Nd,v.wI,v.yW,m.sg,v.YG,v.ho,v.w,y.JJ,y.On],styles:["[_nghost-%COMP%]{background-color:var(--primary-colors-voya-white)}[_nghost-%COMP%]   ion-grid[_ngcontent-%COMP%]{padding-top:0;padding-top:var(--ion-safe-area-top, 0);margin:20px 20px 40px;display:flex;flex-direction:column}[_nghost-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{color:var(--primary-colors-voya-black)}[_nghost-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-text.header[_ngcontent-%COMP%]{font-size:24px;font-weight:bold;text-align:center;display:block}[_nghost-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-text.sub-header[_ngcontent-%COMP%]{font-size:18px;text-align:center;display:block}[_nghost-%COMP%]   ion-grid[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-bottom:45px}@media (min-width: 450px){[_nghost-%COMP%]   ion-grid[_ngcontent-%COMP%]   .fix-width[_ngcontent-%COMP%]{align-self:center;width:449px}}[_nghost-%COMP%]   ion-grid[_ngcontent-%COMP%]   .toggle-row[_ngcontent-%COMP%]{padding-bottom:12px}[_nghost-%COMP%]   ion-grid[_ngcontent-%COMP%]   .toggle-row[_ngcontent-%COMP%]   ion-toggle[_ngcontent-%COMP%]{float:right;margin-right:4px}[_nghost-%COMP%]   ion-grid[_ngcontent-%COMP%]   .toggle-row[_ngcontent-%COMP%]   .toggle-col[_ngcontent-%COMP%]{padding-top:10px}[_nghost-%COMP%]   ion-grid[_ngcontent-%COMP%]   .save-button-row[_ngcontent-%COMP%]{padding:20px 0 10px;border-top:1px solid var(--border-light-grey)}[_nghost-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{max-width:120px;margin:0 auto;height:40px;font-weight:normal;font-size:16px;--color: var(--primary-colors-voya-white);--background: var(--primary-colors-voya-dark-blue)}[_nghost-%COMP%]   ion-grid[_ngcontent-%COMP%]   ion-button.secondary[_ngcontent-%COMP%]{--background: var(--primary-colors-voya-white);--color: var(--primary-colors-voya-dark-blue);--border-color: var(--primary-colors-voya-dark-blue);--border-style: solid;--border-width: 2px;font-weight:600;margin-bottom:40px}"]}),e})();var C=i(21728);let S=(()=>{class e{constructor(e,t,i){this.authService=e,this.eventTrackingService=t,this.utilityService=i,this.utilityService.getIsWeb()||(this.mcSDK=window.MCCordovaPlugin,this.mcSDK.setOnNotificationOpenedListener(e=>(0,n.mG)(this,void 0,void 0,function*(){this.authService.didLaunchWithURL(e.values.url),this.captureCTAClickEvent(e.values.url)})))}setContactKey(e){this.mcSDK.setContactKey(e)}captureCTAClickEvent(e){return(0,n.mG)(this,void 0,void 0,function*(){const t={eventName:"CTAClick",passThruAttributes:[{attributeName:"source",attributeValue:"push"},{attributeName:"redirect_url",attributeValue:e}]};this.authChangeSubscription&&this.authChangeSubscription.unsubscribe(),(yield this.authService.isAuthenticated())?this.eventTrackingService.eventTracking(t):this.authChangeSubscription=this.authService.authenticationChange$.subscribe(e=>{e&&(this.eventTrackingService.eventTracking(t),this.authChangeSubscription.unsubscribe(),this.authChangeSubscription=void 0)})})}}return e.\u0275fac=function(t){return new(t||e)(p.LFG(C.$),p.LFG(l.f),p.LFG(d.O))},e.\u0275prov=p.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var P=i(83711),x=i(68853),O=i(54075),M=i(69587);let _=(()=>{class e{constructor(e,t,i,n,o,a,c,s,l,g){this.pushNotificationsService=e,this.eventTrackingService=t,this.qualtricsService=i,this.accountService=n,this.googleAnalyticsService=o,this.settingsService=a,this.modalController=c,this.accessService=s,this.utilityService=l,this.modalPresentationService=g,this.eventContent=r,this.contactKeySet=!1,this.stayUpToDateSeen=!1}trackHomeEvent(){this.eventTrackingService.eventTracking({eventName:this.eventContent.eventTrackingLogin.eventName})}setSFMCContactKey(){return(0,n.mG)(this,void 0,void 0,function*(){if(!this.contactKeySet){this.contactKeySet=!0;const e=yield this.eventTrackingService.getSubscriberKey();this.pushNotificationsService.setContactKey(e.subscriberKey)}})}setQualtricsProps(){this.accountService.getParticipant().subscribe(e=>{this.qualtricsService.setUserProperties(e)})}getPartyId(){return(0,n.mG)(this,void 0,void 0,function*(){const e=yield this.googleAnalyticsService.getQualtricsUser();return null==e?void 0:e.partyId})}getEmail(){var e;return(0,n.mG)(this,void 0,void 0,function*(){const t=yield this.settingsService.getNotificationSettings().pipe((0,a.q)(1)).toPromise();return null===(e=null==t?void 0:t.primaryEmail)||void 0===e?void 0:e.email})}initializeAppForUser(){this.setSFMCContactKey(),this.setQualtricsProps(),this.trackHomeEvent()}openPreferenceSettingModal(){return(0,n.mG)(this,void 0,void 0,function*(){if(!this.getStayUpToDateSeen()){this.setStayUpToDateSeen(!0);const e=yield this.accessService.checkMyvoyageAccess(),t=yield this.accessService.checkLastPreferenceUpdated();if(e.firstTimeLogin&&e.firstTimeLoginWeb||t.lastPreferenceResponse&&!("insightsNotificationPrefs"in t)&&!("highPrioitytNotificationPrefs"in t)&&!("accountAlertPrefs"in t)){const e=this.utilityService.getIsWeb()?"modal-scroll-fullscreen":"modal-fullscreen",i=yield this.modalController.create({component:T,componentProps:{preferenceObject:t},cssClass:e,swipeToClose:!1});this.modalPresentationService.present(i)}}})}setStayUpToDateSeen(e){this.stayUpToDateSeen=e,localStorage.setItem("stayUpToDateSeen",JSON.stringify(e))}getStayUpToDateSeen(){return void 0===this.stayUpToDateSeen&&(this.stayUpToDateSeen=JSON.parse(localStorage.getItem("stayUpToDateSeen")||"false")),this.stayUpToDateSeen}}return e.\u0275fac=function(t){return new(t||e)(p.LFG(S),p.LFG(l.f),p.LFG(P.A),p.LFG(x.B),p.LFG(O.$),p.LFG(u.O),p.LFG(v.IN),p.LFG(M.v),p.LFG(d.O),p.LFG(f.$))},e.\u0275prov=p.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},34639:function(e,t,i){i.d(t,{k:function(){return s}});var n=i(97582),o=(0,i(68384).fo)("PushPermission"),r=i(47132),a=i(57700),c=i(47823);let s=(()=>{class e{constructor(e){this.modalController=e,this.pushPermission=o}checkNotificationStatus(){return(0,n.mG)(this,void 0,void 0,function*(){return(yield this.pushPermission.checkPushPermissions()).result})}createAndShowModal(){return(0,n.mG)(this,void 0,void 0,function*(){yield this.showModal({yesText:"Yes",description:"By clicking yes, you will be redirected to OS settings to turn on push notifications.",header:"Enable Notifications",redirectToSetting:!0})})}showModal(e){return(0,n.mG)(this,void 0,void 0,function*(){(yield this.modalController.create({component:r.V,cssClass:"modal-not-fullscreen",swipeToClose:!1,componentProps:e})).present()})}}return e.\u0275fac=function(t){return new(t||e)(a.LFG(c.IN))},e.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},24269:function(e){e.exports=JSON.parse('{"eventTrackingLogin":{"eventName":"Login Inactivity"},"eventTrackingPreference":{"eventName":"PreferencesUpdated"},"eventTrackingMx":{"eventName":"Account Aggregated","updateInd":"Y"}}')}}]);