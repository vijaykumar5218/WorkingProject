{"version":3,"mappings":"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","names":["routes","path","component","_add_accounts_page__WEBPACK_IMPORTED_MODULE_0__","AddAccountsPageRoutingModule","imports","_angular_router__WEBPACK_IMPORTED_MODULE_3__","exports","AddAccountsPageModule","_angular_common__WEBPACK_IMPORTED_MODULE_5__","_angular_forms__WEBPACK_IMPORTED_MODULE_6__","_ionic_angular__WEBPACK_IMPORTED_MODULE_7__","_add_accounts_routing_module__WEBPACK_IMPORTED_MODULE_0__","_shared_lib_components_mx_widget_mx_widget_module__WEBPACK_IMPORTED_MODULE_2__","declarations","_add_accounts_page__WEBPACK_IMPORTED_MODULE_1__","AddAccountsPage","headerFooterService","mxService","sharedUtilityService","activatedRoute","journeyService","modalController","_shared_lib_services_mx_service_models_widget_type_enum__WEBPACK_IMPORTED_MODULE_5__","_constants_add_accounts_content_json__WEBPACK_IMPORTED_MODULE_4__","rxjs__WEBPACK_IMPORTED_MODULE_10__","isWeb","getIsWeb","contentView","nativeElement","offsetHeight","height","preInitHeight","activatedRouteSubscription","queryParams","subscribe","data","backRoute","subscription","add","publishType","type","_constants_headerType_enum__WEBPACK_IMPORTED_MODULE_9__","actionOption","headername","pageText","header","btnleft","buttonLeft","name","back","link","_shared_lib_modules_footer_constants_footerType_enum__WEBPACK_IMPORTED_MODULE_2__","addMXWindowEventListener","setIsMxUserByMyvoyageAccess","setSuppressHeaderFooter","dismiss","setRefreshMxAccount","getMxMemberConnect","getMxAccountConnect","removeMXWindowEventListener","unsubscribe","_services_header_footer_type_headerFooterType_service__WEBPACK_IMPORTED_MODULE_8__","_shared_lib_services_mx_service_mx_service__WEBPACK_IMPORTED_MODULE_3__","_shared_lib_services_utility_utility_service__WEBPACK_IMPORTED_MODULE_6__","_angular_router__WEBPACK_IMPORTED_MODULE_11__","_shared_lib_services_journey_journey_service__WEBPACK_IMPORTED_MODULE_7__","_ionic_angular__WEBPACK_IMPORTED_MODULE_12__","_angular_core__WEBPACK_IMPORTED_MODULE_13__","args","read","selector","template","__webpack_exports__"],"sources":["webpack:///shared-lib/modules/accounts/add-accounts/add-accounts-routing.module.ts","webpack:///shared-lib/modules/accounts/add-accounts/add-accounts.module.ts","webpack:///shared-lib/modules/accounts/add-accounts/add-accounts.page.ts","webpack:///shared-lib/modules/accounts/add-accounts/add-accounts.page.html"],"sourcesContent":["import {NgModule} from '@angular/core';\nimport {Routes, RouterModule} from '@angular/router';\n\nimport {AddAccountsPage} from './add-accounts.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AddAccountsPage,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AddAccountsPageRoutingModule {}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule} from '@angular/forms';\nimport {IonicModule} from '@ionic/angular';\nimport {AddAccountsPageRoutingModule} from './add-accounts-routing.module';\nimport {AddAccountsPage} from './add-accounts.page';\nimport {MXWidgetModule} from '@shared-lib/components/mx-widget/mx-widget.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AddAccountsPageRoutingModule,\n    MXWidgetModule,\n  ],\n  declarations: [AddAccountsPage],\n  exports: [AddAccountsPage],\n})\nexport class AddAccountsPageModule {}\n","import {\n  AfterViewInit,\n  Component,\n  ElementRef,\n  OnDestroy,\n  OnInit,\n  Input,\n  ViewChild,\n} from '@angular/core';\nimport {ViewWillEnter, ViewWillLeave, ModalController} from '@ionic/angular';\nimport {FooterType} from '@shared-lib/modules/footer/constants/footerType.enum';\nimport {MXRootObject} from '@shared-lib/services/mx-service/models/mx.model';\nimport {MXService} from '@shared-lib/services/mx-service/mx.service';\nimport * as PageText from './constants/add-accounts-content.json';\nimport {WidgetType} from '@shared-lib/services/mx-service/models/widget-type.enum';\nimport {SharedUtilityService} from '@shared-lib/services/utility/utility.service';\nimport {Subscription} from 'rxjs';\nimport {ActivatedRoute} from '@angular/router';\nimport {JourneyService} from '@shared-lib/services/journey/journey.service';\nimport {HeaderFooterTypeService} from '../../../services/header-footer-type/headerFooterType.service';\nimport {HeaderType} from '../../../constants/headerType.enum';\n\n@Component({\n  selector: 'app-add-accounts',\n  styleUrls: ['./add-accounts.page.scss'],\n  templateUrl: './add-accounts.page.html',\n})\nexport class AddAccountsPage\n  implements OnInit, ViewWillEnter, ViewWillLeave, OnDestroy, AfterViewInit {\n  @Input() showCancel: boolean;\n  @Input() preInitHeight: string;\n  readonly widgetType = WidgetType;\n  pageText = (PageText as any).default;\n  height: string;\n  isWeb: boolean;\n  mxWidgetUrl: MXRootObject;\n  @ViewChild('container', {read: ElementRef, static: true})\n  contentView: ElementRef;\n  private subscription = new Subscription();\n  private backRoute = '/account/summary';\n\n  constructor(\n    private headerFooterService: HeaderFooterTypeService,\n    private mxService: MXService,\n    private sharedUtilityService: SharedUtilityService,\n    private activatedRoute: ActivatedRoute,\n    private journeyService: JourneyService,\n    private modalController: ModalController\n  ) {\n    this.isWeb = this.sharedUtilityService.getIsWeb();\n  }\n\n  ngOnInit() {\n    if (this.contentView.nativeElement.offsetHeight) {\n      this.height = this.contentView.nativeElement.offsetHeight + 30 + 'px';\n    } else {\n      this.height = '750px';\n    }\n    if (this.preInitHeight) {\n      this.height = this.preInitHeight;\n    }\n\n    const activatedRouteSubscription = this.activatedRoute.queryParams.subscribe(\n      data => {\n        if (data.backRoute) {\n          this.backRoute = data.backRoute;\n        }\n      }\n    );\n    this.subscription.add(activatedRouteSubscription);\n  }\n\n  ionViewWillEnter(): void {\n    if (!this.isWeb) {\n      this.headerFooterService.publishType(\n        {\n          type: HeaderType.navbar,\n          actionOption: {\n            headername: this.pageText.header,\n            btnleft: true,\n            buttonLeft: {\n              name: this.pageText.back,\n              link: this.backRoute,\n            },\n          },\n        },\n        {type: FooterType.none}\n      );\n    }\n  }\n\n  ngAfterViewInit(): void {\n    this.mxService.addMXWindowEventListener();\n  }\n\n  closeModal() {\n    this.mxService.setIsMxUserByMyvoyageAccess(true);\n    this.sharedUtilityService.setSuppressHeaderFooter(false);\n    this.modalController.dismiss();\n  }\n\n  ionViewWillLeave(): void {\n    this.journeyService.setRefreshMxAccount('true');\n    this.mxService.getMxMemberConnect(true);\n    this.mxService.getMxAccountConnect(true);\n    this.mxService.removeMXWindowEventListener();\n  }\n\n  ngOnDestroy() {\n    this.subscription.unsubscribe();\n  }\n}\n","export default \"<div class=\\\"container\\\" #container>\\n  <div *ngIf=\\\"showCancel\\\">\\n    <a href=\\\"#\\\" id=\\\"cancel-link\\\" (click)=\\\"closeModal();\\\"\\n      >{{ pageText.cancelLink }}</a\\n    >\\n  </div>\\n  <app-mx-widget\\n    [widgetType]=\\\"widgetType.CONNECT\\\"\\n    [height]=\\\"height\\\"\\n    [tagName]=\\\"'mx-add-accounts'\\\"\\n    id=\\\"add-accounts-button\\\"\\n  ></app-mx-widget>\\n</div>\\n\";"]}