{"version":3,"file":"mobile_src_app_modules_features_logout_logout_module_ts-mobile_src_app_modules_shared_service-6d15f9-es2015.js","mappings":"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","sources":["./mobile/src/app/modules/features/logout/constants/endpoints.ts","./mobile/src/app/modules/features/logout/logout-routing.module.ts","./mobile/src/app/modules/features/logout/logout.module.ts","./mobile/src/app/modules/features/logout/logout.page.ts","./mobile/src/app/modules/features/logout/service/logout.service.ts","./mobile/src/app/modules/shared/service/alert-window/alert-window.service.ts","./shared-lib/services/header-footer-type/headerFooterType.service.ts","./mobile/src/app/modules/features/logout/logout.page.html"],"sourcesContent":["const contextRoot = 'myvoyage/public/';\n\n//Logout endpoints\nexport const endPoints = {\n  logoutContent: contextRoot + 'content/section/Logout',\n};\n","import {NgModule} from '@angular/core';\nimport {Routes, RouterModule} from '@angular/router';\n\nimport {LogoutPage} from './logout.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: LogoutPage,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class LogoutPageRoutingModule {}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule} from '@angular/forms';\n\nimport {IonicModule} from '@ionic/angular';\n\nimport {LogoutPageRoutingModule} from './logout-routing.module';\n\nimport {LogoutPage} from './logout.page';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule, LogoutPageRoutingModule],\n  declarations: [LogoutPage],\n})\nexport class LogoutPageModule {}\n","import {Component, OnInit} from '@angular/core';\nimport {LoadingController, ViewDidEnter, ViewWillEnter} from '@ionic/angular';\nimport {BaseService} from '@shared-lib/services/base/base-factory-provider';\nimport {FooterType} from '@shared-lib/modules/footer/constants/footerType.enum';\nimport {AuthenticationService} from '../../shared/service/authentication/authentication.service';\nimport * as landingText from './constants/logout-content.json';\nimport {LogoutContent} from './models/logout.model';\nimport {LogoutService} from './service/logout.service';\nimport {LandingService} from '../landing/service/landing.service';\nimport {HeaderType} from '@shared-lib/constants/headerType.enum';\nimport {HeaderFooterTypeService} from '@shared-lib/services/header-footer-type/headerFooterType.service';\n\n@Component({\n  selector: 'app-logout',\n  templateUrl: './logout.page.html',\n  styleUrls: ['./logout.page.scss'],\n})\nexport class LogoutPage implements ViewDidEnter, OnInit, ViewWillEnter {\n  pageText: Record<string, string> = landingText;\n  logoutContent: LogoutContent;\n  reloading = false;\n\n  constructor(\n    private authService: AuthenticationService,\n    private headerFooterService: HeaderFooterTypeService,\n    private logoutService: LogoutService,\n    private baseService: BaseService,\n    private loadingController: LoadingController,\n    private landingService: LandingService\n  ) {}\n\n  async ngOnInit() {\n    this.authService.authenticationChange$._subscribe(\n      this.authenticationChanged.bind(this)\n    );\n\n    this.logoutContent = await this.logoutService.getLogoutContent();\n  }\n\n  async authenticationChanged(isAuth: boolean) {\n    if (isAuth) {\n      const loading = await this.loadingController.create({\n        translucent: true,\n      });\n      loading.present();\n\n      const result = await this.landingService.checkMyvoyageAccess();\n\n      if (result.enableMyVoyage === 'Y') {\n        this.baseService.navigateByUrl('home');\n      } else {\n        this.baseService.navigateByUrl('no-access');\n      }\n\n      loading.dismiss();\n    }\n  }\n\n  ionViewWillEnter(): void {\n    this.reloading = this.authService.reloading;\n  }\n\n  async ionViewDidEnter() {\n    this.headerFooterService.publishType(\n      {type: HeaderType.none},\n      {type: FooterType.none}\n    );\n  }\n\n  async signInClicked() {\n    this.authService.openLogin();\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {BaseService} from '@shared-lib/services/base/base-factory-provider';\nimport {SharedUtilityService} from '@shared-lib/services/utility/utility.service';\nimport {endPoints} from '../constants/endpoints';\nimport {LogoutContent} from '../models/logout.model';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class LogoutService {\n  endPoints = endPoints;\n\n  constructor(\n    private baseService: BaseService,\n    private utilityService: SharedUtilityService\n  ) {\n    this.endPoints = this.utilityService.appendBaseUrlToEndpoints(endPoints);\n  }\n\n  async getLogoutContent(): Promise<LogoutContent> {\n    const result = await this.baseService.get(\n      this.endPoints.logoutContent,\n      false\n    );\n    return JSON.parse(result.SessionTimeoutContent);\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {Router} from '@angular/router';\nimport {AlertController} from '@ionic/angular';\nimport {AlertWindow} from '../../../../../../src/app/data/schema/AlterWindow';\nimport * as text from './constants/alertText.json';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class AlertWindowService {\n  pageText: Record<string, string> = text;\n\n  constructor(\n    public alertController: AlertController,\n    private router: Router\n  ) {}\n\n  async presentAlert(msg?: AlertWindow) {\n    const link = msg.link || '';\n    const alert = await this.alertController.create({\n      cssClass: msg.cssClass || 'alert-window',\n      header: msg.header || this.pageText.systemUnavailable,\n      subHeader: msg.subHeader || '',\n      message: msg.message || this.pageText.youMustUse,\n      buttons: msg.buttons || ['OK'],\n      backdropDismiss:\n        msg?.backdropDismiss !== undefined ? msg.backdropDismiss : true,\n    });\n\n    await alert.present();\n    if (link !== '') {\n      await alert.onDidDismiss().then(() => {\n        this.router.navigateByUrl('' + link);\n      });\n    } else {\n      await alert.onDidDismiss();\n    }\n  }\n\n  async createAndPresent(opts: any) {\n    const alert = await this.alertController.create(opts);\n    return alert.present();\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {FooterInfo} from '@shared-lib/modules/footer/models/footerInfo.model';\nimport {FooterTypeService} from '@shared-lib/modules/footer/services/footer-type/footer-type.service';\nimport {HeaderInfo} from '../../models/headerInfo.model';\nimport {HeaderTypeService} from '../header-type/header-type.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class HeaderFooterTypeService {\n  constructor(\n    private headerTypeService: HeaderTypeService,\n    private footerTypeService: FooterTypeService\n  ) {}\n\n  publishType(headerInfo: HeaderInfo, footerInfo: FooterInfo): void {\n    this.headerTypeService.publish(headerInfo);\n    this.footerTypeService.publish(footerInfo);\n  }\n}\n","export default \"<ion-grid class=\\\"p-0\\\" *ngIf=\\\"!reloading\\\">\\n  <ion-row>\\n    <ion-col>\\n      <img class=\\\"logo\\\" src=\\\"assets/icon/myVoyageNew.svg\\\" alt=\\\"myvoyage logo\\\" />\\n    </ion-col>\\n  </ion-row>\\n  <ion-row>\\n    <ion-col>\\n      <img class=\\\"lock-img\\\" src=\\\"{{logoutContent?.image_url}}\\\" alt=\\\"lock\\\" />\\n    </ion-col>\\n  </ion-row>\\n  <ion-row>\\n    <ion-col>\\n      <ion-text class=\\\"title\\\">\\n        {{logoutContent?.timeOutMessage}}\\n      </ion-text>\\n    </ion-col>\\n  </ion-row>\\n  <ion-row>\\n    <ion-col>\\n      <ion-text class=\\\"desc1\\\">\\n        {{logoutContent?.timeOutMessage1}}\\n      </ion-text>\\n    </ion-col>\\n  </ion-row>\\n  <ion-row>\\n    <ion-col>\\n      <ion-text class=\\\"desc2\\\">\\n        {{logoutContent?.timeOutMessage2}}\\n      </ion-text>\\n    </ion-col>\\n  </ion-row>\\n  <ion-row class=\\\"p-0\\\">\\n    <ion-col class=\\\"p-0\\\">\\n      <ion-button\\n        id=\\\"sign-in-button\\\"\\n        (click)=\\\"signInClicked()\\\"\\n        class=\\\"sign-in\\\"\\n        name=\\\"submit\\\"\\n        shape=\\\"round\\\"\\n        expand=\\\"block\\\"\\n        type=\\\"submit\\\"\\n        color=\\\"btncolor\\\"\\n      >\\n        {{pageText.signIn}}\\n      </ion-button>\\n    </ion-col>\\n  </ion-row>\\n</ion-grid>\\n\";"],"names":[],"sourceRoot":"webpack:///"}