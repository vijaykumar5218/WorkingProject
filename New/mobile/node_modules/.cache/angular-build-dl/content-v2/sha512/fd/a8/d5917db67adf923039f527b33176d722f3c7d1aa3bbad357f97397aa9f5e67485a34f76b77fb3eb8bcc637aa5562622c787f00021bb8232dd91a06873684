"use strict";(self.webpackChunkmyvoyage=self.webpackChunkmyvoyage||[]).push([[6656],{6656:function(i,t,e){e.r(t),e.d(t,{EditDisplayNamePageModule:function(){return N}});var n=e(38583),a=e(90665),o=e(47823),s=e(93206),r=e(97582),c=e(39313),l=e(94184),p=e(65720),d=e.t(p,2),u=e(57700),h=e(1747),m=e(68853),g=e(95699),y=e(37364),v=e(7930);function b(i,t){if(1&i&&(u.TgZ(0,"ion-row"),u.TgZ(1,"ion-col"),u._UZ(2,"ion-icon",10),u.TgZ(3,"ion-text",11),u._uU(4),u.qZA(),u.qZA(),u.qZA()),2&i){const i=u.oxw();u.xp6(4),u.Oqu(i.displayText.errors.invalidDisplayName)}}const f=[{path:"",component:(()=>{class i{constructor(i,t,e,n,a,o,s){this.headerType=i,this.accountService=t,this.router=e,this.modalController=n,this.editDisplayNameService=a,this.utilityService=o,this.platformService=s,this.displayText=JSON.parse(JSON.stringify(d)).default,this.actionOption={headername:"Edit Display Name",btnleft:!0,btnright:!0,buttonLeft:{name:"",link:"settings/account-and-personal-info"},buttonRight:{name:"",link:"notification"}},this.displayNameVailid=!0,this.isWeb=this.utilityService.getIsWeb(),this.platformService.isDesktop().subscribe(i=>{this.isDesktop=i})}ionViewWillEnter(){this.headerType.publish({type:l.n.navbar,actionOption:this.actionOption}),this.fetchParticipant()}fetchParticipant(){this.subscription=this.accountService.getParticipant().subscribe(i=>{this.participantData=i})}cancel(){this.router.navigateByUrl(`/${this.isWeb&&!this.isDesktop?"more":"settings"}/account-and-personal-info`)}valueChanged(i){this.displayName=i.toString(),this.displayNameVailid=!(this.displayName.trim().length<1)}saveDisplayName(){return(0,r.mG)(this,void 0,void 0,function*(){const i=yield this.modalController.create({component:c.w,cssClass:"modal-not-fullscreen",swipeToClose:!1,componentProps:{titleMessage:this.displayText.alert.message,imageUrl:this.displayText.alert.imageUrl,saveFunction:()=>(0,r.mG)(this,void 0,void 0,function*(){return new Promise(i=>{this.editDisplayNameService.saveDisplayName(this.displayName).then(t=>{i(!(!t.displayName||t.displayName!=this.displayName))})})})}});return i.onDidDismiss().then(i=>{this.modalDismissed(i)}),i.present()})}modalDismissed(i){i.data.saved&&(this.participantData.displayName=this.displayName,this.accountService.setParticipant(this.participantData),this.cancel())}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return i.\u0275fac=function(t){return new(t||i)(u.Y36(h.v),u.Y36(m.B),u.Y36(s.F0),u.Y36(o.IN),u.Y36(g.$),u.Y36(y.O),u.Y36(v.m))},i.\u0275cmp=u.Xpm({type:i,selectors:[["app-edit-display-name"]],decls:20,vars:7,consts:[[1,"ion-no-margin","p-20"],[3,"ngClass"],[1,"header"],["id","editName","name","editName","type","text","clearInput","",1,"edit-name",3,"value","ionChange"],["editNameInput",""],[4,"ngIf"],[1,"mt-42"],["size","2"],["id","cancel-btn","name","submit","shape","round","expand","block","color","btncolor","fill","outline",1,"font-12",3,"click"],["id","save-btn","name","submit","shape","round","expand","block","color","btncolor","disabled","",1,"font-12",3,"click"],["src","assets/icon/warning.svg","alt","warning",1,"error-icon"],[1,"error"]],template:function(i,t){if(1&i){const i=u.EpF();u.TgZ(0,"ion-grid",0),u.TgZ(1,"div",1),u.TgZ(2,"ion-row"),u.TgZ(3,"ion-col"),u.TgZ(4,"div",2),u._uU(5),u.qZA(),u.qZA(),u.qZA(),u.TgZ(6,"ion-row"),u.TgZ(7,"ion-col"),u.TgZ(8,"ion-input",3,4),u.NdJ("ionChange",function(){u.CHM(i);const e=u.MAs(9);return t.valueChanged(e.value)}),u.qZA(),u.qZA(),u.qZA(),u.YNc(10,b,5,1,"ion-row",5),u.TgZ(11,"ion-row",6),u._UZ(12,"ion-col",7),u.TgZ(13,"ion-col"),u.TgZ(14,"ion-button",8),u.NdJ("click",function(){return t.cancel()}),u._uU(15),u.qZA(),u.qZA(),u.TgZ(16,"ion-col"),u.TgZ(17,"ion-button",9),u.NdJ("click",function(){return t.saveDisplayName()}),u._uU(18),u.qZA(),u.qZA(),u._UZ(19,"ion-col",7),u.qZA(),u.qZA(),u.qZA()}2&i&&(u.xp6(1),u.Q6J("ngClass",t.isWeb?"web-edit-display-name":"mobile-edit-display-name"),u.xp6(4),u.Oqu(t.displayText.nameLabel),u.xp6(3),u.Q6J("value",null==t.participantData?null:t.participantData.displayName),u.xp6(2),u.Q6J("ngIf",!t.displayNameVailid),u.xp6(5),u.hij("",t.displayText.button.cancel," "),u.xp6(2),u.uIk("disabled",!t.displayNameVailid),u.xp6(1),u.hij("",t.displayText.button.save," "))},directives:[o.jY,n.mk,o.Nd,o.wI,o.pK,o.j9,n.O5,o.YG,o.gu,o.yW],styles:["[_nghost-%COMP%]{background-color:var(--ion-color-white)}[_nghost-%COMP%]   .edit-name[_ngcontent-%COMP%]{border:1px solid var(--secondary-colors-medium-gray-2);border-radius:4px;width:auto;color:var(--primary-colors-voya-black);--padding-start: 16px;height:56px}[_nghost-%COMP%]   .error[_ngcontent-%COMP%]{color:var(--secondary-colors-error-red);margin-left:4px;vertical-align:top}[_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%]{width:22px;height:22px;margin-left:4px;fill:var(--secondary-colors-error-red)}[_nghost-%COMP%]   .error-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-color:var(--secondary-colors-error-red)!important}[_nghost-%COMP%]   .error-title[_ngcontent-%COMP%]{color:var(--secondary-colors-error-red)}[_nghost-%COMP%]   .web-edit-display-name[_ngcontent-%COMP%]{margin:20px}"]}),i})()}];let Z=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[s.Bz.forChild(f)],s.Bz]}),i})(),N=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=u.oAB({type:i}),i.\u0275inj=u.cJS({imports:[[n.ez,a.u5,o.Pc,Z]]}),i})()}}]);