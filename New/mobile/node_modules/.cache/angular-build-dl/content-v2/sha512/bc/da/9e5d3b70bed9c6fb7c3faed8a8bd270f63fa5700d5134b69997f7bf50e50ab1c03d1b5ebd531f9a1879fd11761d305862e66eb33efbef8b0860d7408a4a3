"use strict";(self.webpackChunkmyvoyage=self.webpackChunkmyvoyage||[]).push([[2398],{52398:function(e,t,n){n.r(t),n.d(t,{SavviModule:function(){return E}});var i=n(38583),s=n(47823),o=n(93206),r=n(64762),a=n(94184),c=n(2398),l=n(57700),v=n(88129),u=n(21728),h=n(37364),p=n(7935);let d=(()=>{class e{constructor(e,t,n,i){this.authService=e,this.utilityService=t,this.baseService=n,this.loadingController=i,this.tokenEndPoints=v.Ad,this.loginEndPoints=v.pQ,this.environment=this.utilityService.getEnvironment(),this.tokenEndPoints=this.utilityService.appendBaseUrlToEndpoints(v.Ad,this.environment.tokenBaseUrl),this.loginEndPoints=this.utilityService.appendBaseUrlToEndpoints(v.pQ,this.environment.loginBaseUrl)}generateSavviUrl(){return(0,r.mG)(this,void 0,void 0,function*(){if(this.loginEndPoints.savviSaml=this.loginEndPoints.savviSaml.replace("{savviBaseUrl}",this.environment.savviBaseUrl),this.utilityService.getIsWeb())return this.loginEndPoints.savviSaml;{const e=yield this.loadingController.create({translucent:!0});yield e.present();const t=yield this.authService.getAccessToken(),n={client_id:this.environment.authTokenExchangeClient,subject_token:t,subject_token_type:"access_token",audience:this.environment.ssoSamlUrl,grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",requested_token_type:"access_token",scope:"urn:voya:federation"},i=yield this.baseService.postUrlEncoded(this.tokenEndPoints.samlAuthToken,n,{});return e.dismiss(),this.loginEndPoints.savviSaml+i.access_token}})}}return e.\u0275fac=function(t){return new(t||e)(l.LFG(u.$),l.LFG(h.O),l.LFG(p.bQ),l.LFG(s.HT))},e.\u0275prov=l.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var m=n(1747),f=n(39075),y=n(89128);function g(e,t){if(1&e&&l._UZ(0,"iframe",1),2&e){const e=l.oxw();l.Q6J("src",e.savviUrl,l.uOi)}}const S=[{path:"",component:(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-savvi"]],decls:1,vars:0,template:function(e,t){1&e&&l._UZ(0,"ion-router-outlet")},directives:[s.jP],encapsulation:2}),e})(),children:[{path:"enrollment-guidance",component:(()=>{class e{constructor(e,t,n,i){this.savviService=e,this.headerType=t,this.sanitizer=n,this.footerType=i,this.actionOption={headername:"Dashboard",btnleft:!0,buttonLeft:{name:"",link:"back"}}}ngOnInit(){this.headerType.publish({type:a.n.navbar,actionOption:this.actionOption}),this.footerType.publish({type:c.v.none})}ionViewWillEnter(){return(0,r.mG)(this,void 0,void 0,function*(){this.savviUrl=this.sanitizer.bypassSecurityTrustResourceUrl(yield this.savviService.generateSavviUrl())})}}return e.\u0275fac=function(t){return new(t||e)(l.Y36(d),l.Y36(m.v),l.Y36(f.H7),l.Y36(y.c))},e.\u0275cmp=l.Xpm({type:e,selectors:[["app-enrollment-guidance"]],decls:1,vars:1,consts:[["title","Savvi Enrollment Guidance","allowfullscreen","",3,"src",4,"ngIf"],["title","Savvi Enrollment Guidance","allowfullscreen","",3,"src"]],template:function(e,t){1&e&&l.YNc(0,g,1,1,"iframe",0),2&e&&l.Q6J("ngIf",t.savviUrl)},directives:[i.O5],encapsulation:2}),e})()}]}];let k=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[o.Bz.forChild(S)],o.Bz]}),e})(),E=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=l.oAB({type:e}),e.\u0275inj=l.cJS({imports:[[i.ez,s.Pc,k]]}),e})()}}]);