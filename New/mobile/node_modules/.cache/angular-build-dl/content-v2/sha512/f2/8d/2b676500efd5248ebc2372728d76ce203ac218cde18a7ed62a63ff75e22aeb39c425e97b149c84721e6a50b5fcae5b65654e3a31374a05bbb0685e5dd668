{"version":3,"file":"shared-lib_modules_savvi_savvi_module_ts-es2015.js","mappings":"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","sources":["./shared-lib/modules/savvi/components/enrollment-guidance/enrollment-guidance.component.ts","./shared-lib/modules/savvi/savvi-routing.module.ts","./shared-lib/modules/savvi/savvi.component.ts","./shared-lib/modules/savvi/savvi.module.ts","./shared-lib/services/benefits/open-savvi/open-savvi.service.ts","./web/src/app/modules/shared/components/footer/footer.component.ts","./web/src/app/modules/shared/components/footer/footer.module.ts","./shared-lib/modules/savvi/components/enrollment-guidance/enrollment-guidance.component.html","./shared-lib/modules/savvi/savvi.component.html","./web/src/app/modules/shared/components/footer/footer.component.html"],"sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {HeaderType} from '@shared-lib/constants/headerType.enum';\nimport {ActionOptions} from '@shared-lib/models/ActionOptions.model';\nimport {OpenSavviService} from '@shared-lib/services/benefits/open-savvi/open-savvi.service';\nimport {HeaderTypeService} from '@shared-lib/services/header-type/header-type.service';\nimport {DomSanitizer, SafeResourceUrl} from '@angular/platform-browser';\nimport {FooterTypeService} from '@shared-lib/modules/footer/services/footer-type/footer-type.service';\nimport {FooterType} from '@shared-lib/modules/footer/constants/footerType.enum';\nimport {SharedUtilityService} from '@shared-lib/services/utility/utility.service';\n\n@Component({\n  selector: 'app-enrollment-guidance',\n  templateUrl: './enrollment-guidance.component.html',\n  styleUrls: ['enrollment-guidance.component.scss'],\n})\nexport class EnrollmentGuidanceComponent implements OnInit {\n  actionOption: ActionOptions = {\n    headername: 'Dashboard',\n    btnleft: true,\n    buttonLeft: {\n      name: '',\n      link: 'back',\n    },\n  };\n  savviUrl: SafeResourceUrl;\n  isWeb: boolean;\n\n  constructor(\n    private savviService: OpenSavviService,\n    private headerType: HeaderTypeService,\n    private sanitizer: DomSanitizer,\n    private footerType: FooterTypeService,\n    private utilityService: SharedUtilityService\n  ) {}\n\n  ngOnInit() {\n    this.headerType.publish({\n      type: HeaderType.navbar,\n      actionOption: this.actionOption,\n    });\n    this.footerType.publish({type: FooterType.none});\n    this.isWeb = this.utilityService.getIsWeb();\n  }\n\n  async ionViewWillEnter() {\n    this.savviUrl = this.sanitizer.bypassSecurityTrustResourceUrl(\n      await this.savviService.generateSavviUrl()\n    );\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {Routes, RouterModule} from '@angular/router';\nimport {EnrollmentGuidanceComponent} from './components/enrollment-guidance/enrollment-guidance.component';\nimport {SavviComponent} from './savvi.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SavviComponent,\n    children: [\n      {\n        path: 'enrollment-guidance',\n        component: EnrollmentGuidanceComponent,\n      },\n    ],\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SavviRoutingModule {}\n","import {Component} from '@angular/core';\n\n@Component({\n  selector: 'app-savvi',\n  templateUrl: './savvi.component.html',\n  styleUrls: [],\n})\nexport class SavviComponent {}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {IonicModule} from '@ionic/angular';\nimport {SavviRoutingModule} from './savvi-routing.module';\nimport {SavviComponent} from './savvi.component';\nimport {EnrollmentGuidanceComponent} from './components/enrollment-guidance/enrollment-guidance.component';\nimport {FooterModuleDesktop} from '@web/app/modules/shared/components/footer/footer.module';\n\n@NgModule({\n  imports: [CommonModule, IonicModule, SavviRoutingModule, FooterModuleDesktop],\n  declarations: [SavviComponent, EnrollmentGuidanceComponent],\n})\nexport class SavviModule {}\n","import {Injectable} from '@angular/core';\nimport {SharedUtilityService} from '@shared-lib/services/utility/utility.service';\nimport {BaseService} from '@shared-lib/services/base/base-factory-provider';\nimport {\n  loginEndPoints,\n  tokenEndPoints,\n} from '@shared-lib/services/benefits/constants/endpoints';\nimport {Environment} from '@shared-lib/models/environment.model';\nimport {AuthenticationService} from '@mobile/app/modules/shared/service/authentication/authentication.service';\nimport {QueryAccessToken} from '@shared-lib/services/benefits/open-savvi/models/queryAccessToken.model';\nimport {LoadingController} from '@ionic/angular';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class OpenSavviService {\n  public environment: Environment;\n  public tokenEndPoints = tokenEndPoints;\n  public loginEndPoints = loginEndPoints;\n\n  constructor(\n    private authService: AuthenticationService,\n    private utilityService: SharedUtilityService,\n    private baseService: BaseService,\n    private loadingController: LoadingController\n  ) {\n    this.environment = this.utilityService.getEnvironment();\n    this.tokenEndPoints = this.utilityService.appendBaseUrlToEndpoints(\n      tokenEndPoints,\n      this.environment.tokenBaseUrl\n    );\n    this.loginEndPoints = this.utilityService.appendBaseUrlToEndpoints(\n      loginEndPoints,\n      this.environment.loginBaseUrl\n    );\n  }\n\n  async generateSavviUrl(): Promise<string> {\n    this.loginEndPoints.savviSaml = this.loginEndPoints.savviSaml.replace(\n      '{savviBaseUrl}',\n      this.environment.savviBaseUrl\n    );\n    if (!this.utilityService.getIsWeb()) {\n      const loading = await this.loadingController.create({\n        translucent: true,\n      });\n      await loading.present();\n      const authToken = await this.authService.getAccessToken();\n      const request = {\n        client_id: this.environment.authTokenExchangeClient,\n        subject_token: authToken,\n        subject_token_type: 'access_token',\n        audience: this.environment.ssoSamlUrl,\n        grant_type: 'urn:ietf:params:oauth:grant-type:token-exchange',\n        requested_token_type: 'access_token',\n        scope: 'urn:voya:federation',\n      };\n      const queryAuthTokenResponse: QueryAccessToken = await this.baseService.postUrlEncoded(\n        this.tokenEndPoints.samlAuthToken,\n        request,\n        {}\n      );\n      loading.dismiss();\n      return (\n        this.loginEndPoints.savviSaml + queryAuthTokenResponse.access_token\n      );\n    } else {\n      return this.loginEndPoints.savviSaml;\n    }\n  }\n}\n","import {Component} from '@angular/core';\nimport {AccessService} from '@shared-lib/services/access/access.service';\nimport {Observable} from 'rxjs';\n\n@Component({\n  selector: 'app-footer-desktop',\n  templateUrl: 'footer.component.html',\n  styleUrls: ['footer.component.scss'],\n})\nexport class FooterComponentDesktop {\n  workplaceEnabled$: Observable<boolean>;\n  isReady: boolean;\n\n  constructor(private accessService: AccessService) {}\n\n  ngOnInit() {\n    this.workplaceEnabled$ = this.accessService.isMyWorkplaceDashboardEnabled();\n  }\n\n  ngAfterViewInit() {\n    this.isReady = true;\n  }\n}\n","import {CUSTOM_ELEMENTS_SCHEMA, NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {IonicModule} from '@ionic/angular';\nimport {FormsModule} from '@angular/forms';\nimport {FooterComponentDesktop} from './footer.component';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, IonicModule],\n  declarations: [FooterComponentDesktop],\n  exports: [FooterComponentDesktop],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA],\n})\nexport class FooterModuleDesktop {}\n","export default \"<ion-grid>\\n  <ion-row>\\n    <div>\\n      <iframe\\n        *ngIf=\\\"savviUrl\\\"\\n        [src]=\\\"savviUrl\\\"\\n        title=\\\"Savvi Enrollment Guidance\\\"\\n        allowfullscreen\\n      ></iframe>\\n\\n      <app-footer-desktop></app-footer-desktop>\\n    </div>\\n  </ion-row>\\n</ion-grid>\\n\";","export default \"<ion-router-outlet></ion-router-outlet>\\n\";","export default \"<voya-global-footer\\n  *ngIf=\\\"isReady\\\"\\n  [ngClass]=\\\"{'dashboard-footer': workplaceEnabled$ | async}\\\"\\n  useMyvoyageLinks\\n  hideLanguageSelector\\n></voya-global-footer>\\n\";"],"names":[],"sourceRoot":"webpack:///"}