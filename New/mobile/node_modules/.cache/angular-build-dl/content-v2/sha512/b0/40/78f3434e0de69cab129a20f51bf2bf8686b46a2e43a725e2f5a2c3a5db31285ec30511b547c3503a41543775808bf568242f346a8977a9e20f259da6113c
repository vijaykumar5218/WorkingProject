{"version":3,"file":"mobile_src_app_modules_features_landing_biometrics_biometrics_module_ts-es2015.js","mappings":"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","sources":["./mobile/src/app/modules/features/landing/biometrics/biometrics-routing.module.ts","./mobile/src/app/modules/features/landing/biometrics/biometrics.module.ts","./mobile/src/app/modules/features/landing/biometrics/biometrics.page.ts","./shared-lib/services/header-footer-type/headerFooterType.service.ts","./mobile/src/app/modules/features/landing/biometrics/biometrics.page.html"],"sourcesContent":["import {NgModule} from '@angular/core';\nimport {Routes, RouterModule} from '@angular/router';\n\nimport {BiometricsPage} from './biometrics.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: BiometricsPage,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class BiometricsPageRoutingModule {}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {FormsModule} from '@angular/forms';\n\nimport {IonicModule} from '@ionic/angular';\n\nimport {BiometricsPageRoutingModule} from './biometrics-routing.module';\n\nimport {BiometricsPage} from './biometrics.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    BiometricsPageRoutingModule,\n  ],\n  declarations: [BiometricsPage],\n})\nexport class BiometricsPageModule {}\n","import {Component, OnInit} from '@angular/core';\nimport {AlertController, Platform, ViewWillEnter} from '@ionic/angular';\nimport {FooterType} from '@shared-lib/modules/footer/constants/footerType.enum';\nimport {AuthenticationService} from '@mobile/app/modules/shared/service/authentication/authentication.service';\nimport {VaultService} from '../../../shared/service/authentication/vault.service';\nimport {HeaderFooterTypeService} from '@shared-lib/services/header-footer-type/headerFooterType.service';\nimport * as bioText from './constants/biometrics-content.json';\nimport {HeaderType} from '@shared-lib/constants/headerType.enum';\n\n@Component({\n  selector: 'app-biometrics',\n  templateUrl: './biometrics.page.html',\n  styleUrls: ['./biometrics.page.scss'],\n})\nexport class BiometricsPage implements ViewWillEnter, OnInit {\n  pageText: Record<string, string> = bioText;\n  bioIcon: string;\n  bioText: string;\n  faceIDEnabled = false;\n\n  constructor(\n    private vaultService: VaultService,\n    private headerFooterService: HeaderFooterTypeService,\n    private authService: AuthenticationService,\n    private alertController: AlertController,\n    private platform: Platform\n  ) {}\n\n  async ngOnInit(): Promise<void> {\n    this.bioIcon = await this.authService.getBiometricsIconName();\n    this.bioText = await this.authService.getBiometricsLabel();\n  }\n\n  ionViewWillEnter(): void {\n    this.headerFooterService.publishType(\n      {\n        type: HeaderType.navbar,\n        actionOption: {\n          displayLogo: true,\n          headername: '',\n        },\n      },\n      {type: FooterType.none}\n    );\n  }\n\n  async showError() {\n    const alert = await this.alertController.create({\n      header: this.pageText.biometricsError,\n      buttons: ['OK'],\n    });\n    alert.present();\n  }\n\n  async continueClicked() {\n    const result = await this.biometricsChanged();\n    if (!result) {\n      this.showError();\n      return;\n    }\n\n    if (this.faceIDEnabled) {\n      if (this.platform.is('ios')) {\n        await this.vaultService.lockVault();\n        await this.vaultService.unlockVault();\n      }\n\n      const isLocked = await this.vaultService.isLocked();\n      if (!isLocked) {\n        this.authService.navigateToLoggedInLanding();\n      }\n    } else {\n      this.authService.navigateToLoggedInLanding();\n    }\n  }\n\n  async biometricsChanged(): Promise<boolean> {\n    if (this.faceIDEnabled) {\n      const result = await this.vaultService.enableFaceID();\n      if (result) {\n        this.vaultService.setDefaultFaceIDDisabled(false);\n      } else {\n        this.faceIDEnabled = false;\n      }\n      return result;\n    } else {\n      this.vaultService.disableFaceID();\n      this.vaultService.setDefaultFaceIDDisabled(true);\n      return true;\n    }\n  }\n}\n","import {Injectable} from '@angular/core';\nimport {FooterInfo} from '@shared-lib/modules/footer/models/footerInfo.model';\nimport {FooterTypeService} from '@shared-lib/modules/footer/services/footer-type/footer-type.service';\nimport {HeaderInfo} from '../../models/headerInfo.model';\nimport {HeaderTypeService} from '../header-type/header-type.service';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class HeaderFooterTypeService {\n  constructor(\n    private headerTypeService: HeaderTypeService,\n    private footerTypeService: FooterTypeService\n  ) {}\n\n  publishType(headerInfo: HeaderInfo, footerInfo: FooterInfo): void {\n    this.headerTypeService.publish(headerInfo);\n    this.footerTypeService.publish(footerInfo);\n  }\n}\n","export default \"<ion-grid>\\n  <ion-row>\\n    <ion-col>\\n      <ion-text class=\\\"header\\\">{{pageText.header}}</ion-text>\\n    </ion-col>\\n  </ion-row>\\n  <ion-row>\\n    <ion-col>\\n      <ion-text class=\\\"sub-header\\\">{{pageText.subHeader}}</ion-text>\\n    </ion-col>\\n  </ion-row>\\n  <ion-row class=\\\"toggle-row\\\">\\n    <ion-col>\\n      <img src=\\\"{{bioIcon}}\\\" alt=\\\"biometrics\\\" /><ion-text class=\\\"bio-name\\\"\\n        >{{bioText}}</ion-text\\n      >\\n    </ion-col>\\n    <ion-col class=\\\"toggle-col\\\">\\n      <ion-toggle\\n        id=\\\"biometrics-toggle\\\"\\n        class=\\\"biometrics-toggle\\\"\\n        [(ngModel)]=\\\"faceIDEnabled\\\"\\n      ></ion-toggle>\\n    </ion-col>\\n  </ion-row>\\n  <ion-row class=\\\"continue-row\\\">\\n    <ion-col>\\n      <ion-button\\n        (click)=\\\"continueClicked()\\\"\\n        class=\\\"continue\\\"\\n        name=\\\"submit\\\"\\n        shape=\\\"round\\\"\\n        expand=\\\"block\\\"\\n        type=\\\"submit\\\"\\n        color=\\\"btncolor\\\"\\n        id=\\\"continue-btn\\\"\\n      >\\n        {{pageText.continue}}\\n      </ion-button>\\n    </ion-col>\\n  </ion-row>\\n</ion-grid>\\n\";"],"names":[],"sourceRoot":"webpack:///"}