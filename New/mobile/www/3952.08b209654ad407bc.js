"use strict";(self.webpackChunkmobile=self.webpackChunkmobile||[]).push([[3952],{73952:(E,g,n)=>{n.r(g),n.d(g,{EditEmailPageModule:()=>I});var d=n(88692),h=n(69900),a=n(61074),m=n(54963),p=n(8239),l=n(7026),v=n(94184),f=n(42070),y=n.t(f,2),t=n(66985),P=n(1747),C=n(95972),M=n(21086),O=n(4014),b=n(7930),T=n(474);function x(e,s){if(1&e&&(t.TgZ(0,"ion-row")(1,"ion-col"),t._UZ(2,"ion-icon",10),t.TgZ(3,"ion-text",11),t._uU(4),t.qZA()()()),2&e){const i=t.oxw();t.xp6(4),t.Oqu(i.displayText.errors.invalidEmail)}}const Z=[{path:"",component:(()=>{class e{constructor(i,o,c,r,u,A,U){this.headerType=i,this.router=o,this.modalController=c,this.accountInfoService=r,this.notificationService=u,this.utilityService=A,this.platformService=U,this.displayText=JSON.parse(JSON.stringify(y)).default,this.emailVailid=!0,this.actionOption={headername:this.displayText.headerName,btnleft:!0,btnright:!0,buttonLeft:{name:"",link:"settings/account-and-personal-info"},buttonRight:{name:"",link:"notification"}},this.isWeb=this.utilityService.getIsWeb(),this.platformService.isDesktop().subscribe(N=>{this.isDesktop=N})}ngOnInit(){this.headerType.publish({type:v.n.navbar,actionOption:this.actionOption}),this.fetchData()}fetchData(){this.subscription=this.notificationService.getNotificationSettings().subscribe(i=>{this.prefSettings=i,this.contactId=i.primaryEmail.partyContactId,this.email=i.primaryEmail.email})}cancel(){this.router.navigateByUrl(`/${this.isWeb&&!this.isDesktop?"more":"settings"}/account-and-personal-info`)}valueChanged(i){this.email=i?.toString(),this.emailVailid=this.utilityService.validateEmail(this.email)}saveEmail(){var i=this;return(0,p.Z)(function*(){const o=yield i.modalController.create({component:l.w,cssClass:"modal-not-fullscreen",componentProps:{titleMessage:i.displayText.alert.message,imageUrl:i.displayText.alert.imageUrl,saveFunction:(c=(0,p.Z)(function*(){return new Promise(r=>{i.accountInfoService.saveEmail(i.email,i.contactId).then(u=>{r(!!u)})})}),function(){return c.apply(this,arguments)})}});var c;return o.onDidDismiss().then(c=>{i.modalDismissed(c)}),o.present()})()}modalDismissed(i){i.data.saved&&(this.prefSettings.primaryEmail.email=this.email,this.notificationService.setNotificationSettings(this.prefSettings),this.cancel())}ngOnDestroy(){this.subscription.unsubscribe()}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(P.v),t.Y36(m.F0),t.Y36(a.IN),t.Y36(C.o),t.Y36(M.O),t.Y36(O.O),t.Y36(b.m))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-edit-email"]],decls:21,vars:7,consts:[[1,"ion-no-margin","p-20"],[3,"ngClass"],[1,"input-header"],["id","editEmail","name","editEmail","type","email","inputmode","email","pattern","email","autocomplete","email","clearInput","",1,"edit-email",3,"value","ionChange"],["editEmailInput",""],[4,"ngIf"],[1,"buttons"],["size","2"],["size","small","id","cancel-btn","name","submit","shape","round","expand","block","color","btncolor","fill","outline",1,"font-12",3,"click"],["size","small","id","save-btn","name","submit","shape","round","expand","block","color","btncolor","disabled","",1,"font-12",3,"click"],["src","assets/icon/warning.svg","alt","warning",1,"error-icon"],[1,"error"]],template:function(i,o){if(1&i){const c=t.EpF();t.TgZ(0,"ion-grid",0)(1,"div",1)(2,"ion-row")(3,"ion-col")(4,"div",2),t._uU(5),t.qZA()()(),t.TgZ(6,"ion-row")(7,"ion-col")(8,"ion-input",3,4),t.NdJ("ionChange",function(){t.CHM(c);const u=t.MAs(9);return t.KtG(o.valueChanged(u.value))}),t.qZA()()(),t.YNc(10,x,5,1,"ion-row",5),t.TgZ(11,"ion-row",6),t._UZ(12,"ion-col",7),t.TgZ(13,"ion-col")(14,"ion-button",8),t.NdJ("click",function(){return o.cancel()}),t._uU(15),t.qZA()(),t.TgZ(16,"ion-col")(17,"ion-button",9),t.NdJ("click",function(){return o.saveEmail()}),t._uU(18),t.qZA()(),t._UZ(19,"ion-col",7),t.qZA(),t._UZ(20,"app-legal"),t.qZA()()}2&i&&(t.xp6(1),t.Q6J("ngClass",o.isWeb?"web-edit-email":"mobile-edit-email"),t.xp6(4),t.Oqu(o.displayText.nameLabel),t.xp6(3),t.Q6J("value",o.email),t.xp6(2),t.Q6J("ngIf",!o.emailVailid),t.xp6(5),t.hij("",o.displayText.button.cancel," "),t.xp6(2),t.uIk("disabled",!o.emailVailid),t.xp6(1),t.hij("",o.displayText.button.save," "))},dependencies:[d.mk,d.O5,a.YG,a.wI,a.jY,a.gu,a.pK,a.Nd,a.yW,a.j9,T.N],styles:["[_nghost-%COMP%]{background-color:var(--ion-color-white)}[_nghost-%COMP%]   .sub-header[_ngcontent-%COMP%]{font-size:16px;font-weight:700;line-height:1.25;letter-spacing:.08px;margin-bottom:20px}[_nghost-%COMP%]   .edit-email[_ngcontent-%COMP%]{border:1px solid var(--secondary-colors-medium-gray-2);border-radius:4px;width:auto;color:var(--primary-colors-voya-black);--padding-start: 16px;height:56px}[_nghost-%COMP%]   .buttons[_ngcontent-%COMP%]{margin-top:40px}[_nghost-%COMP%]   .error[_ngcontent-%COMP%]{color:var(--secondary-colors-error-red);margin-left:4px;vertical-align:top}[_nghost-%COMP%]   .error-icon[_ngcontent-%COMP%]{width:22px;height:22px;margin-left:4px;fill:var(--secondary-colors-error-red)}[_nghost-%COMP%]   .error-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border-color:var(--secondary-colors-error-red)!important}[_nghost-%COMP%]   .error-title[_ngcontent-%COMP%]{color:var(--secondary-colors-error-red)}[_nghost-%COMP%]   .web-edit-email[_ngcontent-%COMP%]{margin:20px}"]}),e})()}];let S=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.Bz.forChild(Z),m.Bz]}),e})();var D=n(91659);let I=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[d.ez,h.u5,a.Pc,S,D.n]}),e})()},91659:(E,g,n)=>{n.d(g,{n:()=>p});var d=n(88692),h=n(69900),a=n(61074),m=n(66985);let p=(()=>{class l{}return l.\u0275fac=function(f){return new(f||l)},l.\u0275mod=m.oAB({type:l}),l.\u0275inj=m.cJS({imports:[d.ez,h.u5,a.Pc]}),l})()}}]);